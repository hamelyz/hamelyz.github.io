//
//  Copyright 2019 mParticle, Inc.
//
//  Licensed under the Apache License, Version 2.0 (the "License");
//  you may not use this file except in compliance with the License.
//  You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
//  Unless required by applicable law or agreed to in writing, software
//  distributed under the License is distributed on an "AS IS" BASIS,
//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//  See the License for the specific language governing permissions and
//  limitations under the License.
//
//  Uses portions of code from jQuery
//  jQuery v1.10.2 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license

window.mParticle = window.mParticle || {};;
window.mParticle.config = window.mParticle.config || {};;
window.mParticle.config.serviceUrl = 'jssdk.mparticle.com/v2/JS/';;
window.mParticle.config.secureServiceUrl = 'jssdks.mparticle.com/v2/JS/';;
window.mParticle.config.appName = window.mParticle.config.appName || "Bleacher Report v2";;
window.mParticle.config.minWebviewBridgeVersion = 2;
window.mParticle.config.workspaceToken = "34219B7B";;
window.mParticle.config.aliasMaxWindow = 90;
window.mParticle.config.kitConfigs = window.mParticle.config.kitConfigs || [];;
window.mParticle.config.pixelConfigs = window.mParticle.config.pixelConfigs || [];;
window.mParticle.config.flags = {"eventsV3":"100","eventBatchingIntervalMillis":"10000","offlineStorage":"100","directURLRouting":"False","audienceAPI":"False","cacheIdentity":"False","captureIntegrationSpecificIds":"False"};
window.mParticle.config.dataPlan = window.mParticle.config.dataPlan || {};;
window.mParticle.config.dataPlan.document = null;
var mParticle=function(){function p(n){"@babel/helpers - typeof";return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},p(n)}function sf(n,t){var i,r;if(p(n)!=="object"||n===null)return n;if(i=n[Symbol.toPrimitive],i!==undefined){if(r=i.call(n,t||"default"),p(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return(t==="string"?String:Number)(n)}function hf(n){var t=sf(n,"string");return p(t)==="symbol"?t:String(t)}function hr(n,t,i){return t=hf(t),t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function ui(n,t){function i(){this.constructor=n}if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ri(n,t);n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function ft(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})}function et(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f}function cf(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))}function g(n){var t=0,r,i;if(n===undefined||n===null)return 0;if(n=n.toString().toLowerCase(),Array.prototype.reduce)return n.split("").reduce(function(n,t){return n=(n<<5)-n+t.charCodeAt(0),n&n},0);if(n.length===0)return t;for(i=0;i<n.length;i++)r=n.charCodeAt(i),t=(t<<5)-t+r,t=t&t;return t}function ve(n){var i={},t,r;for(t in n)r=kr(rt(t)),i[r]=n[t];return i}function kr(n){switch(n){case s.Other:return"other";case s.CustomerId:return"customerid";case s.Facebook:return"facebook";case s.Twitter:return"twitter";case s.Google:return"google";case s.Microsoft:return"microsoft";case s.Yahoo:return"yahoo";case s.Email:return"email";case s.FacebookCustomAudienceId:return"facebookcustomaudienceid";case s.Other2:return"other2";case s.Other3:return"other3";case s.Other4:return"other4";case s.Other5:return"other5";case s.Other6:return"other6";case s.Other7:return"other7";case s.Other8:return"other8";case s.Other9:return"other9";case s.Other10:return"other10";case s.MobileNumber:return"mobile_number";case s.PhoneNumber2:return"phone_number_2";case s.PhoneNumber3:return"phone_number_3";default:return null}}function pe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n["default"]:n}function dr(n,t,r){var f,s,e,c,o,l;if(!n||!t||t.length<1)return null;var a=r.Identity.getCurrentUser(),v=[],u=null;for(f=0,s=t;f<s.length;f++)e=s[f],e&&(u=e,c=gi(e),c&&v.push(c));return u?(o=null,h(u.ConsentState)?h(a)||(o=a.getConsentState()):o=u.ConsentState,l={source_request_id:r._Helpers.generateUniqueId(),mpid:n,timestamp_unixtime_ms:(new Date).getTime(),environment:u.Debug?i.BatchEnvironmentEnum.development:i.BatchEnvironmentEnum.production,events:v,mp_deviceid:u.DeviceId,sdk_version:u.SDKVersion,application_info:{application_version:u.AppVersion,application_name:u.AppName,package:u.Package,sideloaded_kits_count:r._Store.sideloadedKitsCount},device_info:{platform:i.DeviceInformationPlatformEnum.web,screen_width:typeof window!="undefined"&&typeof screen!="undefined"?window.screen.width:0,screen_height:typeof window!="undefined"&&typeof screen!="undefined"?window.screen.height:0},user_attributes:u.UserAttributes,user_identities:de(u.UserIdentities),consent_state:we(o),integration_attributes:u.IntegrationAttributes},u.DataPlan&&u.DataPlan.PlanId&&(l.context={data_plan:{plan_id:u.DataPlan.PlanId,plan_version:u.DataPlan.PlanVersion||undefined}}),l):null}function we(n){if(h(n))return null;return{gdpr:be(n.getGDPRConsentState()),ccpa:ke(n.getCCPAConsentState())}}function be(n){var i,t;if(!n)return null;i={};for(t in n)n.hasOwnProperty(t)&&(i[t]={consented:n[t].Consented,hardware_id:n[t].HardwareId,document:n[t].ConsentDocument,timestamp_unixtime_ms:n[t].Timestamp,location:n[t].Location});return i}function ke(n){if(!n)return null;return{data_sale_opt_out:{consented:n.Consented,hardware_id:n.HardwareId,document:n.ConsentDocument,timestamp_unixtime_ms:n.Timestamp,location:n.Location}}}function de(t){var i,u,f,r;if(!t||!t.length)return null;for(i={},u=0,f=t;u<f.length;u++){r=f[u];switch(r.Type){case n.IdentityType.CustomerId:i.customer_id=r.Identity;break;case n.IdentityType.Email:i.email=r.Identity;break;case n.IdentityType.Facebook:i.facebook=r.Identity;break;case n.IdentityType.FacebookCustomAudienceId:i.facebook_custom_audience_id=r.Identity;break;case n.IdentityType.Google:i.google=r.Identity;break;case n.IdentityType.Microsoft:i.microsoft=r.Identity;break;case n.IdentityType.Other:i.other=r.Identity;break;case n.IdentityType.Other2:i.other_id_2=r.Identity;break;case n.IdentityType.Other3:i.other_id_3=r.Identity;break;case n.IdentityType.Other4:i.other_id_4=r.Identity;break;case n.IdentityType.Other5:i.other_id_5=r.Identity;break;case n.IdentityType.Other6:i.other_id_6=r.Identity;break;case n.IdentityType.Other7:i.other_id_7=r.Identity;break;case n.IdentityType.Other8:i.other_id_8=r.Identity;break;case n.IdentityType.Other9:i.other_id_9=r.Identity;break;case n.IdentityType.Other10:i.other_id_10=r.Identity;break;case n.IdentityType.MobileNumber:i.mobile_number=r.Identity;break;case n.IdentityType.PhoneNumber2:i.phone_number_2=r.Identity;break;case n.IdentityType.PhoneNumber3:i.phone_number_3=r.Identity}}return i}function gi(t){if(!t)return null;switch(t.EventDataType){case n.MessageType.AppStateTransition:return oo(t);case n.MessageType.Commerce:return fo(t);case n.MessageType.CrashReport:return eo(t);case n.MessageType.OptOut:return lo(t);case n.MessageType.PageEvent:return ao(t);case n.MessageType.PageView:return co(t);case n.MessageType.Profile:return null;case n.MessageType.SessionEnd:return so(t);case n.MessageType.SessionStart:return ho(t);case n.MessageType.UserAttributeChange:return po(t);case n.MessageType.UserIdentityChange:return wo(t)}return null}function ge(n){if(!n)return i.ProductActionActionEnum.unknown;switch(n){case d.AddToCart:return i.ProductActionActionEnum.addToCart;case d.AddToWishlist:return i.ProductActionActionEnum.addToWishlist;case d.Checkout:return i.ProductActionActionEnum.checkout;case d.CheckoutOption:return i.ProductActionActionEnum.checkoutOption;case d.Click:return i.ProductActionActionEnum.click;case d.Purchase:return i.ProductActionActionEnum.purchase;case d.Refund:return i.ProductActionActionEnum.refund;case d.RemoveFromCart:return i.ProductActionActionEnum.removeFromCart;case d.RemoveFromWishlist:return i.ProductActionActionEnum.removeFromWishlist;case d.ViewDetail:return i.ProductActionActionEnum.viewDetail;default:return i.ProductActionActionEnum.unknown}}function no(n){if(!n.ProductAction)return null;return{action:ge(n.ProductAction.ProductActionType),checkout_step:n.ProductAction.CheckoutStep,checkout_options:n.ProductAction.CheckoutOptions,transaction_id:n.ProductAction.TransactionId,affiliation:n.ProductAction.Affiliation,total_amount:n.ProductAction.TotalAmount,tax_amount:n.ProductAction.TaxAmount,shipping_amount:n.ProductAction.ShippingAmount,coupon_code:n.ProductAction.CouponCode,products:nr(n.ProductAction.ProductList)}}function nr(n){var r,i,u,t,f;if(!n||!n.length)return null;for(r=[],i=0,u=n;i<u.length;i++)t=u[i],f={id:t.Sku,name:t.Name,brand:t.Brand,category:t.Category,variant:t.Variant,total_product_amount:t.TotalAmount,position:t.Position,price:t.Price,quantity:t.Quantity,coupon_code:t.CouponCode,custom_attributes:t.Attributes},r.push(f);return r}function to(n){if(!n.PromotionAction)return null;return{action:n.PromotionAction.PromotionActionType,promotions:io(n.PromotionAction.PromotionList)}}function io(n){var r,i,u,t,f;if(!n||!n.length)return null;for(r=[],i=0,u=n;i<u.length;i++)t=u[i],f={id:t.Id,name:t.Name,creative:t.Creative,position:t.Position},r.push(f);return r}function ro(n){var i,t,r,u,f;if(!n.ProductImpressions)return null;for(i=[],t=0,r=n.ProductImpressions;t<r.length;t++)u=r[t],f={product_impression_list:u.ProductImpressionList,products:nr(u.ProductList)},i.push(f);return i}function uo(n){if(!n.ShoppingCart||!n.ShoppingCart.ProductList||!n.ShoppingCart.ProductList.length)return null;return{products:nr(n.ShoppingCart.ProductList)}}function fo(n){var r=tt(n),t={custom_flags:n.CustomFlags,product_action:no(n),promotion_action:to(n),product_impressions:ro(n),shopping_cart:uo(n),currency_code:n.CurrencyCode};return t=Object.assign(t,r),{event_type:i.EventTypeEnum.commerceEvent,data:t}}function eo(n){var r=tt(n),t={message:n.EventName};return t=Object.assign(t,r),{event_type:i.EventTypeEnum.crashReport,data:t}}function oo(n){var r=tt(n),t={application_transition_type:i.ApplicationStateTransitionEventDataApplicationTransitionTypeEnum.applicationInitialized,is_first_run:n.IsFirstRun,is_upgrade:!1,launch_referral:n.LaunchReferral};return t=Object.assign(t,r),{event_type:i.EventTypeEnum.applicationStateTransition,data:t}}function so(n){var r=tt(n),t={session_duration_ms:n.SessionLength};return t=Object.assign(t,r),{event_type:i.EventTypeEnum.sessionEnd,data:t}}function ho(n){var r=tt(n),t={};return t=Object.assign(t,r),{event_type:i.EventTypeEnum.sessionStart,data:t}}function co(n){var r=tt(n),t={custom_flags:n.CustomFlags,screen_name:n.EventName};return t=Object.assign(t,r),{event_type:i.EventTypeEnum.screenView,data:t}}function lo(n){var r=tt(n),t={is_opted_out:n.OptOut};return t=Object.assign(t,r),{event_type:i.EventTypeEnum.optOut,data:t}}function ao(n){var r=tt(n),t={custom_event_type:vo(n.EventCategory),custom_flags:n.CustomFlags,event_name:n.EventName};return t=Object.assign(t,r),{event_type:i.EventTypeEnum.customEvent,data:t}}function vo(t){switch(t){case n.EventType.Other:return i.CustomEventDataCustomEventTypeEnum.other;case n.EventType.Location:return i.CustomEventDataCustomEventTypeEnum.location;case n.EventType.Navigation:return i.CustomEventDataCustomEventTypeEnum.navigation;case n.EventType.Search:return i.CustomEventDataCustomEventTypeEnum.search;case n.EventType.Social:return i.CustomEventDataCustomEventTypeEnum.social;case n.EventType.Transaction:return i.CustomEventDataCustomEventTypeEnum.transaction;case n.EventType.UserContent:return i.CustomEventDataCustomEventTypeEnum.userContent;case n.EventType.UserPreference:return i.CustomEventDataCustomEventTypeEnum.userPreference;case n.EventType.Media:return i.CustomEventDataCustomEventTypeEnum.media;case n.CommerceEventType.ProductAddToCart:return i.CommerceEventDataCustomEventTypeEnum.addToCart;case n.CommerceEventType.ProductAddToWishlist:return i.CommerceEventDataCustomEventTypeEnum.addToWishlist;case n.CommerceEventType.ProductCheckout:return i.CommerceEventDataCustomEventTypeEnum.checkout;case n.CommerceEventType.ProductCheckoutOption:return i.CommerceEventDataCustomEventTypeEnum.checkoutOption;case n.CommerceEventType.ProductClick:return i.CommerceEventDataCustomEventTypeEnum.click;case n.CommerceEventType.ProductImpression:return i.CommerceEventDataCustomEventTypeEnum.impression;case n.CommerceEventType.ProductPurchase:return i.CommerceEventDataCustomEventTypeEnum.purchase;case n.CommerceEventType.ProductRefund:return i.CommerceEventDataCustomEventTypeEnum.refund;case n.CommerceEventType.ProductRemoveFromCart:return i.CommerceEventDataCustomEventTypeEnum.removeFromCart;case n.CommerceEventType.ProductRemoveFromWishlist:return i.CommerceEventDataCustomEventTypeEnum.removeFromWishlist;case n.CommerceEventType.ProductViewDetail:return i.CommerceEventDataCustomEventTypeEnum.viewDetail;case n.CommerceEventType.PromotionClick:return i.CommerceEventDataCustomEventTypeEnum.promotionClick;case n.CommerceEventType.PromotionView:return i.CommerceEventDataCustomEventTypeEnum.promotionView;default:return i.CustomEventDataCustomEventTypeEnum.unknown}}function tt(n){return{timestamp_unixtime_ms:n.Timestamp,session_uuid:n.SessionId,session_start_unixtime_ms:n.SessionStartDate,custom_attributes:n.EventAttributes,location:yo(n.Location),source_message_id:n.SourceMessageId}}function yo(n){return n&&Object.keys(n).length?{latitude:n.lat,longitude:n.lng}:null}function po(n){var r=tt(n),t={user_attribute_name:n.UserAttributeChanges.UserAttributeName,"new":n.UserAttributeChanges.New,old:n.UserAttributeChanges.Old,deleted:n.UserAttributeChanges.Deleted,is_new_attribute:n.UserAttributeChanges.IsNewAttribute};return t=b(b({},t),r),{event_type:i.EventTypeEnum.userAttributeChange,data:t}}function wo(n){var r=tt(n),t={"new":{identity_type:gr(n.UserIdentityChanges.New.IdentityType),identity:n.UserIdentityChanges.New.Identity||null,timestamp_unixtime_ms:n.Timestamp,created_this_batch:n.UserIdentityChanges.New.CreatedThisBatch},old:{identity_type:gr(n.UserIdentityChanges.Old.IdentityType),identity:n.UserIdentityChanges.Old.Identity||null,timestamp_unixtime_ms:n.Timestamp,created_this_batch:n.UserIdentityChanges.Old.CreatedThisBatch}};return t=Object.assign(t,r),{event_type:i.EventTypeEnum.userIdentityChange,data:t}}function gr(n){switch(n){case e.other:return i.IdentityTypeEnum.other;case e.customerId:return i.IdentityTypeEnum.customerId;case e.facebook:return i.IdentityTypeEnum.facebook;case e.twitter:return i.IdentityTypeEnum.twitter;case e.google:return i.IdentityTypeEnum.google;case e.microsoft:return i.IdentityTypeEnum.microsoft;case e.yahoo:return i.IdentityTypeEnum.yahoo;case e.email:return i.IdentityTypeEnum.email;case e.alias:return i.IdentityTypeEnum.alias;case e.facebookCustomAudienceId:return i.IdentityTypeEnum.facebookCustomAudienceId;case e.otherId2:return i.IdentityTypeEnum.otherId2;case e.otherId3:return i.IdentityTypeEnum.otherId3;case e.otherId4:return i.IdentityTypeEnum.otherId4;case e.otherId5:return i.IdentityTypeEnum.otherId5;case e.otherId6:return i.IdentityTypeEnum.otherId6;case e.otherId7:return i.IdentityTypeEnum.otherId7;case e.otherId8:return i.IdentityTypeEnum.otherId8;case e.otherId9:return i.IdentityTypeEnum.otherId9;case e.otherId10:return i.IdentityTypeEnum.otherId10;case e.mobileNumber:return i.IdentityTypeEnum.mobileNumber;case e.phoneNumber2:return i.IdentityTypeEnum.phoneNumber2;case e.phoneNumber3:return i.IdentityTypeEnum.phoneNumber3}}function ru(i,r){this.uploader=null;var u=this;this.queueEventForBatchUpload=function(n){if(!this.uploader){var r=rt(i._Helpers.getFeatureFlag(t.FeatureFlags.EventBatchingIntervalMillis));this.uploader=new ko(i,r)}this.uploader.queueEvent(n);i._Persistence.update()};this.processQueuedEvents=function(){var r,n=i.Identity.getCurrentUser(),t;n&&(r=n.getMPID());i._Store.eventQueue.length&&r&&(t=i._Store.eventQueue,i._Store.eventQueue=[],this.appendUserInfoToEvents(n,t),t.forEach(function(n){u.sendEventToServer(n)}))};this.appendUserInfoToEvents=function(n,t){t.forEach(function(t){t.MPID||i._ServerModel.appendUserInfo(n,t)})};this.sendEventToServer=function(u,f){var s=i._Helpers.extend({shouldUploadEvent:!0},f),o,e;if(i._Store.webviewBridgeEnabled){i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.LogEvent,JSON.stringify(u));return}if(e=i.Identity.getCurrentUser(),e&&(o=e.getMPID()),i._Store.requireDelay=i._Helpers.isDelayedByIntegration(i._preInit.integrationDelays,i._Store.integrationDelayTimeoutStart,Date.now()),!o||i._Store.requireDelay||!i._Store.configurationLoaded){i.Logger.verbose("Event was added to eventQueue. eventQueue will be processed once a valid MPID is returned or there is no more integration imposed delay.");i._Store.eventQueue.push(u);return}(this.processQueuedEvents(),h(u))||(s.shouldUploadEvent&&this.queueEventForBatchUpload(u),u.EventName!==n.MessageType.AppStateTransition&&(r&&r.kitBlockingEnabled&&(u=r.createBlockedEvent(u)),u&&i._Forwarders.sendEventToForwarders(u)))};this.sendBatchForwardingStatsToServer=function(n,t){var r,u;try{r=i._Helpers.createServiceUrl(i._Store.SDKConfig.v2SecureServiceUrl,i._Store.devToken);u={uuid:i._Helpers.generateUniqueId(),data:n};t&&(t.open("post",r+"/Forwarding"),t.send(JSON.stringify(u)))}catch(f){i.Logger.error("Error sending forwarding stats to mParticle servers.")}};this.initializeForwarderStatsUploader=function(){var t=i._Store.SDKConfig.v1SecureServiceUrl,r=i._Store.devToken,n="https://".concat(t).concat(r,"/Forwarding");return window.fetch?new vt(n):new yt(n)};this.prepareForwardingStats=function(n,r){var u,f=i._Forwarders.getForwarderStatsQueue();if(n&&n.isVisible){u={mid:n.id,esid:n.eventSubscriptionId,n:r.EventName,attrs:r.EventAttributes,sdk:r.SDKVersion,dt:r.EventDataType,et:r.EventCategory,dbg:r.Debug,ct:r.Timestamp,eec:r.ExpandedEventCount,dp:r.DataPlan};var e=i._Forwarders,o=e.sendSingleForwardingStatsToServer,s=e.setForwarderStatsQueue;i._Helpers.getFeatureFlag(t.FeatureFlags.ReportBatching)?(f.push(u),s(f)):o(u)}}}function ns(t){var i=this;this.canLog=function(){return t._Store.isEnabled&&(t._Store.devToken||t._Store.webviewBridgeEnabled)?!0:!1};this.getFeatureFlag=function(n){return t._Store.SDKConfig.flags.hasOwnProperty(n)?t._Store.SDKConfig.flags[n]:null};this.invokeCallback=function(n,r,u,f,e){n||t.Logger.warning("There is no callback provided");try{i.Validators.isFunction(n)&&n({httpCode:r,body:u,getUser:function(){return f?f:t.Identity.getCurrentUser()},getPreviousUser:function(){if(e)return t.Identity.getUser(e);var i=t.Identity.getUsers(),n=i.shift(),r=f||t.Identity.getCurrentUser();return n&&r&&n.getMPID()===r.getMPID()&&(n=i.shift()),n||null}})}catch(o){t.Logger.error("There was an error with your callback: "+o)}};this.invokeAliasCallback=function(n,r,u){n||t.Logger.warning("There is no callback provided");try{if(i.Validators.isFunction(n)){var f={httpCode:r};u&&(f.message=u);n(f)}}catch(e){t.Logger.error("There was an error with your callback: "+e)}};this.extend=function(){var o,e,u,r,s,h,t=arguments[0]||{},f=1,l=arguments.length,c=!1,n={hasOwn:Object.prototype.hasOwnProperty,class2type:{},type:function(t){return t==null?String(t):n.class2type[Object.prototype.toString.call(t)]||"object"},isPlainObject:function(t){if(!t||n.type(t)!=="object"||t.nodeType||n.isWindow(t))return!1;try{if(t.constructor&&!n.hasOwn.call(t,"constructor")&&!n.hasOwn.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}for(var i in t);return i===undefined||n.hasOwn.call(t,i)},isArray:Array.isArray||function(t){return n.type(t)==="array"},isFunction:function(t){return n.type(t)==="function"},isWindow:function(n){return n!=null&&n==n.window}};for(typeof t=="boolean"&&(c=t,t=arguments[1]||{},f=2),p(t)==="object"||n.isFunction(t)||(t={}),l===f&&(t=this,--f);f<l;f++)if((o=arguments[f])!=null)for(e in o)(u=t[e],r=o[e],t!==r)&&(c&&r&&(n.isPlainObject(r)||(s=n.isArray(r)))?(s?(s=!1,h=u&&n.isArray(u)?u:[]):h=u&&n.isPlainObject(u)?u:{},t[e]=i.extend(c,h,r)):r!==undefined&&(t[e]=r));return t};this.createServiceUrl=function(n,i){var u=window.mParticle&&t._Store.SDKConfig.forceHttps?"https://":window.location.protocol+"//",r;return r=t._Store.SDKConfig.forceHttps?"https://"+n:u+n,i&&(r=r+i),r};this.createXHR=function(n){var i;try{i=new window.XMLHttpRequest}catch(r){t.Logger.error("Error creating XMLHttpRequest object.")}if(i&&n&&"withCredentials"in i)i.onreadystatechange=n;else if(typeof XDomainRequest!="undefined"){t.Logger.verbose("Creating XDomainRequest object");try{i=new window.XDomainRequest;i.onload=n}catch(r){t.Logger.error("Error creating XDomainRequest object")}}return i};this.filterUserIdentities=function(t,r){var e=[],u,f,o;if(t&&Object.keys(t).length)for(u in t)t.hasOwnProperty(u)&&(f=n.IdentityType.getIdentityType(u),i.inArray(r,f)||(o={Type:f,Identity:t[u]},f===n.IdentityType.CustomerId?e.unshift(o):e.push(o)));return e};this.filterUserIdentitiesForForwarders=function(t,r){var f={},u,e;if(t&&Object.keys(t).length)for(u in t)t.hasOwnProperty(u)&&(e=l.hashUserIdentity(n.IdentityType.getIdentityType(u)),i.inArray(r,e)||(f[u]=t[u]));return f};this.filterUserAttributes=function(n,t){var u={},r,f;if(n&&Object.keys(n).length)for(r in n)n.hasOwnProperty(r)&&(f=l.hashUserAttribute(r),i.inArray(t,f)||(u[r]=n[r]));return u};this.isFilteredUserAttribute=function(n,t){var r=l.hashUserAttribute(n);return t&&i.inArray(t,r)};this.isEventType=function(t){for(var i in n.EventType)if(n.EventType.hasOwnProperty(i)&&n.EventType[i]===t)return!0;return!1};this.sanitizeAttributes=function(n,r){var f,u;if(!n||!i.isObject(n))return null;f={};for(u in n)n.hasOwnProperty(u)&&i.Validators.isValidAttributeValue(n[u])?f[u]=n[u]:t.Logger.warning("For '"+r+"', the corresponding attribute value of '"+u+"' must be a string, number, boolean, or null.");return f};this.isDelayedByIntegration=function(n,i,r){if(r-i>t._Store.SDKConfig.integrationDelayTimeout)return!1;for(var u in n){if(n[u]===!0)return!0;continue}return!1};this.createMainStorageName=function(n){return n?si.currentStorageName+"_"+n:si.currentStorageName};this.createProductStorageName=function(n){return n?si.currentStorageProductsName+"_"+n:si.currentStorageProductsName};this.converted=fe;this.findKeyInObject=bf;this.parseNumber=rt;this.inArray=wf;this.isObject=a;this.decoded=ue;this.parseStringOrNumber=ct;this.generateHash=g;this.generateUniqueId=yr;this.Validators=uu}function ts(n){var i=this;this.initializeSessionAttributes=function(n){var r=t.NativeSdkPaths.SetSessionAttribute,u=JSON.stringify({key:"$src_env",value:"webview"}),f=JSON.stringify({key:"$src_key",value:n});i.sendToNative(r,u);n&&i.sendToNative(r,f)};this.isBridgeV2Available=function(n){if(!n)return!1;var i=fu+"_"+n+"_v2",t=tr+"_"+n+"_v2";return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.hasOwnProperty(t)?!0:window.mParticle&&window.mParticle.uiwebviewBridgeName&&window.mParticle.uiwebviewBridgeName===t?!0:window.hasOwnProperty(i)?!0:!1};this.isWebviewEnabled=function(t,r){return(n._Store.bridgeV2Available=i.isBridgeV2Available(t),n._Store.bridgeV1Available=i.isBridgeV1Available(),r===2)?n._Store.bridgeV2Available:window.mParticle&&window.mParticle.uiwebviewBridgeName&&window.mParticle.uiwebviewBridgeName!==tr+"_"+t+"_v2"?!1:r<2?n._Store.bridgeV2Available||n._Store.bridgeV1Available:!1};this.isBridgeV1Available=function(){return n._Store.SDKConfig.useNativeSdk||window.mParticleAndroid||n._Store.SDKConfig.isIOS?!0:!1};this.sendToNative=function(t,r){if(n._Store.bridgeV2Available&&n._Store.SDKConfig.minWebviewBridgeVersion===2){i.sendViaBridgeV2(t,r,n._Store.SDKConfig.requiredWebviewBridgeName);return}if(n._Store.bridgeV2Available&&n._Store.SDKConfig.minWebviewBridgeVersion<2){i.sendViaBridgeV2(t,r,n._Store.SDKConfig.requiredWebviewBridgeName);return}if(n._Store.bridgeV1Available&&n._Store.SDKConfig.minWebviewBridgeVersion<2){i.sendViaBridgeV1(t,r);return}};this.sendViaBridgeV1=function(t,r){window.mParticleAndroid&&window.mParticleAndroid.hasOwnProperty(t)?(n.Logger.verbose(kt.InformationMessages.SendAndroid+t),window.mParticleAndroid[t](r)):n._Store.SDKConfig.isIOS&&(n.Logger.verbose(kt.InformationMessages.SendIOS+t),i.sendViaIframeToIOS(t,r))};this.sendViaIframeToIOS=function(n,t){var i=document.createElement("IFRAME");i.setAttribute("src","mp-sdk://"+n+"/"+encodeURIComponent(t));document.documentElement.appendChild(i);i.parentNode.removeChild(i)};this.sendViaBridgeV2=function(t,r,u){if(u){var h=fu+"_"+u+"_v2",e=window[h],f=tr+"_"+u+"_v2",o,s;if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers[f]&&(o=window.webkit.messageHandlers[f]),n.uiwebviewBridgeName===f&&(s=n[f]),e&&e.hasOwnProperty(t)){n.Logger.verbose(kt.InformationMessages.SendAndroid+t);e[t](r);return}o?(n.Logger.verbose(kt.InformationMessages.SendIOS+t),o.postMessage(JSON.stringify({path:t,value:r?JSON.parse(r):null}))):s&&(n.Logger.verbose(kt.InformationMessages.SendIOS+t),i.sendViaIframeToIOS(t,r))}}}function is(n){var t=this;this.attemptCookieSync=function(i,r,u){var f,s,h,c,o,e;r&&!n._Store.webviewBridgeEnabled&&n._Store.pixelConfigurations.forEach(function(l){e=!1;l.filteringConsentRuleValues&&l.filteringConsentRuleValues.values&&l.filteringConsentRuleValues.values.length&&(e=!0);f={moduleId:l.moduleId,frequencyCap:l.frequencyCap,pixelUrl:t.replaceAmp(l.pixelUrl),redirectUrl:l.redirectUrl?t.replaceAmp(l.redirectUrl):null,filteringConsentRuleValues:l.filteringConsentRuleValues};h=t.replaceMPID(f.pixelUrl,r);c=f.redirectUrl?t.replaceMPID(f.redirectUrl,r):"";o=h+encodeURIComponent(c);var a=n._Persistence.getPersistence();if(i&&i!==r){a&&a[r]&&(a[r].csd||(a[r].csd={}),t.performCookieSync(o,f.moduleId,r,a[r].csd,f.filteringConsentRuleValues,u,e));return}a[r]&&(a[r].csd||(a[r].csd={}),s=a[r].csd[f.moduleId.toString()]?a[r].csd[f.moduleId.toString()]:null,s?(new Date).getTime()>new Date(s).getTime()+f.frequencyCap*864e5&&t.performCookieSync(o,f.moduleId,r,a[r].csd,f.filteringConsentRuleValues,u,e):t.performCookieSync(o,f.moduleId,r,a[r].csd,f.filteringConsentRuleValues,u,e))})};this.replaceMPID=function(n,t){return n.replace("%%mpid%%",t)};this.replaceAmp=function(n){return n.replace(/&amp;/g,"&")};this.performCookieSync=function(t,i,r,u,f,e,o){if((!o||!e)&&n._Consent.isEnabledForUserConsent(f,n.Identity.getCurrentUser())){var s=document.createElement("img");n.Logger.verbose(eu.InformationMessages.CookieSync);s.onload=function(){u[i.toString()]=(new Date).getTime();n._Persistence.saveUserCookieSyncDatesToPersistence(r,u)};s.src=t}}}function rs(t){var i=this;this.initialize=function(){var r,n;t._Store.sessionId?(r=t._Store.SDKConfig.sessionTimeout*6e4,new Date>new Date(t._Store.dateLastEventSent.getTime()+r)?(i.endSession(),i.startNewSession()):(n=t._Persistence.getPersistence(),n&&!n.cu&&(t.Identity.identify(t._Store.SDKConfig.identifyRequest,t._Store.SDKConfig.identityCallback),t._Store.identifyCalled=!0,t._Store.SDKConfig.identityCallback=null))):i.startNewSession()};this.getSession=function(){return t.Logger.warning(vr("SessionManager.getSession()","SessionManager.getSessionId()")),this.getSessionId()};this.getSessionId=function(){return t._Store.sessionId};this.startNewSession=function(){var r,u,f;t.Logger.verbose(pt.InformationMessages.StartingNewSession);t._Helpers.canLog()?(t._Store.sessionId=t._Helpers.generateUniqueId().toUpperCase(),r=t.Identity.getCurrentUser(),u=r?r.getMPID():null,u&&(t._Store.currentSessionMPIDs=[u]),t._Store.sessionStartDate||(f=new Date,t._Store.sessionStartDate=f,t._Store.dateLastEventSent=f),i.setSessionTimer(),t._Store.identifyCalled||(t.Identity.identify(t._Store.SDKConfig.identifyRequest,t._Store.SDKConfig.identityCallback),t._Store.identifyCalled=!0,t._Store.SDKConfig.identityCallback=null),t._Events.logEvent({messageType:n.MessageType.SessionStart})):t.Logger.verbose(pt.InformationMessages.AbandonStartSession)};this.endSession=function(r){var f,e,o,u,s;if(t.Logger.verbose(pt.InformationMessages.StartingEndSession),r){t._Events.logEvent({messageType:n.MessageType.SessionEnd});t._Store.nullifySession();return}if(!t._Helpers.canLog()){t.Logger.verbose(pt.InformationMessages.AbandonEndSession);return}if(u=t._Persistence.getPersistence(),!u||u.gs&&!u.gs.sid){t.Logger.verbose(pt.InformationMessages.NoSessionToEnd);return}u.gs.sid&&t._Store.sessionId!==u.gs.sid&&(t._Store.sessionId=u.gs.sid);((f=u===null||u===void 0?void 0:u.gs)===null||f===void 0?void 0:f.les)&&(e=t._Store.SDKConfig.sessionTimeout*6e4,s=(new Date).getTime(),o=s-u.gs.les,o<e?i.setSessionTimer():(t._Events.logEvent({messageType:n.MessageType.SessionEnd}),t._Store.sessionStartDate=null,t._Store.nullifySession()))};this.setSessionTimer=function(){var n=t._Store.SDKConfig.sessionTimeout*6e4;t._Store.globalTimer=window.setTimeout(function(){i.endSession()},n)};this.resetSessionTimer=function(){t._Store.webviewBridgeEnabled||(t._Store.sessionId||i.startNewSession(),i.clearSessionTimeout(),i.setSessionTimer());i.startNewSessionIfNeeded()};this.clearSessionTimeout=function(){clearTimeout(t._Store.globalTimer)};this.startNewSessionIfNeeded=function(){if(!t._Store.webviewBridgeEnabled){var n=t._Persistence.getPersistence();!t._Store.sessionId&&n&&(n.sid?t._Store.sessionId=n.sid:i.startNewSession())}}}function us(t){var i=this;this.convertTransactionAttributesToProductAction=function(n,t){n.hasOwnProperty("Id")&&(t.TransactionId=n.Id);n.hasOwnProperty("Affiliation")&&(t.Affiliation=n.Affiliation);n.hasOwnProperty("CouponCode")&&(t.CouponCode=n.CouponCode);n.hasOwnProperty("Revenue")&&(t.TotalAmount=this.sanitizeAmount(n.Revenue,"Revenue"));n.hasOwnProperty("Shipping")&&(t.ShippingAmount=this.sanitizeAmount(n.Shipping,"Shipping"));n.hasOwnProperty("Tax")&&(t.TaxAmount=this.sanitizeAmount(n.Tax,"Tax"));n.hasOwnProperty("Step")&&(t.CheckoutStep=n.Step);n.hasOwnProperty("Option")&&(t.CheckoutOptions=n.Option)};this.getProductActionEventName=function(t){switch(t){case n.ProductActionType.AddToCart:return"AddToCart";case n.ProductActionType.AddToWishlist:return"AddToWishlist";case n.ProductActionType.Checkout:return"Checkout";case n.ProductActionType.CheckoutOption:return"CheckoutOption";case n.ProductActionType.Click:return"Click";case n.ProductActionType.Purchase:return"Purchase";case n.ProductActionType.Refund:return"Refund";case n.ProductActionType.RemoveFromCart:return"RemoveFromCart";case n.ProductActionType.RemoveFromWishlist:return"RemoveFromWishlist";case n.ProductActionType.ViewDetail:return"ViewDetail";case n.ProductActionType.Unknown:default:return"Unknown"}};this.getPromotionActionEventName=function(t){switch(t){case n.PromotionActionType.PromotionClick:return"PromotionClick";case n.PromotionActionType.PromotionView:return"PromotionView";default:return"Unknown"}};this.convertProductActionToEventType=function(i){switch(i){case n.ProductActionType.AddToCart:return n.CommerceEventType.ProductAddToCart;case n.ProductActionType.AddToWishlist:return n.CommerceEventType.ProductAddToWishlist;case n.ProductActionType.Checkout:return n.CommerceEventType.ProductCheckout;case n.ProductActionType.CheckoutOption:return n.CommerceEventType.ProductCheckoutOption;case n.ProductActionType.Click:return n.CommerceEventType.ProductClick;case n.ProductActionType.Purchase:return n.CommerceEventType.ProductPurchase;case n.ProductActionType.Refund:return n.CommerceEventType.ProductRefund;case n.ProductActionType.RemoveFromCart:return n.CommerceEventType.ProductRemoveFromCart;case n.ProductActionType.RemoveFromWishlist:return n.CommerceEventType.ProductRemoveFromWishlist;case n.ProductActionType.Unknown:return n.EventType.Unknown;case n.ProductActionType.ViewDetail:return n.CommerceEventType.ProductViewDetail;default:return t.Logger.error("Could not convert product action type "+i+" to event type"),null}};this.convertPromotionActionToEventType=function(i){switch(i){case n.PromotionActionType.PromotionClick:return n.CommerceEventType.PromotionClick;case n.PromotionActionType.PromotionView:return n.CommerceEventType.PromotionView;default:return t.Logger.error("Could not convert promotion action type "+i+" to event type"),null}};this.generateExpandedEcommerceName=function(n,t){return"eCommerce - "+n+" - "+(t?"Total":"Item")};this.extractProductAttributes=function(n,t){t.CouponCode&&(n["Coupon Code"]=t.CouponCode);t.Brand&&(n.Brand=t.Brand);t.Category&&(n.Category=t.Category);t.Name&&(n.Name=t.Name);t.Sku&&(n.Id=t.Sku);t.Price&&(n["Item Price"]=t.Price);t.Quantity&&(n.Quantity=t.Quantity);t.Position&&(n.Position=t.Position);t.Variant&&(n.Variant=t.Variant);n["Total Product Amount"]=t.TotalAmount||0};this.extractTransactionId=function(n,t){t.TransactionId&&(n["Transaction Id"]=t.TransactionId)};this.extractActionAttributes=function(n,t){i.extractTransactionId(n,t);t.Affiliation&&(n.Affiliation=t.Affiliation);t.CouponCode&&(n["Coupon Code"]=t.CouponCode);t.TotalAmount&&(n["Total Amount"]=t.TotalAmount);t.ShippingAmount&&(n["Shipping Amount"]=t.ShippingAmount);t.TaxAmount&&(n["Tax Amount"]=t.TaxAmount);t.CheckoutOptions&&(n["Checkout Options"]=t.CheckoutOptions);t.CheckoutStep&&(n["Checkout Step"]=t.CheckoutStep)};this.extractPromotionAttributes=function(n,t){t.Id&&(n.Id=t.Id);t.Creative&&(n.Creative=t.Creative);t.Name&&(n.Name=t.Name);t.Position&&(n.Position=t.Position)};this.buildProductList=function(n,t){return t?Array.isArray(t)?t:[t]:n.ShoppingCart.ProductList};this.createProduct=function(n,i,r,u,f,e,o,s,h,c){if(c=t._Helpers.sanitizeAttributes(c,n),typeof n!="string")return t.Logger.error("Name is required when creating a product"),null;if(!t._Helpers.Validators.isStringOrNumber(i))return t.Logger.error("SKU is required when creating a product, and must be a string or a number"),null;if(t._Helpers.Validators.isStringOrNumber(r))r=t._Helpers.parseNumber(r);else return t.Logger.error("Price is required when creating a product, and must be a string or a number"),null;return s&&!t._Helpers.Validators.isNumber(s)&&(t.Logger.error("Position must be a number, it will be set to null."),s=null),u=t._Helpers.Validators.isStringOrNumber(u)?t._Helpers.parseNumber(u):1,{Name:n,Sku:i,Price:r,Quantity:u,Brand:o,Variant:f,Category:e,Position:s,CouponCode:h,TotalAmount:u*r,Attributes:c}};this.createPromotion=function(n,i,r,u){return t._Helpers.Validators.isStringOrNumber(n)?{Id:n,Creative:i,Name:r,Position:u}:(t.Logger.error(dt.ErrorMessages.PromotionIdRequired),null)};this.createImpression=function(n,i){return typeof n!="string"?(t.Logger.error("Name is required when creating an impression."),null):i?{Name:n,Product:i}:(t.Logger.error("Product is required when creating an impression."),null)};this.createTransactionAttributes=function(n,i,r,u,f,e){return t._Helpers.Validators.isStringOrNumber(n)?{Id:n,Affiliation:i,CouponCode:r,Revenue:u,Shipping:f,Tax:e}:(t.Logger.error(dt.ErrorMessages.TransactionIdRequired),null)};this.expandProductImpression=function(r){var u=[];return r.ProductImpressions?(r.ProductImpressions.forEach(function(f){f.ProductList&&f.ProductList.forEach(function(e){var o=t._Helpers.extend(!1,{},r.EventAttributes),s,h;if(e.Attributes)for(s in e.Attributes)o[s]=e.Attributes[s];i.extractProductAttributes(o,e);f.ProductImpressionList&&(o["Product Impression List"]=f.ProductImpressionList);h=t._ServerModel.createEventObject({messageType:n.MessageType.PageEvent,name:i.generateExpandedEcommerceName("Impression"),data:o,eventType:n.EventType.Transaction});u.push(h)})}),u):u};this.expandCommerceEvent=function(n){return n?i.expandProductAction(n).concat(i.expandPromotionAction(n)).concat(i.expandProductImpression(n)):null};this.expandPromotionAction=function(r){var u=[],f;return r.PromotionAction?(f=r.PromotionAction.PromotionList,f.forEach(function(f){var e=t._Helpers.extend(!1,{},r.EventAttributes),o;i.extractPromotionAttributes(e,f);o=t._ServerModel.createEventObject({messageType:n.MessageType.PageEvent,name:i.generateExpandedEcommerceName(n.PromotionActionType.getExpansionName(r.PromotionAction.PromotionActionType)),data:e,eventType:n.EventType.Transaction});u.push(o)}),u):u};this.expandProductAction=function(r){var u=[],e,f,s,o;return r.ProductAction?(e=!1,r.ProductAction.ProductActionType===n.ProductActionType.Purchase||r.ProductAction.ProductActionType===n.ProductActionType.Refund?(f=t._Helpers.extend(!1,{},r.EventAttributes),f["Product Count"]=r.ProductAction.ProductList?r.ProductAction.ProductList.length:0,i.extractActionAttributes(f,r.ProductAction),r.CurrencyCode&&(f["Currency Code"]=r.CurrencyCode),s=t._ServerModel.createEventObject({messageType:n.MessageType.PageEvent,name:i.generateExpandedEcommerceName(n.ProductActionType.getExpansionName(r.ProductAction.ProductActionType),!0),data:f,eventType:n.EventType.Transaction}),u.push(s)):e=!0,o=r.ProductAction.ProductList,!o)?u:(o.forEach(function(f){var o=t._Helpers.extend(!1,r.EventAttributes,f.Attributes),s;e?i.extractActionAttributes(o,r.ProductAction):i.extractTransactionId(o,r.ProductAction);i.extractProductAttributes(o,f);s=t._ServerModel.createEventObject({messageType:n.MessageType.PageEvent,name:i.generateExpandedEcommerceName(n.ProductActionType.getExpansionName(r.ProductAction.ProductActionType)),data:o,eventType:n.EventType.Transaction});u.push(s)}),u):u};this.createCommerceEventObject=function(i,r){var u,f=t._Helpers.extend;return(t.Logger.verbose(dt.InformationMessages.StartingLogCommerceEvent),t._Helpers.canLog())?(u=t._ServerModel.createEventObject({messageType:n.MessageType.Commerce,sourceMessageId:r===null||r===void 0?void 0:r.sourceMessageId}),u.EventName="eCommerce - ",u.CurrencyCode=t._Store.currencyCode,u.ShoppingCart=[],u.CustomFlags=f(u.CustomFlags,i),u):(t.Logger.verbose(dt.InformationMessages.AbandonLogEvent),null)};this.sanitizeAmount=function(n,i){if(!t._Helpers.Validators.isStringOrNumber(n)){var r=[i,"must be of type number. A",p(n),"was passed. Converting to 0"].join(" ");return t.Logger.warning(r),0}return t._Helpers.parseNumber(n)}}function fs(n){var r={};for(var i in t.DefaultConfig)t.DefaultConfig.hasOwnProperty(i)&&(r[i]=t.DefaultConfig[i]);if(n)for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);for(i in t.DefaultBaseUrls)r[i]=t.DefaultBaseUrls[i];return r}function ou(n,i,r){var u=this,v=i._Helpers,w=v.createMainStorageName,b=v.createProductStorageName,k=i._NativeSdkHelpers.isWebviewEnabled,y={isEnabled:!0,sessionAttributes:{},currentSessionMPIDs:[],consentState:null,sessionId:null,isFirstRun:null,clientId:null,deviceId:null,devToken:null,serverSettings:{},dateLastEventSent:null,sessionStartDate:null,currentPosition:null,isTracking:!1,watchPositionId:null,cartProducts:[],eventQueue:[],currencyCode:null,globalTimer:null,context:null,configurationLoaded:!1,identityCallInFlight:!1,SDKConfig:{},nonCurrentUserMPIDs:{},identifyCalled:!1,isLoggedIn:!1,cookieSyncDates:{},integrationAttributes:{},requireDelay:!0,isLocalStorageAvailable:null,storageName:null,prodStorageName:null,activeForwarders:[],kits:{},sideloadedKits:[],configuredForwarders:[],pixelConfigurations:[],wrapperSDKInfo:{name:"none",version:null,isInfoSet:!1},persistenceData:{gs:{}}},o,s,c,l,f,e;for(o in y)this[o]=y[o];if(this.devToken=r||null,this.integrationDelayTimeoutStart=Date.now(),this.SDKConfig=fs(n),n){n.hasOwnProperty("flags")||(this.SDKConfig.flags={});this.SDKConfig.flags=su(n);n.deviceId&&(this.deviceId=n.deviceId);this.SDKConfig.isDevelopmentMode=n.hasOwnProperty("isDevelopmentMode")?re(n.isDevelopmentMode):!1;s=hu(n,this.SDKConfig.flags,r);for(c in s)this.SDKConfig[c]=s[c];n.hasOwnProperty("logLevel")&&(this.SDKConfig.logLevel=n.logLevel);this.SDKConfig.useNativeSdk=!!n.useNativeSdk;this.SDKConfig.kits=n.kits||{};this.SDKConfig.sideloadedKits=n.sideloadedKits||[];this.SDKConfig.isIOS=n.hasOwnProperty("isIOS")?n.isIOS:window.mParticle&&window.mParticle.isIOS?window.mParticle.isIOS:!1;this.SDKConfig.useCookieStorage=n.hasOwnProperty("useCookieStorage")?n.useCookieStorage:!1;this.SDKConfig.maxProducts=n.hasOwnProperty("maxProducts")?n.maxProducts:t.DefaultConfig.maxProducts;this.SDKConfig.maxCookieSize=n.hasOwnProperty("maxCookieSize")?n.maxCookieSize:t.DefaultConfig.maxCookieSize;n.hasOwnProperty("appName")&&(this.SDKConfig.appName=n.appName);n.hasOwnProperty("package")&&(this.SDKConfig.package=n.package);this.SDKConfig.integrationDelayTimeout=n.hasOwnProperty("integrationDelayTimeout")?n.integrationDelayTimeout:t.DefaultConfig.integrationDelayTimeout;n.hasOwnProperty("identifyRequest")&&(this.SDKConfig.identifyRequest=n.identifyRequest);n.hasOwnProperty("identityCallback")&&(l=n.identityCallback,i._Helpers.Validators.isFunction(l)?this.SDKConfig.identityCallback=n.identityCallback:i.Logger.warning("The optional callback must be a function. You tried entering a(n) "+p(l)+" . Callback not set. Please set your callback again."));n.hasOwnProperty("appVersion")&&(this.SDKConfig.appVersion=n.appVersion);n.hasOwnProperty("appName")&&(this.SDKConfig.appName=n.appName);n.hasOwnProperty("sessionTimeout")&&(this.SDKConfig.sessionTimeout=n.sessionTimeout);n.hasOwnProperty("dataPlan")?(this.SDKConfig.dataPlan={PlanVersion:null,PlanId:null},f=n.dataPlan,f.planId&&(se(f.planId)?this.SDKConfig.dataPlan.PlanId=f.planId:i.Logger.error("Your data plan id must be a string and match the data plan slug format (i.e. under_case_slug)")),f.planVersion&&(fi(f.planVersion)?this.SDKConfig.dataPlan.PlanVersion=f.planVersion:i.Logger.error("Your data plan version must be a number"))):this.SDKConfig.dataPlan={};this.SDKConfig.forceHttps=n.hasOwnProperty("forceHttps")?n.forceHttps:!0;this.SDKConfig.customFlags=n.customFlags||{};this.SDKConfig.minWebviewBridgeVersion=n.hasOwnProperty("minWebviewBridgeVersion")?n.minWebviewBridgeVersion:1;this.SDKConfig.aliasMaxWindow=n.hasOwnProperty("aliasMaxWindow")?n.aliasMaxWindow:t.DefaultConfig.aliasMaxWindow;n.hasOwnProperty("dataPlanOptions")&&(e=n.dataPlanOptions,e.hasOwnProperty("dataPlanVersion")&&e.hasOwnProperty("blockUserAttributes")&&e.hasOwnProperty("blockEventAttributes")&&e.hasOwnProperty("blockEvents")&&e.hasOwnProperty("blockUserIdentities")||i.Logger.error('Ensure your config.dataPlanOptions object has the following keys: a "dataPlanVersion" object, and "blockUserAttributes", "blockEventAttributes", "blockEvents", "blockUserIdentities" booleans'));n.hasOwnProperty("onCreateBatch")&&(typeof n.onCreateBatch=="function"?this.SDKConfig.onCreateBatch=n.onCreateBatch:(i.Logger.error("config.onCreateBatch must be a function"),this.SDKConfig.onCreateBatch=undefined))}this._getFromPersistence=function(n,t){return n?(u.syncPersistenceData(),u.persistenceData&&u.persistenceData[n]&&u.persistenceData[n][t]?u.persistenceData[n][t]:null):null};this._setPersistence=function(n,t,r){var f;n&&(u.syncPersistenceData(),u.persistenceData&&(u.persistenceData[n]?u.persistenceData[n][t]=r:u.persistenceData[n]=(f={},f[t]=r,f),a(u.persistenceData[n][t])&&h(u.persistenceData[n][t])&&delete u.persistenceData[n][t],i._Persistence.savePersistence(u.persistenceData)))};this.hasInvalidIdentifyRequest=function(){var n=u.SDKConfig.identifyRequest;return a(n)&&a(n.userIdentities)&&h(n.userIdentities)||!n};this.getConsentState=function(n){var r=i._Consent.ConsentSerialization.fromMinifiedJsonObject,t=u._getFromPersistence(n,"con");return h(t)?null:r(t)};this.setConsentState=function(n,t){var r=i._Consent.ConsentSerialization.toMinifiedJsonObject;(t||t===null)&&u._setPersistence(n,"con",r(t))};this.getDeviceId=function(){return u.deviceId};this.setDeviceId=function(n){u.deviceId=n;u.persistenceData.gs.das=n;i._Persistence.update()};this.getFirstSeenTime=function(n){return u._getFromPersistence(n,"fst")};this.setFirstSeenTime=function(n,t){if(n){var i=t||(new Date).getTime();u._setPersistence(n,"fst",i)}};this.getLastSeenTime=function(n){if(!n)return null;var t=i.Identity.getCurrentUser();return n===(t===null||t===void 0?void 0:t.getMPID())?(new Date).getTime():u._getFromPersistence(n,"lst")};this.setLastSeenTime=function(n,t){if(n){var i=t||(new Date).getTime();u._setPersistence(n,"lst",i)}};this.syncPersistenceData=function(){var n=i._Persistence.getPersistence();u.persistenceData=i._Helpers.extend({},u.persistenceData,n)};this.getUserAttributes=function(n){return u._getFromPersistence(n,"ua")||{}};this.setUserAttributes=function(n,t){return u._setPersistence(n,"ua",t)};this.getUserIdentities=function(n){return u._getFromPersistence(n,"ui")||{}};this.setUserIdentities=function(n,t){u._setPersistence(n,"ui",t)};this.addMpidToSessionHistory=function(n,t){var i=u.currentSessionMPIDs.indexOf(n);if(n&&t!==n&&i<0){u.currentSessionMPIDs.push(n);return}i>=0&&(u.currentSessionMPIDs=he(u.currentSessionMPIDs,i))};this.nullifySession=function(){u.sessionId=null;u.dateLastEventSent=null;u.sessionAttributes={};i._Persistence.update()};this.processConfig=function(n){var t=n.workspaceToken,o=n.requiredWebviewBridgeName,f,e;u.SDKConfig.flags=su(n);f=hu(n,u.SDKConfig.flags,r);for(e in f)u.SDKConfig[e]=f[e];t?u.SDKConfig.workspaceToken=t:i.Logger.warning("You should have a workspaceToken on your config object for security purposes.");u.storageName=w(t);u.prodStorageName=b(t);u.SDKConfig.requiredWebviewBridgeName=o||t;u.webviewBridgeEnabled=k(u.SDKConfig.requiredWebviewBridgeName,u.SDKConfig.minWebviewBridgeVersion);u.configurationLoaded=!0}}function su(n){var i={},r=t.FeatureFlags,u=r.ReportBatching,f=r.EventBatchingIntervalMillis,e=r.OfflineStorage,o=r.DirectUrlRouting,s=r.CacheIdentity,h=r.AudienceAPI,c=r.CaptureIntegrationSpecificIds;return n.flags?(i[u]=n.flags[u]||!1,i[f]=rt(n.flags[f])||t.DefaultConfig.uploadInterval,i[e]=n.flags[e]||"0",i[o]=n.flags[o]==="True",i[s]=n.flags[s]==="True",i[h]=n.flags[h]==="True",i[c]=n.flags[c]==="True",i):{}}function hu(n,t,i){return i?t.directURLRouting?os(n,i):es(n):{}}function es(n){var r=t.DefaultBaseUrls,u={};for(var i in r)u[i]=n[i]||r[i];return u}function os(n,i){var f=t.DefaultBaseUrls,u={},o=i.split("-"),s=o.length<=1?"us1":o[0],r,e;for(r in f){if(r==="configUrl"){u[r]=n[r]||f[r];continue}n.hasOwnProperty(r)?u[r]=n[r]:(e=f[r].split("."),u[r]=cf([e[0],s],e.slice(1),!0).join("."))}return u}function ss(n){var i=this,t=n.logLevel||"warning";this.logger=n.hasOwnProperty("logger")?n.logger:new hs;this.verbose=function(n){t!=="none"&&i.logger.verbose&&t==="verbose"&&i.logger.verbose(n)};this.warning=function(n){t!=="none"&&i.logger.warning&&(t==="verbose"||t==="warning")&&i.logger.warning(n)};this.error=function(n){t!=="none"&&i.logger.error&&i.logger.error(n)};this.setLogLevel=function(n){t=n}}function hs(){this.verbose=function(n){console&&console.info&&console.info(n)};this.error=function(n){console&&console.error&&console.error(n)};this.warning=function(n){console&&console.warn&&console.warn(n)}}function cs(n){function u(t){var i=n._Store;return t.gs.sid=i.sessionId,t.gs.ie=i.isEnabled,t.gs.sa=i.sessionAttributes,t.gs.ss=i.serverSettings,t.gs.dt=i.devToken,t.gs.les=i.dateLastEventSent?i.dateLastEventSent.getTime():null,t.gs.av=i.SDKConfig.appVersion,t.gs.cgid=i.clientId,t.gs.das=i.deviceId,t.gs.c=i.context,t.gs.ssd=i.sessionStartDate?i.sessionStartDate.getTime():0,t.gs.ia=i.integrationAttributes,t}function i(n){localStorage.removeItem(n)}function r(n,i,r){return t.encodePersistence(JSON.stringify(n))+";expires="+i+";path=/"+r}var t=this;this.useLocalStorage=function(){return!n._Store.SDKConfig.useCookieStorage&&n._Store.isLocalStorageAvailable};this.initializeStorage=function(){var o,r,i,u,e,s,f;try{r=t.getLocalStorage();i=t.getCookie();r||i?n._Store.isFirstRun=!1:(n._Store.isFirstRun=!0,n._Store.mpid=0);n._Store.isLocalStorageAvailable||(n._Store.SDKConfig.useCookieStorage=!0);n._Store.isLocalStorageAvailable?(o=window.localStorage,n._Store.SDKConfig.useCookieStorage?(r?(u=i?n._Helpers.extend(!1,r,i):r,o.removeItem(n._Store.storageName)):i&&(u=i),t.storeDataInMemory(u)):i?(u=r?n._Helpers.extend(!1,r,i):i,t.storeDataInMemory(u),t.expireCookies(n._Store.storageName)):t.storeDataInMemory(r)):t.storeDataInMemory(i);try{n._Store.isLocalStorageAvailable&&(e=localStorage.getItem(n._Store.prodStorageName),e&&(s=JSON.parse(it.decode(e))),n._Store.mpid&&t.storeProductsInMemory(s,n._Store.mpid))}catch(h){n._Store.isLocalStorageAvailable&&localStorage.removeItem(n._Store.prodStorageName);n._Store.cartProducts=[];n.Logger.error("Error loading products in initialization: "+h)}for(f in u)u.hasOwnProperty(f)&&(gt[f]||(n._Store.nonCurrentUserMPIDs[f]=u[f]));t.update()}catch(h){t.useLocalStorage()&&n._Store.isLocalStorageAvailable?localStorage.removeItem(n._Store.storageName):t.expireCookies(n._Store.storageName);n.Logger.error("Error initializing storage: "+h)}};this.update=function(){n._Store.webviewBridgeEnabled||(n._Store.SDKConfig.useCookieStorage&&t.setCookie(),t.setLocalStorage())};this.storeProductsInMemory=function(t,i){if(t)try{n._Store.cartProducts=t[i]&&t[i].cp?t[i].cp:[]}catch(r){n.Logger.error(wt.ErrorMessages.CookieParseError)}};this.storeDataInMemory=function(t,i){try{t?(n._Store.mpid=i?i:t.cu||0,t.gs=t.gs||{},n._Store.sessionId=t.gs.sid||n._Store.sessionId,n._Store.isEnabled=typeof t.gs.ie!="undefined"?t.gs.ie:n._Store.isEnabled,n._Store.sessionAttributes=t.gs.sa||n._Store.sessionAttributes,n._Store.serverSettings=t.gs.ss||n._Store.serverSettings,n._Store.devToken=n._Store.devToken||t.gs.dt,n._Store.SDKConfig.appVersion=n._Store.SDKConfig.appVersion||t.gs.av,n._Store.clientId=t.gs.cgid||n._Store.clientId||n._Helpers.generateUniqueId(),n._Store.deviceId=n._Store.deviceId||t.gs.das||n._Helpers.generateUniqueId(),n._Store.integrationAttributes=t.gs.ia||{},n._Store.context=t.gs.c||n._Store.context,n._Store.currentSessionMPIDs=t.gs.csm||n._Store.currentSessionMPIDs,n._Store.isLoggedIn=t.l===!0,t.gs.les&&(n._Store.dateLastEventSent=new Date(t.gs.les)),n._Store.sessionStartDate=t.gs.ssd?new Date(t.gs.ssd):new Date,t=i?t[i]:t[t.cu]):(n.Logger.verbose(wt.InformationMessages.CookieNotFound),n._Store.clientId=n._Store.clientId||n._Helpers.generateUniqueId(),n._Store.deviceId=n._Store.deviceId||n._Helpers.generateUniqueId())}catch(r){n.Logger.error(wt.ErrorMessages.CookieParseError)}};this.determineLocalStorageAvailability=function(n){var t;window.mParticle&&window.mParticle._forceNoLocalStorage&&(n=undefined);try{return n.setItem("mparticle","test"),t=n.getItem("mparticle")==="test",n.removeItem("mparticle"),t&&n}catch(i){return!1}};this.getUserProductsFromLS=function(t){if(!n._Store.isLocalStorageAvailable)return[];var r,i,u=localStorage.getItem(n._Store.prodStorageName);if(u&&(r=it.decode(u)),t)try{return r&&(i=JSON.parse(r)),r&&i[t]&&i[t].cp&&Array.isArray(i[t].cp)?i[t].cp:[]}catch(f){return[]}else return[]};this.getAllUserProductsFromLS=function(){var i,r=localStorage.getItem(n._Store.prodStorageName),t;r&&(i=it.decode(r));try{t=JSON.parse(i)}catch(u){t={}}return t};this.setLocalStorage=function(){if(n._Store.isLocalStorageAvailable){var o=n._Store.storageName,r=t.getAllUserProductsFromLS(),i=t.getLocalStorage()||{},e=n.Identity.getCurrentUser(),f=e?e.getMPID():null,s={cp:r[f]?r[f].cp:[]};if(f){r=r||{};r[f]=s;try{window.localStorage.setItem(encodeURIComponent(n._Store.prodStorageName),it.encode(JSON.stringify(r)))}catch(h){n.Logger.error("Error with setting products on localStorage.")}}if(!n._Store.SDKConfig.useCookieStorage){i.gs=i.gs||{};i.l=n._Store.isLoggedIn?1:0;n._Store.sessionId&&(i.gs.csm=n._Store.currentSessionMPIDs);i.gs.ie=n._Store.isEnabled;f&&(i.cu=f);Object.keys(n._Store.nonCurrentUserMPIDs).length&&(i=n._Helpers.extend({},i,n._Store.nonCurrentUserMPIDs),n._Store.nonCurrentUserMPIDs={});i=u(i);try{window.localStorage.setItem(encodeURIComponent(o),t.encodePersistence(JSON.stringify(i)))}catch(h){n.Logger.error("Error with setting localStorage item.")}}}};this.getLocalStorage=function(){if(!n._Store.isLocalStorageAvailable)return null;var f=n._Store.storageName,i=t.decodePersistence(window.localStorage.getItem(f)),u={},r;if(i){i=JSON.parse(i);for(r in i)i.hasOwnProperty(r)&&(u[r]=i[r])}return Object.keys(u).length?u:null};this.expireCookies=function(n){var i=new Date,u,f,r;r=t.getCookieDomain();f=r===""?"":";domain="+r;i.setTime(i.getTime()-864e5);u="; expires="+i.toUTCString();document.cookie=n+"="+u+"; path=/"+f};this.getCookie=function(){var s=window.document.cookie.split("; "),i=n._Store.storageName,r,h,e,u,o,f=i?undefined:{};for(n.Logger.verbose(wt.InformationMessages.CookieSearch),r=0,h=s.length;r<h;r++){try{e=s[r].split("=");u=e.shift();o=e.join("=")}catch(c){n.Logger.verbose("Unable to parse cookie: "+u+". Skipping.")}if(i&&i===u){f=n._Helpers.converted(o);break}i||(f[u]=n._Helpers.converted(o))}return f?(n.Logger.verbose(wt.InformationMessages.CookieFound),JSON.parse(t.decodePersistence(f))):null};this.setCookie=function(){var r,e=n.Identity.getCurrentUser();e&&(r=e.getMPID());var h=new Date,c=n._Store.storageName,i=t.getCookie()||{},l=new Date(h.getTime()+n._Store.SDKConfig.cookieExpiration*864e5).toGMTString(),f,o,s;f=t.getCookieDomain();o=f===""?"":";domain="+f;i.gs=i.gs||{};n._Store.sessionId&&(i.gs.csm=n._Store.currentSessionMPIDs);r&&(i.cu=r);i.l=n._Store.isLoggedIn?1:0;i=u(i);Object.keys(n._Store.nonCurrentUserMPIDs).length&&(i=n._Helpers.extend({},i,n._Store.nonCurrentUserMPIDs),n._Store.nonCurrentUserMPIDs={});s=t.reduceAndEncodePersistence(i,l,o,n._Store.SDKConfig.maxCookieSize);n.Logger.verbose(wt.InformationMessages.CookieSet);window.document.cookie=encodeURIComponent(c)+"="+s};this.reduceAndEncodePersistence=function(t,i,u,f){var e,c=t.gs.csm?t.gs.csm:[],o,s,h,l,a,v;if(c.length){s={};for(h in t)t.hasOwnProperty(h)&&(gt[h]||h===t.cu||(s[h]=1));if(Object.keys(s).length)for(l in s)e=r(t,i,u),e.length>f&&s.hasOwnProperty(l)&&c.indexOf(l)===-1&&delete t[l];for(a=0;a<c.length;a++)if(e=r(t,i,u),e.length>f)v=c[a],t[v]?(n.Logger.verbose("Size of new encoded cookie is larger than maxCookieSize setting of "+f+". Removing from cookie the earliest logged in MPID containing: "+JSON.stringify(t[v],0,2)),delete t[v]):n.Logger.error("Unable to save MPID data to cookies because the resulting encoded cookie is larger than the maxCookieSize setting of "+f+". We recommend using a maxCookieSize of 1500.");else break}else for(o in t)t.hasOwnProperty(o)&&(e=r(t,i,u),e.length>f&&(gt[o]||o===t.cu||delete t[o]));return e};this.findPrevCookiesBasedOnUI=function(i){var r=n._Persistence.getPersistence(),f,e,u,o,s;if(i)for(e in i.userIdentities)if(r&&Object.keys(r).length)for(u in r)if(r[u].mpid){o=r[u].ui;for(s in o)if(e===s&&i.userIdentities[e]===o[s]){f=u;break}}f&&t.storeDataInMemory(r,f)};this.encodePersistence=function(t){var i,r;t=JSON.parse(t);for(i in t.gs)t.gs.hasOwnProperty(i)&&(hi[i]?t.gs[i]?Array.isArray(t.gs[i])&&t.gs[i].length||n._Helpers.isObject(t.gs[i])&&Object.keys(t.gs[i]).length?t.gs[i]=it.encode(JSON.stringify(t.gs[i])):delete t.gs[i]:delete t.gs[i]:i==="ie"?t.gs[i]=t.gs[i]?1:0:t.gs[i]||delete t.gs[i]);for(r in t)if(t.hasOwnProperty(r)&&!gt[r])for(i in t[r])t[r].hasOwnProperty(i)&&hi[i]&&(n._Helpers.isObject(t[r][i])&&Object.keys(t[r][i]).length?t[r][i]=it.encode(JSON.stringify(t[r][i])):delete t[r][i]);return yf(JSON.stringify(t))};this.decodePersistence=function(t){var i,r;try{if(t){if(t=JSON.parse(pf(t)),n._Helpers.isObject(t)&&Object.keys(t).length){for(i in t.gs)t.gs.hasOwnProperty(i)&&(hi[i]?t.gs[i]=JSON.parse(it.decode(t.gs[i])):i==="ie"&&(t.gs[i]=Boolean(t.gs[i])));for(r in t)if(t.hasOwnProperty(r))if(gt[r])r==="l"&&(t[r]=Boolean(t[r]));else for(i in t[r])t[r].hasOwnProperty(i)&&hi[i]&&t[r][i].length&&(t[r][i]=JSON.parse(it.decode(t[r][i])))}return JSON.stringify(t)}}catch(u){n.Logger.error("Problem with decoding cookie",u)}};this.getCookieDomain=function(){if(n._Store.SDKConfig.cookieDomain)return n._Store.SDKConfig.cookieDomain;var i=t.getDomain(document,location.hostname);return i===""?"":"."+i};this.getDomain=function(n,t){for(var r,u="mptest=cookie",f=t.split("."),i=f.length-1;i>=0;i--)if(r=f.slice(i).join("."),n.cookie=u+";domain=."+r+";",n.cookie.indexOf(u)>-1)return n.cookie=u.split("=")[0]+"=;domain=."+r+";expires=Thu, 01 Jan 1970 00:00:01 GMT;",r;return""};this.getCartProducts=function(t){var i,r=localStorage.getItem(n._Store.prodStorageName);return r&&(i=JSON.parse(it.decode(r)),i&&i[t]&&i[t].cp)?i[t].cp:[]};this.setCartProducts=function(t){if(n._Store.isLocalStorageAvailable)try{window.localStorage.setItem(encodeURIComponent(n._Store.prodStorageName),it.encode(JSON.stringify(t)))}catch(i){n.Logger.error("Error with setting products on localStorage.")}};this.saveUserCookieSyncDatesToPersistence=function(n,i){if(i){var r=t.getPersistence();r&&(r[n]?r[n].csd=i:r[n]={csd:i});t.savePersistence(r)}};this.swapCurrentUser=function(n,i,r){if(n&&i&&n!==i){var u=t.getPersistence();u&&(u.cu=i,u.gs.csm=r,t.savePersistence(u))}};this.savePersistence=function(i){var e=t.encodePersistence(JSON.stringify(i)),o=new Date,s=n._Store.storageName,h=new Date(o.getTime()+n._Store.SDKConfig.cookieExpiration*864e5).toGMTString(),r=t.getCookieDomain(),u,f;u=r===""?"":";domain="+r;n._Store.SDKConfig.useCookieStorage?(f=t.reduceAndEncodePersistence(i,h,u,n._Store.SDKConfig.maxCookieSize),window.document.cookie=encodeURIComponent(s)+"="+f):n._Store.isLocalStorageAvailable&&localStorage.setItem(n._Store.storageName,e)};this.getPersistence=function(){return this.useLocalStorage()?this.getLocalStorage():this.getCookie()};this.getFirstSeenTime=function(n){if(!n)return null;var i=t.getPersistence();return i&&i[n]&&i[n].fst?i[n].fst:null};this.setFirstSeenTime=function(n,i){if(n){i||(i=(new Date).getTime());var r=t.getPersistence();r&&(r[n]||(r[n]={}),r[n].fst||(r[n].fst=i,t.savePersistence(r)))}};this.getLastSeenTime=function(i){if(!i)return null;if(i===n.Identity.getCurrentUser().getMPID())return(new Date).getTime();var r=t.getPersistence();return r&&r[i]&&r[i].lst?r[i].lst:null};this.setLastSeenTime=function(n,i){if(n){i||(i=(new Date).getTime());var r=t.getPersistence();r&&r[n]&&(r[n].lst=i,t.savePersistence(r))}};this.getDeviceId=function(){return n._Store.deviceId};this.setDeviceId=function(i){n._Store.deviceId=i;t.update()};this.resetPersistence=function(){if(i(st.localStorageName),i(st.localStorageNameV3),i(st.localStorageNameV4),i(n._Store.prodStorageName),i(n._Store.storageName),i(st.localStorageProductsV4),t.expireCookies(st.cookieName),t.expireCookies(st.cookieNameV2),t.expireCookies(st.cookieNameV3),t.expireCookies(st.cookieNameV4),t.expireCookies(n._Store.prodStorageName),t.expireCookies(n._Store.storageName),mParticle._isTestEnv){var r="abcdef";i(n._Helpers.createMainStorageName(r));t.expireCookies(n._Helpers.createMainStorageName(r));i(n._Helpers.createProductStorageName(r))}};this.forwardingStatsBatches={uploadsTable:{},forwardingStatsEventQueue:[]}}function ls(t){var i=this;this.logEvent=function(n,i){if(t.Logger.verbose(lt.InformationMessages.StartingLogEvent+": "+n.name),t._Helpers.canLog()){var r=t._ServerModel.createEventObject(n);t._APIClient.sendEventToServer(r,i)}else t.Logger.verbose(lt.InformationMessages.AbandonLogEvent)};this.startTracking=function(n){function u(r){t._Store.currentPosition={lat:r.coords.latitude,lng:r.coords.longitude};i(n,r);n=null;t._Store.isTracking=!0}function f(){i(n);n=null;t._Store.isTracking=!1}function i(n,i){if(n)try{i?n(i):n()}catch(r){t.Logger.error("Error invoking the callback passed to startTrackingLocation.");t.Logger.error(r)}}if(t._Store.isTracking){var r={coords:{latitude:t._Store.currentPosition.lat,longitude:t._Store.currentPosition.lng}};i(n,r)}else"geolocation"in navigator&&(t._Store.watchPositionId=navigator.geolocation.watchPosition(u,f))};this.stopTracking=function(){t._Store.isTracking&&(navigator.geolocation.clearWatch(t._Store.watchPositionId),t._Store.currentPosition=null,t._Store.isTracking=!1)};this.logOptOut=function(){t.Logger.verbose(lt.InformationMessages.StartingLogOptOut);var i=t._ServerModel.createEventObject({messageType:n.MessageType.OptOut,eventType:n.EventType.Other});t._APIClient.sendEventToServer(i)};this.logAST=function(){i.logEvent({messageType:n.MessageType.AppStateTransition})};this.logCheckoutEvent=function(r,u,f,e){var o=t._Ecommerce.createCommerceEventObject(e);o&&(o.EventName+=t._Ecommerce.getProductActionEventName(n.ProductActionType.Checkout),o.EventCategory=n.CommerceEventType.ProductCheckout,o.ProductAction={ProductActionType:n.ProductActionType.Checkout,CheckoutStep:r,CheckoutOptions:u,ProductList:[]},i.logCommerceEvent(o,f))};this.logProductActionEvent=function(n,r,u,f,e,o){var s=t._Ecommerce.createCommerceEventObject(f,o),h=Array.isArray(r)?r:[r];h.forEach(function(n){n.TotalAmount&&(n.TotalAmount=t._Ecommerce.sanitizeAmount(n.TotalAmount,"TotalAmount"));n.Position&&(n.Position=t._Ecommerce.sanitizeAmount(n.Position,"Position"));n.Price&&(n.Price=t._Ecommerce.sanitizeAmount(n.Price,"Price"));n.Quantity&&(n.Quantity=t._Ecommerce.sanitizeAmount(n.Quantity,"Quantity"))});s&&(s.EventCategory=t._Ecommerce.convertProductActionToEventType(n),s.EventName+=t._Ecommerce.getProductActionEventName(n),s.ProductAction={ProductActionType:n,ProductList:h},t._Helpers.isObject(e)&&t._Ecommerce.convertTransactionAttributesToProductAction(e,s.ProductAction),i.logCommerceEvent(s,u,o))};this.logPurchaseEvent=function(r,u,f,e){var o=t._Ecommerce.createCommerceEventObject(e);o&&(o.EventName+=t._Ecommerce.getProductActionEventName(n.ProductActionType.Purchase),o.EventCategory=n.CommerceEventType.ProductPurchase,o.ProductAction={ProductActionType:n.ProductActionType.Purchase},o.ProductAction.ProductList=t._Ecommerce.buildProductList(o,u),t._Ecommerce.convertTransactionAttributesToProductAction(r,o.ProductAction),i.logCommerceEvent(o,f))};this.logRefundEvent=function(r,u,f,e){if(!r){t.Logger.error(lt.ErrorMessages.TransactionRequired);return}var o=t._Ecommerce.createCommerceEventObject(e);o&&(o.EventName+=t._Ecommerce.getProductActionEventName(n.ProductActionType.Refund),o.EventCategory=n.CommerceEventType.ProductRefund,o.ProductAction={ProductActionType:n.ProductActionType.Refund},o.ProductAction.ProductList=t._Ecommerce.buildProductList(o,u),t._Ecommerce.convertTransactionAttributesToProductAction(r,o.ProductAction),i.logCommerceEvent(o,f))};this.logPromotionEvent=function(n,r,u,f,e){var o=t._Ecommerce.createCommerceEventObject(f);o&&(o.EventName+=t._Ecommerce.getPromotionActionEventName(n),o.EventCategory=t._Ecommerce.convertPromotionActionToEventType(n),o.PromotionAction={PromotionActionType:n,PromotionList:Array.isArray(r)?r:[r]},i.logCommerceEvent(o,u,e))};this.logImpressionEvent=function(r,u,f,e){var o=t._Ecommerce.createCommerceEventObject(f);o&&(o.EventName+="Impression",o.EventCategory=n.CommerceEventType.ProductImpression,Array.isArray(r)||(r=[r]),o.ProductImpressions=[],r.forEach(function(n){o.ProductImpressions.push({ProductImpressionList:n.Name,ProductList:Array.isArray(n.Product)?n.Product:[n.Product]})}),i.logCommerceEvent(o,u,e))};this.logCommerceEvent=function(n,i,r){if(t.Logger.verbose(lt.InformationMessages.StartingLogCommerceEvent),n.ProductAction&&n.EventCategory===null){t.Logger.error("Commerce event not sent.  The mParticle.ProductActionType you passed was invalid. Re-check your code.");return}i=t._Helpers.sanitizeAttributes(i,n.EventName);t._Helpers.canLog()?(t._Store.webviewBridgeEnabled&&(n.ShoppingCart={}),i&&(n.EventAttributes=i),t._APIClient.sendEventToServer(n,r),t._Persistence.update()):t.Logger.verbose(lt.InformationMessages.AbandonLogEvent)};this.addEventHandler=function(r,u,f,e,o){var h=[],l=function(r){var u=function(){s.href?window.location.href=s.href:s.submit&&s.submit()};t.Logger.verbose("DOM event triggered, handling event");i.logEvent({messageType:n.MessageType.PageEvent,name:typeof f=="function"?f(s):f,data:typeof e=="function"?e(s):e,eventType:o||n.EventType.Other});(s.href&&s.target!=="_blank"||s.submit)&&(r.preventDefault?r.preventDefault():r.returnValue=!1,setTimeout(u,t._Store.SDKConfig.timeout))},s,c;if(!u){t.Logger.error("Can't bind event, selector is required");return}if(typeof u=="string"?h=document.querySelectorAll(u):u.nodeType&&(h=[u]),h.length)for(t.Logger.verbose("Found "+h.length+" element"+(h.length>1?"s":"")+", attaching event handlers"),c=0;c<h.length;c++)s=h[c],s.addEventListener?s.addEventListener(r,l,!1):s.attachEvent?s.attachEvent("on"+r,l):s["on"+r]=l;else t.Logger.verbose("No elements found")}}function cu(n,t,i,r,u,f,e){try{var o=n[f](e),s=o.value}catch(h){i(h);return}o.done?t(s):Promise.resolve(s).then(r,u)}function ir(n){return function(){var t=this,i=arguments;return new Promise(function(r,u){function f(n){cu(e,r,u,f,o,"next",n)}function o(n){cu(e,r,u,f,o,"throw",n)}var e=n.apply(t,i);f(undefined)})}}function au(t,i,r,u){var f=this;return{getUserIdentities:function(){var f={},o=r._Store.getUserIdentities(t),e,s;for(e in o)o.hasOwnProperty(e)&&(s=n.IdentityType.getIdentityName(r._Helpers.parseNumber(e)),u&&(!u||u.isIdentityBlocked(s))||(f[s]=o[e]));return f=r._Helpers.filterUserIdentitiesForForwarders(f,i.userIdentityFilters),{userIdentities:f}},getMPID:function(){return t},getUserAttributesLists:function(n){var i,e={},t;i=f.getAllUserAttributes();for(t in i)i.hasOwnProperty(t)&&Array.isArray(i[t])&&(u&&(!u||u.isAttributeKeyBlocked(t))||(e[t]=i[t].slice()));return r._Helpers.filterUserAttributes(e,n.userAttributeFilters)},getAllUserAttributes:function(){var e={},f=r._Store.getUserAttributes(t),n;if(f)for(n in f)f.hasOwnProperty(n)&&(u&&(!u||u.isAttributeKeyBlocked(n))||(e[n]=Array.isArray(f[n])?f[n].slice():f[n]));return r._Helpers.filterUserAttributes(e,i.userAttributeFilters)}}}function ks(t,i){var f=this,r=this,u;this.forwarderStatsUploader=new ru(t,i).initializeForwarderStatsUploader();u={setUserAttribute:"setUserAttribute",removeUserAttribute:"removeUserAttribute"};this.initForwarders=function(n,i){var u=t.Identity.getCurrentUser();!t._Store.webviewBridgeEnabled&&t._Store.configuredForwarders&&(t._Store.configuredForwarders.sort(function(n,t){return n.settings.PriorityValue=n.settings.PriorityValue||0,t.settings.PriorityValue=t.settings.PriorityValue||0,-1*(n.settings.PriorityValue-t.settings.PriorityValue)}),t._Store.activeForwarders=t._Store.configuredForwarders.filter(function(f){if(!t._Consent.isEnabledForUserConsent(f.filteringConsentRuleValues,u)||!r.isEnabledForUserAttributes(f.filteringUserAttributeValue,u)||!r.isEnabledForUnknownUser(f.excludeAnonymousUser,u))return!1;var e=t._Helpers.filterUserIdentities(n,f.userIdentityFilters),o=t._Helpers.filterUserAttributes(u?u.getAllUserAttributes():{},f.userAttributeFilters);return f.initialized||(f.logger=t.Logger,f.init(f.settings,i,!1,null,o,e,t._Store.SDKConfig.appVersion,t._Store.SDKConfig.appName,t._Store.SDKConfig.customFlags,t._Store.clientId),f.initialized=!0),!0}))};this.isEnabledForUserAttributes=function(n,i){var e,o,r,f,u;if(!n||!t._Helpers.isObject(n)||!Object.keys(n).length)return!0;if(i)r=i.getAllUserAttributes();else return!1;f=!1;try{if(r&&t._Helpers.isObject(r)&&Object.keys(r).length)for(u in r)if(r.hasOwnProperty(u)&&(e=l.hashAttributeConditionalForwarding(u),o=l.hashAttributeConditionalForwarding(r[u]),e===n.userAttributeName&&o===n.userAttributeValue)){f=!0;break}return n?n.includeOnMatch===f:!0}catch(s){return!0}};this.isEnabledForUnknownUser=function(n,t){return(!t||!t.isLoggedIn())&&n?!1:!0};this.applyToForwarders=function(n,i){t._Store.activeForwarders.length&&t._Store.activeForwarders.forEach(function(r){var f=r[n],u;if(f)try{u=r[n](i);u&&t.Logger.verbose(u)}catch(e){t.Logger.verbose(e)}})};this.sendEventToForwarders=function(i){var u,o,s,w=function(n,i){n.UserIdentities&&n.UserIdentities.length&&n.UserIdentities.forEach(function(r,u){t._Helpers.inArray(i,l.hashUserIdentity(r.Type))&&(n.UserIdentities.splice(u,1),u>0&&u--)})},y=function(n,i){var u,r;if(i)for(r in n.EventAttributes)n.EventAttributes.hasOwnProperty(r)&&(u=l.hashEventAttributeKey(n.EventCategory,n.EventName,r),t._Helpers.inArray(i,u)&&delete n.EventAttributes[r])},e=function(n,i){return n&&n.length&&t._Helpers.inArray(n,i)?!0:!1},b=[n.MessageType.PageEvent,n.MessageType.PageView,n.MessageType.Commerce],r,f,h,c,a,p,v;if(!t._Store.webviewBridgeEnabled&&t._Store.activeForwarders)for(o=l.hashEventName(i.EventName,i.EventCategory),s=l.hashEventType(i.EventCategory),r=0;r<t._Store.activeForwarders.length;r++){if(b.indexOf(i.EventDataType)>-1&&t._Store.activeForwarders[r].filteringEventAttributeValue&&t._Store.activeForwarders[r].filteringEventAttributeValue.eventAttributeName&&t._Store.activeForwarders[r].filteringEventAttributeValue.eventAttributeValue){if(f=null,i.EventAttributes)for(h in i.EventAttributes)if(c=l.hashAttributeConditionalForwarding(h),c===t._Store.activeForwarders[r].filteringEventAttributeValue.eventAttributeName&&(f={name:c,value:l.hashAttributeConditionalForwarding(i.EventAttributes[h])}),f)break;if(a=f!==null&&f.value===t._Store.activeForwarders[r].filteringEventAttributeValue.eventAttributeValue,p=t._Store.activeForwarders[r].filteringEventAttributeValue.includeOnMatch===!0?a:!a,!p)continue}if(u={},u=t._Helpers.extend(!0,u,i),i.EventDataType===n.MessageType.PageEvent&&(e(t._Store.activeForwarders[r].eventNameFilters,o)||e(t._Store.activeForwarders[r].eventTypeFilters,s)))continue;else if(i.EventDataType===n.MessageType.Commerce&&e(t._Store.activeForwarders[r].eventTypeFilters,s))continue;else if(i.EventDataType===n.MessageType.PageView&&e(t._Store.activeForwarders[r].screenNameFilters,o))continue;u.EventAttributes&&(i.EventDataType===n.MessageType.PageEvent?y(u,t._Store.activeForwarders[r].attributeFilters):i.EventDataType===n.MessageType.PageView&&y(u,t._Store.activeForwarders[r].screenAttributeFilters));w(u,t._Store.activeForwarders[r].userIdentityFilters);u.UserAttributes=t._Helpers.filterUserAttributes(u.UserAttributes,t._Store.activeForwarders[r].userAttributeFilters);t._Store.activeForwarders[r].process&&(t.Logger.verbose("Sending message to forwarder: "+t._Store.activeForwarders[r].name),v=t._Store.activeForwarders[r].process(u),v&&t.Logger.verbose(v))}};this.handleForwarderUserAttributes=function(n,r,f){i&&i.isAttributeKeyBlocked(r)||!t._Store.activeForwarders.length||t._Store.activeForwarders.forEach(function(i){var o=i[n],e;if(o&&!t._Helpers.isFilteredUserAttribute(r,i.userAttributeFilters))try{n===u.setUserAttribute?e=i.setUserAttribute(r,f):n===u.removeUserAttribute&&(e=i.removeUserAttribute(r));e&&t.Logger.verbose(e)}catch(s){t.Logger.error(s)}})};this.setForwarderUserIdentities=function(n){t._Store.activeForwarders.forEach(function(i){var r=t._Helpers.filterUserIdentities(n,i.userIdentityFilters);i.setUserIdentity&&r.forEach(function(n){var r=i.setUserIdentity(n.Identity,n.Type);r&&t.Logger.verbose(r)})})};this.setForwarderOnUserIdentified=function(n){t._Store.activeForwarders.forEach(function(r){var f=au(n.getMPID(),r,t,i),u;r.onUserIdentified&&(u=r.onUserIdentified(f),u&&t.Logger.verbose(u))})};this.setForwarderOnIdentityComplete=function(n,r){var u;t._Store.activeForwarders.forEach(function(f){var e=au(n.getMPID(),f,t,i),o=e.getUserIdentities();r===ps?f.onIdentifyComplete&&(u=f.onIdentifyComplete(e,o),u&&t.Logger.verbose(u)):r===ws?f.onLoginComplete&&(u=f.onLoginComplete(e,o),u&&t.Logger.verbose(u)):r===bs?f.onLogoutComplete&&(u=f.onLogoutComplete(e,o),u&&t.Logger.verbose(u)):r===ys&&f.onModifyComplete&&(u=f.onModifyComplete(e,o),u&&t.Logger.verbose(u))})};this.getForwarderStatsQueue=function(){return t._Persistence.forwardingStatsBatches.forwardingStatsEventQueue};this.setForwarderStatsQueue=function(n){t._Persistence.forwardingStatsBatches.forwardingStatsEventQueue=n};this.processForwarders=function(n,i){n?(this.processUIEnabledKits(n),this.processSideloadedKits(n),r.initForwarders(t._Store.SDKConfig.identifyRequest.userIdentities,i)):t.Logger.warning("No config was passed. Cannot process forwarders")};this.processUIEnabledKits=function(n){var i=this.returnKitConstructors();try{Array.isArray(n.kitConfigs)&&n.kitConfigs.length&&n.kitConfigs.forEach(function(n){r.configureUIEnabledKit(n,i)})}catch(u){t.Logger.error("MP Kits not configured propertly. Kits may not be initialized. "+u)}};this.returnKitConstructors=function(){var n={};return h(t._Store.SDKConfig.kits)?h(t._preInit.forwarderConstructors)||t._preInit.forwarderConstructors.forEach(function(t){if(t.suffix){var i="".concat(t.name,"-").concat(t.suffix);n[i]=t}else n[t.name]=t}):n=t._Store.SDKConfig.kits,n};this.configureUIEnabledKit=function(n,i){var e=null,r=n,u,f;for(u in i)if(f=void 0,r.suffix&&(f="".concat(r.name,"-").concat(r.suffix)),(u===f||u===r.name)&&(r.isDebug===t._Store.SDKConfig.isDevelopmentMode||r.isSandbox===t._Store.SDKConfig.isDevelopmentMode)){e=this.returnConfiguredKit(i[u],r);t._Store.configuredForwarders.push(e);break}};this.processSideloadedKits=function(n){var i,u,f,e,o;try{if(Array.isArray(n.sideloadedKits)){i={kits:{}};u=n.sideloadedKits;u.forEach(function(n){try{n.kitInstance.register(i);var t=n.kitInstance.name;i.kits[t].filters=n.filterDictionary}catch(r){console.error("Error registering sideloaded kit "+n.kitInstance.name)}});for(f in i.kits)e=i.kits[f],r.configureSideloadedKit(e);h(i.kits)||(o=Object.keys(i.kits),t._Store.sideloadedKitsCount=o.length)}}catch(s){t.Logger.error("Sideloaded Kits not configured propertly. Kits may not be initialized. "+s)}};this.configureSideloadedKit=function(n){t._Store.configuredForwarders.push(this.returnConfiguredKit(n,n.filters))};this.returnConfiguredKit=function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=new n.constructor;return i.id=t.moduleId,i.isSandbox=t.isDebug||t.isSandbox,i.hasSandbox=t.hasDebugString==="true",i.isVisible=t.isVisible||!0,i.settings=t.settings||{},i.eventNameFilters=t.eventNameFilters||[],i.eventTypeFilters=t.eventTypeFilters||[],i.attributeFilters=t.attributeFilters||[],i.screenNameFilters=t.screenNameFilters||[],i.screenAttributeFilters=t.screenAttributeFilters||[],i.userIdentityFilters=t.userIdentityFilters||[],i.userAttributeFilters=t.userAttributeFilters||[],i.filteringEventAttributeValue=t.filteringEventAttributeValue||{},i.filteringUserAttributeValue=t.filteringUserAttributeValue||{},i.eventSubscriptionId=t.eventSubscriptionId||null,i.filteringConsentRuleValues=t.filteringConsentRuleValues||{},i.excludeAnonymousUser=t.excludeAnonymousUser||!1,i};this.configurePixel=function(n){(n.isDebug===t._Store.SDKConfig.isDevelopmentMode||n.isProduction!==t._Store.SDKConfig.isDevelopmentMode)&&t._Store.pixelConfigurations.push(n)};this.processPixelConfigs=function(n){try{h(n.pixelConfigs)||n.pixelConfigs.forEach(function(n){r.configurePixel(n)})}catch(i){t.Logger.error("Cookie Sync configs not configured propertly. Cookie Sync may not be initialized. "+i)}};this.sendSingleForwardingStatsToServer=function(){var n=ir(at.mark(function i(n){var r,o,u,e;return at.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o={method:"post",body:JSON.stringify(n),headers:{Accept:"text/plain;charset=UTF-8","Content-Type":"text/plain;charset=UTF-8"}},i.next=3,f.forwarderStatsUploader.upload(o);case 3:u=i.sent;e=u.status===202?"Successfully sent forwarding stats to mParticle Servers":"Issue with forwarding stats to mParticle Servers, received HTTP Code of "+u.statusText;t===null||t===void 0||(r=t.Logger)===null||r===void 0||r.verbose(e);case 6:case"end":return i.stop()}},i)}));return function(){return n.apply(this,arguments)}}()}function ds(n,t){var r=[],i;t.flags={};for(i in n.CustomFlags)r=[],n.CustomFlags.hasOwnProperty(i)&&(Array.isArray(n.CustomFlags[i])?n.CustomFlags[i].forEach(function(n){wr(n)&&r.push(n.toString())}):wr(n.CustomFlags[i])&&r.push(n.CustomFlags[i].toString()),r.length&&(t.flags[i]=r))}function gs(n){return{id:ct(n.Sku),nm:ct(n.Name),pr:rt(n.Price),qt:rt(n.Quantity),br:ct(n.Brand),va:ct(n.Variant),ca:ct(n.Category),ps:rt(n.Position),cc:ct(n.CouponCode),tpa:rt(n.TotalAmount),attrs:n.Attributes}}function rr(n){return n?n.map(function(n){return gs(n)}):[]}function yu(i){var r=this;this.appendUserInfo=function(t,r){var e,u,o,s,h,c,f;if(r){if(!t){r.MPID=null;r.ConsentState=null;r.UserAttributes=null;r.UserIdentities=null;return}if(!r.MPID||r.MPID!==t.getMPID()){r.MPID=t.getMPID();r.ConsentState=t.getConsentState();r.UserAttributes=t.getAllUserAttributes();e=t.getUserIdentities().userIdentities;u={};for(o in e)s=n.IdentityType.getIdentityType(o),s!==!1&&(u[s]=e[o]);if(h=[],i._Helpers.isObject(u)&&Object.keys(u).length)for(c in u)f={},f.Identity=u[c],f.Type=i._Helpers.parseNumber(c),h.push(f);r.UserIdentities=h}}};this.convertToConsentStateV2DTO=function(n){var f,e,r,i,t,u;if(!n)return null;if(f={},e=n.getGDPRConsentState(),e){r={};f.gdpr=r;for(i in e)e.hasOwnProperty(i)&&(t=e[i],f.gdpr[i]={},typeof t.Consented=="boolean"&&(r[i].c=t.Consented),typeof t.Timestamp=="number"&&(r[i].ts=t.Timestamp),typeof t.ConsentDocument=="string"&&(r[i].d=t.ConsentDocument),typeof t.Location=="string"&&(r[i].l=t.Location),typeof t.HardwareId=="string"&&(r[i].h=t.HardwareId))}return u=n.getCCPAConsentState(),u&&(f.ccpa={data_sale_opt_out:{c:u.Consented,ts:u.Timestamp,d:u.ConsentDocument,l:u.Location,h:u.HardwareId}}),f};this.createEventObject=function(u,f){var s={},e={},l=u.messageType===n.MessageType.OptOut?!i._Store.isEnabled:null,o,h,c;return i._Store.sessionId||u.messageType===n.MessageType.OptOut||i._Store.webviewBridgeEnabled?(o=b({},u.customFlags),i._Helpers.getFeatureFlag&&i._Helpers.getFeatureFlag(t.FeatureFlags.CaptureIntegrationSpecificIds)&&(i._IntegrationCapture.capture(),h=i._IntegrationCapture.getClickIdsAsCustomFlags(),o=b(b({},h),o)),e=u.hasOwnProperty("toEventAPIObject")?u.toEventAPIObject():{EventName:u.name||u.messageType,EventCategory:u.eventType,EventAttributes:i._Helpers.sanitizeAttributes(u.data,u.name),SourceMessageId:u.sourceMessageId||i._Helpers.generateUniqueId(),EventDataType:u.messageType,CustomFlags:o,UserAttributeChanges:u.userAttributeChanges,UserIdentityChanges:u.userIdentityChanges},u.messageType!==n.MessageType.SessionEnd&&(i._Store.dateLastEventSent=new Date),s={Store:i._Store.serverSettings,SDKVersion:t.sdkVersion,SessionId:i._Store.sessionId,SessionStartDate:i._Store.sessionStartDate?i._Store.sessionStartDate.getTime():0,Debug:i._Store.SDKConfig.isDevelopmentMode,Location:i._Store.currentPosition,OptOut:l,ExpandedEventCount:0,AppVersion:i.getAppVersion(),AppName:i.getAppName(),Package:i._Store.SDKConfig.package,ClientGeneratedId:i._Store.clientId,DeviceId:i._Store.deviceId,IntegrationAttributes:i._Store.integrationAttributes,CurrencyCode:i._Store.currencyCode,DataPlan:i._Store.SDKConfig.dataPlan?i._Store.SDKConfig.dataPlan:{}},e.EventDataType===ni.AppStateTransition&&(e.IsFirstRun=i._Store.isFirstRun,e.LaunchReferral=window.location.href||null),e.CurrencyCode=i._Store.currencyCode,c=f||i.Identity.getCurrentUser(),r.appendUserInfo(c,e),u.messageType===n.MessageType.SessionEnd&&(e.SessionLength=i._Store.dateLastEventSent.getTime()-i._Store.sessionStartDate.getTime(),e.currentSessionMPIDs=i._Store.currentSessionMPIDs,e.EventAttributes=i._Store.sessionAttributes,i._Store.currentSessionMPIDs=[],i._Store.sessionStartDate=null),s.Timestamp=i._Store.dateLastEventSent.getTime(),i._Helpers.extend({},e,s)):null};this.convertEventToV2DTO=function(n){var t={n:n.EventName,et:n.EventCategory,ua:n.UserAttributes,ui:n.UserIdentities,ia:n.IntegrationAttributes,str:n.Store,attrs:n.EventAttributes,sdk:n.SDKVersion,sid:n.SessionId,sl:n.SessionLength,ssd:n.SessionStartDate,dt:n.EventDataType,dbg:n.Debug,ct:n.Timestamp,lc:n.Location,o:n.OptOut,eec:n.ExpandedEventCount,av:n.AppVersion,cgid:n.ClientGeneratedId,das:n.DeviceId,mpid:n.MPID,smpids:n.currentSessionMPIDs},u;return n.DataPlan&&n.DataPlan.PlanId&&(t.dp_id=n.DataPlan.PlanId,n.DataPlan.PlanVersion&&(t.dp_v=n.DataPlan.PlanVersion)),u=r.convertToConsentStateV2DTO(n.ConsentState),u&&(t.con=u),n.EventDataType===ni.AppStateTransition&&(t.fr=n.IsFirstRun,t.iu=!1,t.at=vu.AppInit,t.lr=n.LaunchReferral,t.attrs=null),n.CustomFlags&&ds(n,t),n.EventDataType===ni.Commerce?(t.cu=n.CurrencyCode,n.ShoppingCart&&(t.sc={pl:rr(n.ShoppingCart.ProductList)}),n.ProductAction?t.pd={an:n.ProductAction.ProductActionType,cs:i._Helpers.parseNumber(n.ProductAction.CheckoutStep),co:n.ProductAction.CheckoutOptions,pl:rr(n.ProductAction.ProductList),ti:n.ProductAction.TransactionId,ta:n.ProductAction.Affiliation,tcc:n.ProductAction.CouponCode,tr:i._Helpers.parseNumber(n.ProductAction.TotalAmount),ts:i._Helpers.parseNumber(n.ProductAction.ShippingAmount),tt:i._Helpers.parseNumber(n.ProductAction.TaxAmount)}:n.PromotionAction?t.pm={an:n.PromotionAction.PromotionActionType,pl:n.PromotionAction.PromotionList.map(function(n){return{id:n.Id,nm:n.Name,cr:n.Creative,ps:n.Position?n.Position:0}})}:n.ProductImpressions&&(t.pi=n.ProductImpressions.map(function(n){return{pil:n.ProductImpressionList,pl:rr(n.ProductList)}}))):n.EventDataType===ni.Profile&&(t.pet=n.ProfileMessageType),t}}function nh(n){function t(){var i=n._Forwarders.getForwarderStatsQueue(),t=n._Persistence.forwardingStatsBatches.uploadsTable,u=Date.now(),r;i.length&&(t[u]={uploading:!1,data:i},n._Forwarders.setForwarderStatsQueue([]));for(r in t)(function(i){if(t.hasOwnProperty(i)&&t[i].uploading===!1){var u=function(){r.readyState===4&&(r.status===200||r.status===202?(n.Logger.verbose("Successfully sent  "+r.statusText+" from server"),delete t[i]):r.status.toString()[0]==="4"?r.status!==429&&delete t[i]:t[i].uploading=!1)},r=n._Helpers.createXHR(u),f=t[i].data;t[i].uploading=!0;n._APIClient.sendBatchForwardingStatsToServer(f,r)}})(r)}this.startForwardingStatsTimer=function(){mParticle._forwardingStatsTimer=setInterval(function(){t()},n._Store.SDKConfig.forwarderStatsTimeout)}}function yh(n,t){return!n||t.getMPID()!==n.getMPID()||n.isLoggedIn()!==t.isLoggedIn()}function ph(n,t){return!n||n.getMPID()&&t.mpid&&t.mpid!==n.getMPID()}function dh(i){var u=i._Helpers,f=u.getFeatureFlag,e=u.extend,r=this;this.idCache=null;this.audienceManager=null;this.IdentityRequest={preProcessIdentityRequest:function(n,t,r){var u,f;return(i.Logger.verbose(c.InformationMessages.StartingLogEvent+": "+r),u=i._Helpers.Validators.validateIdentities(n,r),!u.valid)?(i.Logger.error("ERROR: "+u.error),{valid:!1,error:u.error}):t&&!i._Helpers.Validators.isFunction(t)?(f="The optional callback must be a function. You tried entering a(n) "+p(t),i.Logger.error(f),{valid:!1,error:f}):{valid:!0}},createIdentityRequest:function(n,t,r,u,f,e,o){return{client_sdk:{platform:t,sdk_vendor:r,sdk_version:u},context:e,environment:i._Store.SDKConfig.isDevelopmentMode?"development":"production",request_id:i._Helpers.generateUniqueId(),request_timestamp_ms:(new Date).getTime(),previous_mpid:o||null,known_identities:hh(n,f)}},createModifyIdentityRequest:function(n,t,r,u,f,e){return{client_sdk:{platform:r,sdk_vendor:u,sdk_version:f},context:e,environment:i._Store.SDKConfig.isDevelopmentMode?"development":"production",request_id:i._Helpers.generateUniqueId(),request_timestamp_ms:(new Date).getTime(),identity_changes:this.createIdentityChanges(n,t)}},createIdentityChanges:function(n,t){var r=[],i;if(t&&a(t)&&n&&a(n))for(i in t)r.push({old_value:n[i]||null,new_value:t[i],identity_type:i});return r},combineUserIdentities:function(t,i){var f={},o=e({},t,i),r,u;for(r in o)u=n.IdentityType.getIdentityType(r),u!==!1&&u>=0&&(f[n.IdentityType.getIdentityType(r)]=o[r]);return f},createAliasNetworkRequest:function(n){return{request_id:i._Helpers.generateUniqueId(),request_type:"alias",environment:i._Store.SDKConfig.isDevelopmentMode?"development":"production",api_key:i._Store.devToken,data:{destination_mpid:n.destinationMpid,source_mpid:n.sourceMpid,start_unixtime_ms:n.startTime,end_unixtime_ms:n.endTime,scope:n.scope,device_application_stamp:i._Store.deviceId}}},convertAliasToNative:function(n){return{DestinationMpid:n.destinationMpid,SourceMpid:n.sourceMpid,StartUnixtimeMs:n.startTime,EndUnixtimeMs:n.endTime}},convertToNative:function(t){var r=[],i;if(t&&t.userIdentities){for(i in t.userIdentities)t.userIdentities.hasOwnProperty(i)&&r.push({Type:n.IdentityType.getIdentityType(i),Identity:t.userIdentities[i]});return{UserIdentities:r}}}};this.IdentityAPI={HTTPCodes:v,identify:function(n,u){var f,s=i.Identity.getCurrentUser(),o=i._Identity.IdentityRequest.preProcessIdentityRequest(n,u,wi),e,h;if(s&&(f=s.getMPID()),o.valid){if(e=i._Identity.IdentityRequest.createIdentityRequest(n,t.platform,t.sdkVendor,t.sdkVersion,i._Store.deviceId,i._Store.context,f),i._Helpers.getFeatureFlag(t.FeatureFlags.CacheIdentity)&&(h=wu(e.known_identities,r.idCache,r.parseIdentityResponse,f,u,n,wi),h))return;i._Helpers.canLog()?i._Store.webviewBridgeEnabled?(i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.Identify,JSON.stringify(i._Identity.IdentityRequest.convertToNative(n))),i._Helpers.invokeCallback(u,v.nativeIdentityRequest,"Identify request sent to native sdk")):i._IdentityAPIClient.sendIdentityRequest(e,wi,u,n,r.parseIdentityResponse,f,e.known_identities):(i._Helpers.invokeCallback(u,v.loggingDisabledOrMissingAPIKey,c.InformationMessages.AbandonLogEvent),i.Logger.verbose(c.InformationMessages.AbandonLogEvent))}else i._Helpers.invokeCallback(u,v.validationIssue,o.error),i.Logger.verbose(o)},logout:function(u,f){var e,h=i.Identity.getCurrentUser(),o=i._Identity.IdentityRequest.preProcessIdentityRequest(u,f,gu),s,l;h&&(e=h.getMPID());o.valid?(l=i._Identity.IdentityRequest.createIdentityRequest(u,t.platform,t.sdkVendor,t.sdkVersion,i._Store.deviceId,i._Store.context,e),i._Helpers.canLog()?i._Store.webviewBridgeEnabled?(i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.Logout,JSON.stringify(i._Identity.IdentityRequest.convertToNative(u))),i._Helpers.invokeCallback(f,v.nativeIdentityRequest,"Logout request sent to native sdk")):(i._IdentityAPIClient.sendIdentityRequest(l,gu,f,u,r.parseIdentityResponse,e),s=i._ServerModel.createEventObject({messageType:n.MessageType.Profile}),s.ProfileMessageType=n.ProfileMessageType.Logout,i._Store.activeForwarders.length&&i._Store.activeForwarders.forEach(function(n){n.logOut&&n.logOut(s)})):(i._Helpers.invokeCallback(f,v.loggingDisabledOrMissingAPIKey,c.InformationMessages.AbandonLogEvent),i.Logger.verbose(c.InformationMessages.AbandonLogEvent))):(i._Helpers.invokeCallback(f,v.validationIssue,o.error),i.Logger.verbose(o))},login:function(n,u){var f,s=i.Identity.getCurrentUser(),o=i._Identity.IdentityRequest.preProcessIdentityRequest(n,u,fr),e,h;if(s&&(f=s.getMPID()),o.valid){if(e=i._Identity.IdentityRequest.createIdentityRequest(n,t.platform,t.sdkVendor,t.sdkVersion,i._Store.deviceId,i._Store.context,f),i._Helpers.getFeatureFlag(t.FeatureFlags.CacheIdentity)&&(h=wu(e.known_identities,r.idCache,r.parseIdentityResponse,f,u,n,fr),h))return;i._Helpers.canLog()?i._Store.webviewBridgeEnabled?(i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.Login,JSON.stringify(i._Identity.IdentityRequest.convertToNative(n))),i._Helpers.invokeCallback(u,v.nativeIdentityRequest,"Login request sent to native sdk")):i._IdentityAPIClient.sendIdentityRequest(e,fr,u,n,r.parseIdentityResponse,f,e.known_identities):(i._Helpers.invokeCallback(u,v.loggingDisabledOrMissingAPIKey,c.InformationMessages.AbandonLogEvent),i.Logger.verbose(c.InformationMessages.AbandonLogEvent))}else i._Helpers.invokeCallback(u,v.validationIssue,o.error),i.Logger.verbose(o)},modify:function(n,u){var s,f=i.Identity.getCurrentUser(),e=i._Identity.IdentityRequest.preProcessIdentityRequest(n,u,ti),h,o;f&&(s=f.getMPID());h=n&&n.userIdentities?n.userIdentities:{};e.valid?(o=i._Identity.IdentityRequest.createModifyIdentityRequest(f?f.getUserIdentities().userIdentities:{},h,t.platform,t.sdkVendor,t.sdkVersion,i._Store.context),i._Helpers.canLog()?i._Store.webviewBridgeEnabled?(i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.Modify,JSON.stringify(i._Identity.IdentityRequest.convertToNative(n))),i._Helpers.invokeCallback(u,v.nativeIdentityRequest,"Modify request sent to native sdk")):i._IdentityAPIClient.sendIdentityRequest(o,ti,u,n,r.parseIdentityResponse,s,o.known_identities):(i._Helpers.invokeCallback(u,v.loggingDisabledOrMissingAPIKey,c.InformationMessages.AbandonLogEvent),i.Logger.verbose(c.InformationMessages.AbandonLogEvent))):(i._Helpers.invokeCallback(u,v.validationIssue,e.error),i.Logger.verbose(e))},getCurrentUser:function(){var n;return i._Store?(n=i._Store.mpid,n?(n=i._Store.mpid.slice(),r.mParticleUser(n,i._Store.isLoggedIn)):i._Store.webviewBridgeEnabled?r.mParticleUser():null):null},getUser:function(n){var u=i._Persistence.getPersistence();return u?u[n]&&!t.SDKv2NonMPIDCookieKeys.hasOwnProperty(n)?r.mParticleUser(n):null:null},getUsers:function(){var f=i._Persistence.getPersistence(),n=[],u;if(f)for(u in f)t.SDKv2NonMPIDCookieKeys.hasOwnProperty(u)||n.push(r.mParticleUser(u));return n.sort(function(n,t){var i=n.getLastSeenTime()||0,r=t.getLastSeenTime()||0;return i>r?-1:1}),n},aliasUsers:function(n,r){var u,f;if(n.destinationMpid&&n.sourceMpid||(u=c.ValidationMessages.AliasMissingMpid),n.destinationMpid===n.sourceMpid&&(u=c.ValidationMessages.AliasNonUniqueMpid),n.startTime&&n.endTime||(u=c.ValidationMessages.AliasMissingTime),n.startTime>n.endTime&&(u=c.ValidationMessages.AliasStartBeforeEndTime),u){i.Logger.warning(u);i._Helpers.invokeAliasCallback(r,v.validationIssue,u);return}i._Helpers.canLog()?i._Store.webviewBridgeEnabled?(i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.Alias,JSON.stringify(i._Identity.IdentityRequest.convertAliasToNative(n))),i._Helpers.invokeAliasCallback(r,v.nativeIdentityRequest,"Alias request sent to native sdk")):(i.Logger.verbose(c.InformationMessages.StartingAliasRequest+": "+n.sourceMpid+" -> "+n.destinationMpid),f=i._Identity.IdentityRequest.createAliasNetworkRequest(n),i._IdentityAPIClient.sendAliasRequest(f,r)):(i._Helpers.invokeAliasCallback(r,v.loggingDisabledOrMissingAPIKey,c.InformationMessages.AbandonAliasUsers),i.Logger.verbose(c.InformationMessages.AbandonAliasUsers))},createAliasRequest:function(n,t){var r,u,f;try{return!t||!n?(i.Logger.error("'destinationUser' and 'sourceUser' must both be present"),null):(r=n.getFirstSeenTime(),r||i.Identity.getUsers().forEach(function(n){n.getFirstSeenTime()&&(!r||n.getFirstSeenTime()<r)&&(r=n.getFirstSeenTime())}),u=(new Date).getTime()-i._Store.SDKConfig.aliasMaxWindow*864e5,f=n.getLastSeenTime()||(new Date).getTime(),r<u&&(r=u,f<r&&i.Logger.warning("Source User has not been seen in the last "+i._Store.SDKConfig.maxAliasWindow+" days, Alias Request will likely fail")),{destinationMpid:t.getMPID(),sourceMpid:n.getMPID(),startTime:r,endTime:f})}catch(e){return i.Logger.error("There was a problem with creating an alias request: "+e),null}}};this.mParticleUser=function(r,u){var f=this;return{getUserIdentities:function(){var f={},t=i._Store.getUserIdentities(r);for(var u in t)t.hasOwnProperty(u)&&(f[n.IdentityType.getIdentityName(i._Helpers.parseNumber(u))]=t[u]);return{userIdentities:f}},getMPID:function(){return r},setUserTag:function(n){if(!i._Helpers.Validators.isValidKeyValue(n)){i.Logger.error(c.ErrorMessages.BadKey);return}this.setUserAttribute(n,null)},removeUserTag:function(n){if(!i._Helpers.Validators.isValidKeyValue(n)){i.Logger.error(c.ErrorMessages.BadKey);return}this.removeUserAttribute(n)},setUserAttribute:function(n,u){if(i._SessionManager.resetSessionTimer(),i._Helpers.canLog()){if(!i._Helpers.Validators.isValidAttributeValue(u)){i.Logger.error(c.ErrorMessages.BadAttribute);return}if(!i._Helpers.Validators.isValidKeyValue(n)){i.Logger.error(c.ErrorMessages.BadKey);return}if(i._Store.webviewBridgeEnabled)i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.SetUserAttribute,JSON.stringify({key:n,value:u}));else{var e=this.getAllUserAttributes(),h,o,s=i._Helpers.findKeyInObject(e,n);s?(o=!1,h=e[s],delete e[s]):o=!0;e[n]=u;i._Store.setUserAttributes(r,e);f.sendUserAttributeChangeEvent(n,u,h,o,!1,this);i._Forwarders.initForwarders(f.IdentityAPI.getCurrentUser().getUserIdentities(),i._APIClient.prepareForwardingStats);i._Forwarders.handleForwarderUserAttributes("setUserAttribute",n,u)}}},setUserAttributes:function(n){if(i._SessionManager.resetSessionTimer(),a(n)){if(i._Helpers.canLog())for(var t in n)n.hasOwnProperty(t)&&this.setUserAttribute(t,n[t])}else i.Logger.error("Must pass an object into setUserAttributes. You passed a "+p(n))},removeUserAttribute:function(n){var e,u,o,s;if(i._SessionManager.resetSessionTimer(),!i._Helpers.Validators.isValidKeyValue(n)){i.Logger.error(c.ErrorMessages.BadKey);return}i._Store.webviewBridgeEnabled?i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.RemoveUserAttribute,JSON.stringify({key:n,value:null})):(e=i._Persistence.getPersistence(),u=this.getAllUserAttributes(),o=i._Helpers.findKeyInObject(u,n),o&&(n=o),s=u[n]?u[n].toString():null,delete u[n],e&&e[r]&&(e[r].ua=u,i._Persistence.savePersistence(e,r)),f.sendUserAttributeChangeEvent(n,null,s,!1,!0,this),i._Forwarders.initForwarders(f.IdentityAPI.getCurrentUser().getUserIdentities(),i._APIClient.prepareForwardingStats),i._Forwarders.handleForwarderUserAttributes("removeUserAttribute",n,null))},setUserAttributeList:function(n,u){var h,e,o,v,l,a,s;if(i._SessionManager.resetSessionTimer(),!i._Helpers.Validators.isValidKeyValue(n)){i.Logger.error(c.ErrorMessages.BadKey);return}if(!Array.isArray(u)){i.Logger.error("The value you passed in to setUserAttributeList must be an array. You passed in a "+(typeof value=="undefined"?"undefined":p(value)));return}if(h=u.slice(),i._Store.webviewBridgeEnabled)i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.SetUserAttributeList,JSON.stringify({key:n,value:h}));else{if(e=this.getAllUserAttributes(),a=i._Helpers.findKeyInObject(e,n),a?(v=!1,o=e[a],delete e[a]):v=!0,e[n]=h,i._Store.setUserAttributes(r,e),o&&Array.isArray(o)){if(u.length!==o.length)l=!0;else for(s=0;s<u.length;s++)if(o[s]!==u[s]){l=!0;break}}else l=!0;l&&f.sendUserAttributeChangeEvent(n,u,o,v,!1,this);i._Forwarders.initForwarders(f.IdentityAPI.getCurrentUser().getUserIdentities(),i._APIClient.prepareForwardingStats);i._Forwarders.handleForwarderUserAttributes("setUserAttribute",n,h)}},removeAllUserAttributes:function(){var n,r;if(i._SessionManager.resetSessionTimer(),i._Store.webviewBridgeEnabled)i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.RemoveAllUserAttributes);else if(n=this.getAllUserAttributes(),i._Forwarders.initForwarders(f.IdentityAPI.getCurrentUser().getUserIdentities(),i._APIClient.prepareForwardingStats),n)for(r in n)n.hasOwnProperty(r)&&i._Forwarders.handleForwarderUserAttributes("removeUserAttribute",r,null),this.removeUserAttribute(r)},getUserAttributesLists:function(){var n,i={},t;n=this.getAllUserAttributes();for(t in n)n.hasOwnProperty(t)&&Array.isArray(n[t])&&(i[t]=n[t].slice());return i},getAllUserAttributes:function(){var f=i._Store.getUserAttributes,u={},n=f(r),t;if(n)for(t in n)n.hasOwnProperty(t)&&(u[t]=Array.isArray(n[t])?n[t].slice():n[t]);return u},getCart:function(){return i.Logger.warning("Deprecated function Identity.getCurrentUser().getCart() will be removed in future releases"),f.mParticleUserCart(r)},getConsentState:function(){return i._Store.getConsentState(r)},setConsentState:function(n){i._Store.setConsentState(r,n);i._Forwarders.initForwarders(this.getUserIdentities().userIdentities,i._APIClient.prepareForwardingStats);i._CookieSyncManager.attemptCookieSync(null,this.getMPID())},isLoggedIn:function(){return u},getLastSeenTime:function(){return i._Persistence.getLastSeenTime(r)},getFirstSeenTime:function(){return i._Persistence.getFirstSeenTime(r)},getUserAudiences:function(n){if(!i._Helpers.getFeatureFlag(du.AudienceAPI)){i.Logger.error(bh.AudienceAPINotEnabled);return}f.audienceManager===null&&(f.audienceManager=new vh(i._Store.SDKConfig.userAudienceUrl,i._Store.devToken,i.Logger,r));f.audienceManager.sendGetUserAudienceRequest(r,n)}}};this.mParticleUserCart=function(r){return{add:function(u,f){var s,e,o,h;i.Logger.warning("Deprecated function Identity.getCurrentUser().getCart().add() will be removed in future releases");o=Array.isArray(u)?u.slice():[u];o.forEach(function(n){n.Attributes=i._Helpers.sanitizeAttributes(n.Attributes)});i._Store.webviewBridgeEnabled?i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.AddToCart,JSON.stringify(o)):(i._SessionManager.resetSessionTimer(),e=i._Persistence.getUserProductsFromLS(r),e=e.concat(o),f===!0&&i._Events.logProductActionEvent(n.ProductActionType.AddToCart,o),h={},h[r]={cp:e},e.length>i._Store.SDKConfig.maxProducts&&(i.Logger.verbose("The cart contains "+e.length+" items. Only "+i._Store.SDKConfig.maxProducts+" can currently be saved in cookies."),e=e.slice(-i._Store.SDKConfig.maxProducts)),s=i._Persistence.getAllUserProductsFromLS(),s[r].cp=e,i._Persistence.setCartProducts(s))},remove:function(u,f){var s,e,o,h,c;i.Logger.warning("Deprecated function Identity.getCurrentUser().getCart().remove() will be removed in future releases");o=-1;h=null;i._Store.webviewBridgeEnabled?i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.RemoveFromCart,JSON.stringify(u)):(i._SessionManager.resetSessionTimer(),e=i._Persistence.getUserProductsFromLS(r),e&&(e.forEach(function(n,t){n.Sku===u.Sku&&(o=t,h=n)}),o>-1&&(e.splice(o,1),f===!0&&i._Events.logProductActionEvent(n.ProductActionType.RemoveFromCart,h))),c={},c[r]={cp:e},s=i._Persistence.getAllUserProductsFromLS(),s[r].cp=e,i._Persistence.setCartProducts(s))},clear:function(){i.Logger.warning("Deprecated function Identity.getCurrentUser().getCart().clear() will be removed in future releases");var n;i._Store.webviewBridgeEnabled?i._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.ClearCart):(i._SessionManager.resetSessionTimer(),n=i._Persistence.getAllUserProductsFromLS(),n&&n[r]&&n[r].cp&&(n[r].cp=[],n[r].cp=[],i._Persistence.setCartProducts(n)))},getCartProducts:function(){return i.Logger.warning("Deprecated function Identity.getCurrentUser().getCart().getCartProducts() will be removed in future releases"),i._Persistence.getCartProducts(r)}}};this.parseIdentityResponse=function(n,t,u,e,o,s,c){var a=i.Identity.getUser(t),et=a?a.getMPID():null,nt=a?a.getUserIdentities().userIdentities:{},tt,l,y,p={},w,b,k,d,g,it,rt,ut,ft;i._Store.identityCallInFlight=!1;try{i.Logger.verbose('Parsing "'+o+'" identity response from server');l=(w=n.responseText)!==null&&w!==void 0?w:null;i._Store.isLoggedIn=((b=l)===null||b===void 0?void 0:b.is_logged_in)||!1;ph(a,l)&&(i._Store.mpid=l.mpid,a&&i._Persistence.setLastSeenTime(t),tt=!i._Persistence.getFirstSeenTime(l.mpid),i._Persistence.setFirstSeenTime(l.mpid));n.status===lr&&(f(kh)&&fh(o,s,r.idCache,n,c),d=r.IdentityAPI.getUser(l.mpid),g=d?d.getUserIdentities().userIdentities:{},o===ti?(p=i._Identity.IdentityRequest.combineUserIdentities(nt,e.userIdentities),i._Store.setUserIdentities(t,p)):(o===wi&&a&&l.mpid===et&&i._Persistence.setFirstSeenTime(l.mpid),i._Store.addMpidToSessionHistory(l.mpid,t),i._CookieSyncManager.attemptCookieSync(t,l.mpid,tt),i._Persistence.swapCurrentUser(t,l.mpid,i._Store.currentSessionMPIDs),e&&!h(e.userIdentities)&&(p=r.IdentityRequest.combineUserIdentities(g,e.userIdentities)),i._Store.setUserIdentities(l.mpid,p),i._Persistence.update(),i._Store.syncPersistenceData(),i._Persistence.findPrevCookiesBasedOnUI(e),i._Store.context=l.context||i._Store.context),y=i.Identity.getCurrentUser(),gh(a,y,e,i.Logger),it=i._Persistence.getPersistence(),y&&(i._Persistence.storeDataInMemory(it,y.getMPID()),r.reinitForwardersOnUserChange(a,y),r.setForwarderCallbacks(y,o)),rt=ve(p),ut=o===ti?nt:g,r.sendUserIdentityChangeEvent(rt,o,l.mpid,ut));u?(ft=n.status===0?v.noHttpCoverage:n.status,i._Helpers.invokeCallback(u,ft,l||null,y)):l&&!h(l.errors)&&i.Logger.error("Received HTTP response code of "+n.status+" - "+l.errors[0].message);i.Logger.verbose("Successfully parsed Identity Response");(k=i._APIClient)===null||k===void 0||k.processQueuedEvents()}catch(ot){u&&i._Helpers.invokeCallback(u,n.status,l||null);i.Logger.error("Error parsing JSON response from Identity server: "+ot)}i._Store.isInitialized=!0;i._preInit.readyQueue=ku(i._preInit.readyQueue)};this.sendUserIdentityChangeEvent=function(n,t,u,f){var s,e,o,h,c;if(u||t===ti){s=this.IdentityAPI.getUser(u);for(e in n)f[e]!==n[e]&&(h=!f[e],c=r.createUserIdentityChange(e,n[e],f[e],h,s),(o=i._APIClient)===null||o===void 0||o.sendEventToServer(c))}};this.createUserIdentityChange=function(t,r,u,f,e){return i._ServerModel.createEventObject({messageType:n.MessageType.UserIdentityChange,userIdentityChanges:{New:{IdentityType:t,Identity:r,CreatedThisBatch:f},Old:{IdentityType:t,Identity:u,CreatedThisBatch:!1}},userInMemory:e})};this.sendUserAttributeChangeEvent=function(n,t,u,f,e,o){var h=r.createUserAttributeChange(n,t,u,f,e,o),s;h&&((s=i._APIClient)===null||s===void 0||s.sendEventToServer(h))};this.createUserAttributeChange=function(t,r,u,f,e,o){typeof u=="undefined"&&(u=null);var s;return r!==u&&(s=i._ServerModel.createEventObject({messageType:n.MessageType.UserAttributeChange,userAttributeChanges:{UserAttributeName:t,New:r,Old:u,Deleted:e,IsNewAttribute:f}},o)),s};this.reinitForwardersOnUserChange=function(n,t){if(yh(n,t)){var r;(r=i._Forwarders)===null||r===void 0||r.initForwarders(t.getUserIdentities().userIdentities,i._APIClient.prepareForwardingStats)}};this.setForwarderCallbacks=function(n,t){var r,u,f;(r=i._Forwarders)===null||r===void 0||r.setForwarderUserIdentities(n.getUserIdentities().userIdentities);(u=i._Forwarders)===null||u===void 0||u.setForwarderOnIdentityComplete(n,t);(f=i._Forwarders)===null||f===void 0||f.setForwarderOnUserIdentified(n)}}function gh(n,t,i,r){if(i&&i.onUserAlias&&ei(i.onUserAlias))try{r.warning(vr("onUserAlias"));i.onUserAlias(n,t)}catch(u){r.error("There was an error with your onUserAlias function - "+u)}}function nc(n){var t=this;this.isEnabledForUserConsent=function(n,t){var i,r,u,e,o,s;if(!n||!n.values||!n.values.length)return!0;if(!t)return!1;if(i={},r=t.getConsentState(),r){var f=r.getGDPRConsentState();if(f)for(e in f)f.hasOwnProperty(e)&&(u=l.hashConsentPurposeConditionalForwarding("1",e),i[u]=f[e].Consented);o=r.getCCPAConsentState();o&&(u=l.hashConsentPurposeConditionalForwarding("2",y),i[u]=o.Consented)}return s=n.values.some(function(n){var t=n.consentPurpose,r=n.hasConsented;return i.hasOwnProperty(t)?i[t]===r:!1}),n.includeOnMatch===s};this.createPrivacyConsent=function(t,i,r,u,f){return typeof t!="boolean"?(n.Logger.error("Consented boolean is required when constructing a Consent object."),null):i&&isNaN(i)?(n.Logger.error("Timestamp must be a valid number when constructing a Consent object."),null):r&&typeof r!="string"?(n.Logger.error("Document must be a valid string when constructing a Consent object."),null):u&&typeof u!="string"?(n.Logger.error("Location must be a valid string when constructing a Consent object."),null):f&&typeof f!="string"?(n.Logger.error("Hardware ID must be a valid string when constructing a Consent object."),null):{Consented:t,Timestamp:i||Date.now(),ConsentDocument:r,Location:u,HardwareId:f}};this.ConsentSerialization={toMinifiedJsonObject:function(n){var e,t={},f,u,r,i;if(n){if(f=n.getGDPRConsentState(),f){t.gdpr={};for(u in f)f.hasOwnProperty(u)&&(r=f[u],t.gdpr[u]={},typeof r.Consented=="boolean"&&(t.gdpr[u].c=r.Consented),typeof r.Timestamp=="number"&&(t.gdpr[u].ts=r.Timestamp),typeof r.ConsentDocument=="string"&&(t.gdpr[u].d=r.ConsentDocument),typeof r.Location=="string"&&(t.gdpr[u].l=r.Location),typeof r.HardwareId=="string"&&(t.gdpr[u].h=r.HardwareId))}i=n.getCCPAConsentState();i&&(t.ccpa=(e={},e[y]={},e),typeof i.Consented=="boolean"&&(t.ccpa[y].c=i.Consented),typeof i.Timestamp=="number"&&(t.ccpa[y].ts=i.Timestamp),typeof i.ConsentDocument=="string"&&(t.ccpa[y].d=i.ConsentDocument),typeof i.Location=="string"&&(t.ccpa[y].l=i.Location),typeof i.HardwareId=="string"&&(t.ccpa[y].h=i.HardwareId))}return t},fromMinifiedJsonObject:function(n){var r=t.createConsentState(),i,u,f;if(n.gdpr)for(i in n.gdpr)n.gdpr.hasOwnProperty(i)&&(u=t.createPrivacyConsent(n.gdpr[i].c,n.gdpr[i].ts,n.gdpr[i].d,n.gdpr[i].l,n.gdpr[i].h),r.addGDPRConsentState(i,u));return n.ccpa&&n.ccpa.hasOwnProperty(y)&&(f=t.createPrivacyConsent(n.ccpa[y].c,n.ccpa[y].ts,n.ccpa[y].d,n.ccpa[y].l,n.ccpa[y].h),r.setCCPAConsentState(f)),r}};this.createConsentState=function(i){function e(n){if(typeof n!="string")return null;var t=n.trim();return t.length?t.toLowerCase():null}function s(i,u){var o=e(i),f;return o?a(u)?(f=t.createPrivacyConsent(u.Consented,u.Timestamp,u.ConsentDocument,u.Location,u.HardwareId),f&&(r[o]=f),this):(n.Logger.error("Invoked with a bad or empty consent object."),this):(n.Logger.error("Purpose must be a string."),this)}function h(n){if(n){if(a(n)){r={};for(var t in n)n.hasOwnProperty(t)&&this.addGDPRConsentState(t,n[t])}}else r={};return this}function c(n){var t=e(n);return t?(delete r[t],this):this}function l(){return Object.assign({},r)}function v(i){if(!a(i))return n.Logger.error("Invoked with a bad or empty CCPA consent object."),this;var r=t.createPrivacyConsent(i.Consented,i.Timestamp,i.ConsentDocument,i.Location,i.HardwareId);return r&&(f[y]=r),this}function p(){return f[y]}function o(){return delete f[y],this}function w(){return n.Logger.warning("removeCCPAState is deprecated and will be removed in a future release; use removeCCPAConsentState instead"),o()}var r={},f={},u;return i?(u=t.createConsentState(),u.setGDPRConsentState(i.getGDPRConsentState()),u.setCCPAConsentState(i.getCCPAConsentState()),u):{setGDPRConsentState:h,addGDPRConsentState:s,setCCPAConsentState:v,getCCPAConsentState:p,getGDPRConsentState:l,removeGDPRConsentState:c,removeCCPAState:w,removeCCPAConsentState:o}}}function rc(n,t,i){var u=this,f="https://"+i._Store.SDKConfig.configUrl,e=t.isDevelopmentMode,o=t.dataPlan,r=ic(f,n,o,e),s=window.fetch?new vt(r):new yt(r);this.getSDKConfiguration=function(){return ft(u,void 0,void 0,function(){var r,o,n,h,u,f,e;return et(this,function(c){switch(c.label){case 0:o={method:"get",headers:{Accept:"text/plain;charset=UTF-8","Content-Type":"text/plain;charset=UTF-8"},body:null};c.label=1;case 1:return c.trys.push([1,6,,7]),[4,s.upload(o)];case 2:return(n=c.sent(),!(n.status===200))?[3,5]:((u=i===null||i===void 0?void 0:i.Logger)===null||u===void 0?void 0:u.verbose("Successfully received configuration from server"),!n.json)?[3,4]:[4,n.json()];case 3:return r=c.sent(),[2,r];case 4:return h=n,r=JSON.parse(h.responseText),[2,r];case 5:return(f=i===null||i===void 0?void 0:i.Logger)===null||f===void 0?void 0:f.verbose("Issue with receiving configuration from server, received HTTP Code of "+n.statusText),[3,7];case 6:return c.sent(),(e=i===null||i===void 0?void 0:i.Logger)===null||e===void 0?void 0:e.error("Error getting forwarder configuration from mParticle servers."),[3,7];case 7:return[2,t]}})})}}function uc(n,t,i){return ft(this,void 0,void 0,function(){var o,f,v,s,y,p,h,w,b,r,e,u,c,l,k,a;return et(this,function(d){switch(d.label){case 0:o=n.Logger;f=o.verbose;v=o.error;s=n._Helpers.invokeAliasCallback;y=n._Store.SDKConfig.aliasUrl;p=n._Store.devToken;f(tf.InformationMessages.SendAliasHttp);h="https://".concat(y).concat(p,"/Alias");w=window.fetch?new vt(h):new yt(h);b={method:"post",headers:{Accept:"text/plain;charset=UTF-8","Content-Type":"application/json"},body:JSON.stringify(t)};d.label=1;case 1:return d.trys.push([1,9,,10]),[4,w.upload(b)];case 2:if(r=d.sent(),e=void 0,u=void 0,!r.json)return[3,7];d.label=3;case 3:return d.trys.push([3,5,,6]),[4,r.json()];case 4:return u=d.sent(),[3,6];case 5:return d.sent(),f("The request has no response body"),[3,6];case 6:return[3,8];case 7:c=r;u=c.responseText?JSON.parse(c.responseText):"";d.label=8;case 8:l=void 0;switch(r.status){case lr:case vf:e="Successfully sent forwarding stats to mParticle Servers";break;default:(u===null||u===void 0?void 0:u.message)&&(l=u.message);e="Issue with sending Alias Request to mParticle Servers, received HTTP Code of "+r.status}return f(e),s(i,r.status,l),[3,10];case 9:return k=d.sent(),a=k,v("Error sending alias request to mParticle servers. "+a),s(i,nf.noHttpCoverage,a.message),[3,10];case 10:return[2]}})})}function ec(n){this.sendAliasRequest=function(){var t=ir(at.mark(function i(t,r){return at.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,uc(n,t,r);case 2:case"end":return i.stop()}},i)}));return function(){return t.apply(this,arguments)}}();this.sendIdentityRequest=function(){var t=ir(at.mark(function i(t,r,u,f,e,o,s){var a,c,v,y,w,p,b,k,h,l,d;return at.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(a=n.Logger,c=a.verbose,v=a.error,y=n._Helpers.invokeCallback,c(er.InformationMessages.SendIdentityBegin),t){i.next=6;break}return v(er.ErrorMessages.APIRequestEmpty),i.abrupt("return");case 6:if(c(er.InformationMessages.SendIdentityHttp),!n._Store.identityCallInFlight){i.next=10;break}return y(u,rf.activeIdentityRequest,"There is currently an Identity request processing. Please wait for this to return before requesting again"),i.abrupt("return");case 10:return w=o||null,p=this.getUploadUrl(r,o),b=window.fetch?new vt(p):new yt(p),k={method:"post",headers:{Accept:"text/plain;charset=UTF-8","Content-Type":"application/json","x-mp-key":n._Store.devToken},body:JSON.stringify(t)},i.prev=14,n._Store.identityCallInFlight=!0,i.next=18,b.upload(k);case 18:if(h=i.sent,!h.json){i.next=26;break}return i.next=22,h.json();case 22:d=i.sent;l=this.getIdentityResponseFromFetch(h,d);i.next=27;break;case 26:l=this.getIdentityResponseFromXHR(h);case 27:c("Received Identity Response from server: "+JSON.stringify(l.responseText));e(l,w,u,f,r,s,!1);i.next=36;break;case 31:i.prev=31;i.t0=i["catch"](14);n._Store.identityCallInFlight=!1;y(u,rf.noHttpCoverage,i.t0);v("Error sending identity request to servers - "+i.t0);case 36:case"end":return i.stop()}},i,this,[[14,31]])}));return function(){return t.apply(this,arguments)}}();this.getUploadUrl=function(t,i){var r=n._Helpers.createServiceUrl(n._Store.SDKConfig.identityUrl);return t===fc?r+i+"/"+t:r+t};this.getIdentityResponseFromFetch=function(n,t){return{status:n.status,responseText:t,cacheMaxAge:parseInt(n.headers.get(pu))||0,expireTimestamp:0}};this.getIdentityResponseFromXHR=function(n){return{status:n.status,responseText:n.responseText?JSON.parse(n.responseText):{},cacheMaxAge:rt(n.getResponseHeader(pu)||""),expireTimestamp:0}}}function ff(i){var r=this;this._instanceName=i;this._NativeSdkHelpers=new ts(this);this._SessionManager=new rs(this);this._Persistence=new cs(this);this._Helpers=new ns(this);this._Events=new ls(this);this._CookieSyncManager=new is(this);this._ServerModel=new yu(this);this._Ecommerce=new us(this);this._ForwardingStatsUploader=new nh(this);this._Consent=new nc(this);this._IdentityAPIClient=new ec(this);this._preInit={readyQueue:[],integrationDelays:{},forwarderConstructors:[]};this._IntegrationCapture=new sc;this.IdentityType=n.IdentityType;this.EventType=n.EventType;this.CommerceEventType=n.CommerceEventType;this.PromotionType=n.PromotionActionType;this.ProductActionType=n.ProductActionType;this._Identity=new dh(this);this.Identity=this._Identity.IdentityAPI;this.generateHash=this._Helpers.generateHash;this.getDeviceId=this._Persistence.getDeviceId;typeof window!="undefined"&&window.mParticle&&window.mParticle.config&&window.mParticle.config.hasOwnProperty("rq")&&(this._preInit.readyQueue=window.mParticle.config.rq);this.init=function(n,t){var i=this,r;if(t||console.warn("You did not pass a config object to init(). mParticle will not initialize properly"),pc(this,n,t),t)!t.hasOwnProperty("requestConfig")||t.requestConfig?(r=new rc(n,t,this),r.getSDKConfiguration().then(function(r){var u=i._Helpers.extend({},t,r);ef(n,u,i)})):ef(n,t,this);else{console.error("No config available on the window, please pass a config object to mParticle.init()");return}};this.setLogLevel=function(n){r.Logger.setLogLevel(n)};this.reset=function(n){try{n._Persistence.resetPersistence();n._Store&&delete n._Store}catch(t){console.error("Cannot reset mParticle",t)}};this._resetForTests=function(n,t,i){i._Store&&delete i._Store;i._Store=new ou(n,i);i._Store.isLocalStorageAvailable=i._Persistence.determineLocalStorageAvailability(window.localStorage);i._Events.stopTracking();t||i._Persistence.resetPersistence();i._Persistence.forwardingStatsBatches.uploadsTable={};i._Persistence.forwardingStatsBatches.forwardingStatsEventQueue=[];i._preInit={readyQueue:[],pixelConfigurations:[],integrationDelays:{},forwarderConstructors:[],isDevelopmentMode:!1}};this.ready=function(n){r.isInitialized()&&typeof n=="function"?n():r._preInit.readyQueue.push(n)};this.getEnvironment=function(){return r._Store.SDKConfig.isDevelopmentMode?n.Environment.Development:n.Environment.Production};this.getVersion=function(){return t.sdkVersion};this.setAppVersion=function(n){var t=w(function(){r.setAppVersion(n)},r);t||(r._Store.SDKConfig.appVersion=n,r._Persistence.update())};this.setDeviceId=function(n){var t=w(function(){r.setDeviceId(n)},r);t||this._Store.setDeviceId(n)};this.isInitialized=function(){return r._Store?r._Store.isInitialized:!1};this.getAppName=function(){return r._Store.SDKConfig.appName};this.setAppName=function(n){var t=w(function(){r.setAppName(n)},r);t||(r._Store.SDKConfig.appName=n)};this.getAppVersion=function(){return r._Store.SDKConfig.appVersion};this.stopTrackingLocation=function(){r._SessionManager.resetSessionTimer();r._Events.stopTracking()};this.startTrackingLocation=function(n){ei(n)||r.Logger.warning("Warning: Location tracking is triggered, but not including a callback into the `startTrackingLocation` may result in events logged too quickly and not being associated with a location.");r._SessionManager.resetSessionTimer();r._Events.startTracking(n)};this.setPosition=function(n,t){var i=w(function(){r.setPosition(n,t)},r);i||(r._SessionManager.resetSessionTimer(),typeof n=="number"&&typeof t=="number"?r._Store.currentPosition={lat:n,lng:t}:r.Logger.error("Position latitude and/or longitude must both be of type number"))};this.startNewSession=function(){r._SessionManager.startNewSession()};this.endSession=function(){r._SessionManager.endSession(!0)};this.logBaseEvent=function(t,i){var u=w(function(){r.logBaseEvent(t,i)},r);if(!u){if(r._SessionManager.resetSessionTimer(),typeof t.name!="string"){r.Logger.error(ht.ErrorMessages.EventNameInvalidType);return}if(t.eventType||(t.eventType=n.EventType.Unknown),!r._Helpers.canLog()){r.Logger.error(ht.ErrorMessages.LoggingDisabled);return}r._Events.logEvent(t,i)}};this.logEvent=function(t,i,u,f,e){var o=w(function(){r.logEvent(t,i,u,f,e)},r);if(!o){if(r._SessionManager.resetSessionTimer(),typeof t!="string"){r.Logger.error(ht.ErrorMessages.EventNameInvalidType);return}if(i||(i=n.EventType.Unknown),!r._Helpers.isEventType(i)){r.Logger.error("Invalid event type: "+i+", must be one of: \n"+JSON.stringify(n.EventType));return}if(!r._Helpers.canLog()){r.Logger.error(ht.ErrorMessages.LoggingDisabled);return}r._Events.logEvent({messageType:n.MessageType.PageEvent,name:t,data:u,eventType:i,customFlags:f},e)}};this.logError=function(t,i){var o=w(function(){r.logError(t,i)},r),u,f,e;if(!o&&(r._SessionManager.resetSessionTimer(),t)){if(typeof t=="string"&&(t={message:t}),u={m:t.message?t.message:t,s:"Error",t:t.stack||null},i){f=r._Helpers.sanitizeAttributes(i,u.m);for(e in f)u[e]=f[e]}r._Events.logEvent({messageType:n.MessageType.CrashReport,name:t.name?t.name:"Error",data:u,eventType:n.EventType.Other})}};this.logLink=function(n,t,i,u){r._Events.addEventHandler("click",n,t,u,i)};this.logForm=function(n,t,i,u){r._Events.addEventHandler("submit",n,t,u,i)};this.logPageView=function(t,i,u,f){var e=w(function(){r.logPageView(t,i,u,f)},r);if(!e){if(r._SessionManager.resetSessionTimer(),r._Helpers.canLog()){if(r._Helpers.Validators.isStringOrNumber(t)||(t="PageView"),i){if(!r._Helpers.isObject(i)){r.Logger.error("The attributes argument must be an object. A "+p(i)+" was entered. Please correct and retry.");return}}else i={hostname:window.location.hostname,title:window.document.title};if(u&&!r._Helpers.isObject(u)){r.Logger.error("The customFlags argument must be an object. A "+p(u)+" was entered. Please correct and retry.");return}}r._Events.logEvent({messageType:n.MessageType.PageView,name:t,data:i,eventType:n.EventType.Unknown,customFlags:u},f)}};this.upload=function(){r._Helpers.canLog()&&(r._Store.webviewBridgeEnabled?r._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.Upload):r._APIClient.uploader.prepareAndUpload(!1,!1))};this.Consent={createCCPAConsent:r._Consent.createPrivacyConsent,createGDPRConsent:r._Consent.createPrivacyConsent,createConsentState:r._Consent.createConsentState};this.eCommerce={Cart:{add:function(n,t){r.Logger.warning("Deprecated function eCommerce.Cart.add() will be removed in future releases");var i,u=r.Identity.getCurrentUser();u&&(i=u.getMPID());r._Identity.mParticleUserCart(i).add(n,t)},remove:function(n,t){r.Logger.warning("Deprecated function eCommerce.Cart.remove() will be removed in future releases");var i,u=r.Identity.getCurrentUser();u&&(i=u.getMPID());r._Identity.mParticleUserCart(i).remove(n,t)},clear:function(){r.Logger.warning("Deprecated function eCommerce.Cart.clear() will be removed in future releases");var n,t=r.Identity.getCurrentUser();t&&(n=t.getMPID());r._Identity.mParticleUserCart(n).clear()}},setCurrencyCode:function(n){var t=w(function(){r.eCommerce.setCurrencyCode(n)},r);if(!t){if(typeof n!="string"){r.Logger.error("Code must be a string");return}r._SessionManager.resetSessionTimer();r._Store.currencyCode=n}},createProduct:function(n,t,i,u,f,e,o,s,h,c){return r._Ecommerce.createProduct(n,t,i,u,f,e,o,s,h,c)},createPromotion:function(n,t,i,u){return r._Ecommerce.createPromotion(n,t,i,u)},createImpression:function(n,t){return r._Ecommerce.createImpression(n,t)},createTransactionAttributes:function(n,t,i,u,f,e){return r._Ecommerce.createTransactionAttributes(n,t,i,u,f,e)},logCheckout:function(n,t,i,u){if(r.Logger.warning("mParticle.logCheckout is deprecated, please use mParticle.logProductAction instead"),!r._Store.isInitialized){r.ready(function(){r.eCommerce.logCheckout(n,t,i,u)});return}r._SessionManager.resetSessionTimer();r._Events.logCheckoutEvent(n,t,i,u)},logProductAction:function(n,t,i,u,f,e){var o=w(function(){r.eCommerce.logProductAction(n,t,i,u,f,e)},r);o||(r._SessionManager.resetSessionTimer(),r._Events.logProductActionEvent(n,t,i,u,f,e))},logPurchase:function(n,t,i,u,f){if(r.Logger.warning("mParticle.logPurchase is deprecated, please use mParticle.logProductAction instead"),!r._Store.isInitialized){r.ready(function(){r.eCommerce.logPurchase(n,t,i,u,f)});return}if(!n||!t){r.Logger.error(ht.ErrorMessages.BadLogPurchase);return}r._SessionManager.resetSessionTimer();r._Events.logPurchaseEvent(n,t,u,f)},logPromotion:function(n,t,i,u,f){var e=w(function(){r.eCommerce.logPromotion(n,t,i,u,f)},r);e||(r._SessionManager.resetSessionTimer(),r._Events.logPromotionEvent(n,t,i,u,f))},logImpression:function(n,t,i,u){var f=w(function(){r.eCommerce.logImpression(n,t,i,u)},r);f||(r._SessionManager.resetSessionTimer(),r._Events.logImpressionEvent(n,t,i,u))},logRefund:function(n,t,i,u,f){if(r.Logger.warning("mParticle.logRefund is deprecated, please use mParticle.logProductAction instead"),!r._Store.isInitialized){r.ready(function(){r.eCommerce.logRefund(n,t,i,u,f)});return}r._SessionManager.resetSessionTimer();r._Events.logRefundEvent(n,t,u,f)},expandCommerceEvent:function(n){return r._Ecommerce.expandCommerceEvent(n)}};this.setSessionAttribute=function(n,i){var f=w(function(){r.setSessionAttribute(n,i)},r),u;if(!f&&r._Helpers.canLog()){if(!r._Helpers.Validators.isValidAttributeValue(i)){r.Logger.error(ht.ErrorMessages.BadAttribute);return}if(!r._Helpers.Validators.isValidKeyValue(n)){r.Logger.error(ht.ErrorMessages.BadKey);return}r._Store.webviewBridgeEnabled?r._NativeSdkHelpers.sendToNative(t.NativeSdkPaths.SetSessionAttribute,JSON.stringify({key:n,value:i})):(u=r._Helpers.findKeyInObject(r._Store.sessionAttributes,n),u&&(n=u),r._Store.sessionAttributes[n]=i,r._Persistence.update(),r._Forwarders.applyToForwarders("setSessionAttribute",[n,i]))}};this.setOptOut=function(n){var t=w(function(){r.setOptOut(n)},r);t||(r._SessionManager.resetSessionTimer(),r._Store.isEnabled=!n,r._Events.logOptOut(),r._Persistence.update(),r._Store.activeForwarders.length&&r._Store.activeForwarders.forEach(function(t){if(t.setOptOut){var i=t.setOptOut(n);i&&r.Logger.verbose(i)}}))};this.setIntegrationAttribute=function(n,t){var u=w(function(){r.setIntegrationAttribute(n,t)},r),i;if(!u){if(typeof n!="number"){r.Logger.error("integrationId must be a number");return}if(t===null)r._Store.integrationAttributes[n]={};else if(r._Helpers.isObject(t))if(Object.keys(t).length===0)r._Store.integrationAttributes[n]={};else for(i in t)if(typeof i=="string")if(typeof t[i]=="string")r._Helpers.isObject(r._Store.integrationAttributes[n])?r._Store.integrationAttributes[n][i]=t[i]:(r._Store.integrationAttributes[n]={},r._Store.integrationAttributes[n][i]=t[i]);else{r.Logger.error("Values for integration attributes must be strings. You entered a "+p(t[i]));continue}else{r.Logger.error("Keys must be strings, you entered a "+p(i));continue}else{r.Logger.error("Attrs must be an object with keys and values. You entered a "+p(t));return}r._Persistence.update()}};this.getIntegrationAttributes=function(n){return r._Store.integrationAttributes[n]?r._Store.integrationAttributes[n]:{}};this.addForwarder=function(n){r._preInit.forwarderConstructors.push(n)};this.configurePixel=function(n){r._Forwarders.configurePixel(n)};this._getActiveForwarders=function(){return r._Store.activeForwarders};this._getIntegrationDelays=function(){return r._preInit.integrationDelays};this._setIntegrationDelay=function(n,t){var i,u;(r._preInit.integrationDelays[n]=t,t!==!0)&&(i=Object.keys(r._preInit.integrationDelays),i.length!==0)&&(u=i.some(function(n){return r._preInit.integrationDelays[n]===!0}),u||r._APIClient.processQueuedEvents())};this._setWrapperSDKInfo=function(n,t){var i=w(function(){r._setWrapperSDKInfo(n,t)},r);i||r._Store.wrapperSDKInfo!==undefined&&r._Store.wrapperSDKInfo.isInfoSet||(r._Store.wrapperSDKInfo={name:n,version:t,isInfoSet:!0})}}function ef(n,t,i){var u=vc(t,i);if(i._APIClient=new ru(i,u),i._Forwarders=new ks(i,u),i._Store.processConfig(t),i._Identity.idCache=yc(i),ch(i._Identity.idCache),i._Store.webviewBridgeEnabled)i._NativeSdkHelpers.initializeSessionAttributes(n);else{i._Persistence.initializeStorage();i._Store.syncPersistenceData();var r=i.Identity.getCurrentUser(),e=r?r.getMPID():null,f=r?r.getUserIdentities().userIdentities:{};i._Store.SDKConfig.identifyRequest=i._Store.hasInvalidIdentifyRequest()?{userIdentities:f}:i._Store.SDKConfig.identifyRequest;i._Helpers.getFeatureFlag(cc)&&i._ForwardingStatsUploader.startForwardingStatsTimer();i._Helpers.getFeatureFlag(lc)&&i._IntegrationCapture.capture();i._Forwarders.processForwarders(t,i._APIClient.prepareForwardingStats);i._Forwarders.processPixelConfigs(t);i._SessionManager.initialize();i._Events.logAST();wc(i,r,e,f)}(i._Store.mpid&&!i._Store.identifyCalled||i._Store.webviewBridgeEnabled)&&(i._Store.isInitialized=!0,i._preInit.readyQueue=ku(i._preInit.readyQueue));i._Store.isFirstRun&&(i._Store.isFirstRun=!1)}function vc(n,t){var f,i,u,r;return n.dataPlanOptions&&(t.Logger.verbose("Customer provided data plan found"),r=n.dataPlanOptions,i={document:{dtpn:{vers:r.dataPlanVersion,blok:{ev:r.blockEvents,ea:r.blockEventAttributes,ua:r.blockUserAttributes,id:r.blockUserIdentities}}}}),i||(n.dataPlan&&n.dataPlan.document?n.dataPlan.document.error_message?u=n.dataPlan.document.error_message:(t.Logger.verbose("Data plan found from mParticle.js"),i=n.dataPlan):n.dataPlanResult&&(n.dataPlanResult.error_message?u=n.dataPlanResult.error_message:(t.Logger.verbose("Data plan found from /config"),i={document:n.dataPlanResult}))),u&&t.Logger.error(u),i&&(f=new tc(i,t)),f}function yc(n){return new tu("".concat(n._Store.storageName,"-id-cache"),{logger:n.Logger})}function pc(n,t,i){n.Logger=new ss(i);n._Store=new ou(i,n,t);window.mParticle.Store=n._Store;n.Logger.verbose(ac);try{n._Store.isLocalStorageAvailable=n._Persistence.determineLocalStorageAvailability(window.localStorage)}catch(r){n.Logger.warning("localStorage is not available, using cookies if available");n._Store.isLocalStorageAvailable=!1}}function wc(n,t,i,r){!n._Store.identifyCalled&&n._Store.SDKConfig.identityCallback&&t&&i&&n._Store.SDKConfig.identityCallback({httpCode:hc.activeSession,getUser:function(){return n._Identity.mParticleUser(i)},getPreviousUser:function(){var r=n.Identity.getUsers(),t=r.shift(),u=t.getMPID();return t&&u===i&&(t=r.shift()),t||null},body:{mpid:i,is_logged_in:n._Store.isLoggedIn,matched_identities:r,context:null,is_ephemeral:!1}})}function w(n,t){return t.isInitialized()?!1:(t.ready(function(){n()}),!0)}function dc(){var i=this;this.Store={};this._instances={};this.IdentityType=n.IdentityType;this.EventType=n.EventType;this.CommerceEventType=n.CommerceEventType;this.PromotionType=n.PromotionActionType;this.ProductActionType=n.ProductActionType;this.MPSideloadedKit=kc;typeof window!="undefined"&&(this.isIOS=window.mParticle&&window.mParticle.isIOS?window.mParticle.isIOS:!1,this.config=window.mParticle&&window.mParticle.config?window.mParticle.config:{});this.init=function(n,r,u){!r&&window.mParticle&&window.mParticle.config&&(console.warn("You did not pass a config object to mParticle.init(). Attempting to use the window.mParticle.config if it exists. Please note that in a future release, this may not work and mParticle will not initialize properly"),r=window.mParticle?window.mParticle.config:{});u=(!u||u.length===0?t.DefaultInstance:u).toLowerCase();var f=i._instances[u];f===undefined&&(f=new ff(n),i._instances[u]=f);f.init(n,r,u)};this.getInstance=function(n){var r;return n?(r=i._instances[n.toLowerCase()],!r)?(console.log("You tried to initialize an instance named "+n+". This instance does not exist. Check your instance name or initialize a new instance with this name before calling it."),null):r:(n=t.DefaultInstance,r=i._instances[n],r||(r=new ff(n),i._instances[t.DefaultInstance]=r),r)};this.getDeviceId=function(){return i.getInstance().getDeviceId()};this.setDeviceId=function(n){return i.getInstance().setDeviceId(n)};this.isInitialized=function(){return i.getInstance().isInitialized()};this.startNewSession=function(){i.getInstance().startNewSession()};this.endSession=function(){i.getInstance().endSession()};this.setLogLevel=function(n){i.getInstance().setLogLevel(n)};this.ready=function(n){i.getInstance().ready(n)};this.setAppVersion=function(n){i.getInstance().setAppVersion(n)};this.getAppName=function(){return i.getInstance().getAppName()};this.setAppName=function(n){i.getInstance().setAppName(n)};this.getAppVersion=function(){return i.getInstance().getAppVersion()};this.getEnvironment=function(){return i.getInstance().getEnvironment()};this.stopTrackingLocation=function(){i.getInstance().stopTrackingLocation()};this.startTrackingLocation=function(n){i.getInstance().startTrackingLocation(n)};this.setPosition=function(n,t){i.getInstance().setPosition(n,t)};this.startNewSession=function(){i.getInstance().startNewSession()};this.endSession=function(){i.getInstance().endSession()};this.logBaseEvent=function(n,t){i.getInstance().logBaseEvent(n,t)};this.logEvent=function(n,t,r,u,f){i.getInstance().logEvent(n,t,r,u,f)};this.logError=function(n,t){i.getInstance().logError(n,t)};this.logLink=function(n,t,r,u){i.getInstance().logLink(n,t,r,u)};this.logForm=function(n,t,r,u){i.getInstance().logForm(n,t,r,u)};this.logPageView=function(n,t,r,u){i.getInstance().logPageView(n,t,r,u)};this.upload=function(){i.getInstance().upload()};this.eCommerce={Cart:{add:function(n,t){i.getInstance().eCommerce.Cart.add(n,t)},remove:function(n,t){i.getInstance().eCommerce.Cart.remove(n,t)},clear:function(){i.getInstance().eCommerce.Cart.clear()}},setCurrencyCode:function(n){i.getInstance().eCommerce.setCurrencyCode(n)},createProduct:function(n,t,r,u,f,e,o,s,h,c){return i.getInstance().eCommerce.createProduct(n,t,r,u,f,e,o,s,h,c)},createPromotion:function(n,t,r,u){return i.getInstance().eCommerce.createPromotion(n,t,r,u)},createImpression:function(n,t){return i.getInstance().eCommerce.createImpression(n,t)},createTransactionAttributes:function(n,t,r,u,f,e){return i.getInstance().eCommerce.createTransactionAttributes(n,t,r,u,f,e)},logCheckout:function(n,t,r,u){i.getInstance().eCommerce.logCheckout(n,t,r,u)},logProductAction:function(n,t,r,u,f,e){i.getInstance().eCommerce.logProductAction(n,t,r,u,f,e)},logPurchase:function(n,t,r,u,f){i.getInstance().eCommerce.logPurchase(n,t,r,u,f)},logPromotion:function(n,t,r,u,f){i.getInstance().eCommerce.logPromotion(n,t,r,u,f)},logImpression:function(n,t,r,u){i.getInstance().eCommerce.logImpression(n,t,r,u)},logRefund:function(n,t,r,u,f){i.getInstance().eCommerce.logRefund(n,t,r,u,f)},expandCommerceEvent:function(n){return i.getInstance().eCommerce.expandCommerceEvent(n)}};this.setSessionAttribute=function(n,t){i.getInstance().setSessionAttribute(n,t)};this.setOptOut=function(n){i.getInstance().setOptOut(n)};this.setIntegrationAttribute=function(n,t){i.getInstance().setIntegrationAttribute(n,t)};this.getIntegrationAttributes=function(n){return i.getInstance().getIntegrationAttributes(n)};this.Identity={HTTPCodes:t.HTTPCodes,aliasUsers:function(n,t){i.getInstance().Identity.aliasUsers(n,t)},createAliasRequest:function(n,t){return i.getInstance().Identity.createAliasRequest(n,t)},getCurrentUser:function(){return i.getInstance().Identity.getCurrentUser()},getUser:function(n){return i.getInstance().Identity.getUser(n)},getUsers:function(){return i.getInstance().Identity.getUsers()},identify:function(n,t){i.getInstance().Identity.identify(n,t)},login:function(n,t){i.getInstance().Identity.login(n,t)},logout:function(n,t){i.getInstance().Identity.logout(n,t)},modify:function(n,t){i.getInstance().Identity.modify(n,t)}};this.sessionManager={getSession:function(){return i.getInstance()._SessionManager.getSession()}};this.Consent={createConsentState:function(){return i.getInstance().Consent.createConsentState()},createGDPRConsent:function(n,t,r,u,f){return i.getInstance().Consent.createGDPRConsent(n,t,r,u,f)},createCCPAConsent:function(n,t,r,u,f){return i.getInstance().Consent.createGDPRConsent(n,t,r,u,f)}};this.reset=function(){i.getInstance().reset(i.getInstance())};this._resetForTests=function(n,t){typeof t=="boolean"?i.getInstance()._resetForTests(n,t,i.getInstance()):i.getInstance()._resetForTests(n,!1,i.getInstance())};this.configurePixel=function(n){i.getInstance().configurePixel(n)};this._setIntegrationDelay=function(n,t){i.getInstance()._setIntegrationDelay(n,t)};this._getIntegrationDelays=function(){return i.getInstance()._getIntegrationDelays()};this.getVersion=function(){return i.getInstance().getVersion()};this.generateHash=function(n){return i.getInstance().generateHash(n)};this.addForwarder=function(n){i.getInstance().addForwarder(n)};this._getActiveForwarders=function(){return i.getInstance()._getActiveForwarders()};this._setWrapperSDKInfo=function(n,t){i.getInstance()._setWrapperSDKInfo(n,t)}}var nt={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(n){try{if(window.btoa&&window.atob)return window.btoa(unescape(encodeURIComponent(n)))}catch(t){console.error("Error encoding cookie values into Base64:"+t)}return this._encode(n)},_encode:function(n){var f="",e,t,i,s,h,o,r,u=0;for(n=sr.encode(n);u<n.length;)e=n.charCodeAt(u++),t=n.charCodeAt(u++),i=n.charCodeAt(u++),s=e>>2,h=(e&3)<<4|t>>4,o=(t&15)<<2|i>>6,r=i&63,isNaN(t)?o=r=64:isNaN(i)&&(r=64),f=f+nt._keyStr.charAt(s)+nt._keyStr.charAt(h)+nt._keyStr.charAt(o)+nt._keyStr.charAt(r);return f},decode:function(n){try{if(window.btoa&&window.atob)return decodeURIComponent(escape(window.atob(n)))}catch(t){}return nt._decode(n)},_decode:function(n){var t="",e,o,s,h,u,r,f,i=0;for(n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<n.length;)h=nt._keyStr.indexOf(n.charAt(i++)),u=nt._keyStr.indexOf(n.charAt(i++)),r=nt._keyStr.indexOf(n.charAt(i++)),f=nt._keyStr.indexOf(n.charAt(i++)),e=h<<2|u>>4,o=(u&15)<<4|r>>2,s=(r&3)<<6|f,t=t+String.fromCharCode(e),r!==64&&(t=t+String.fromCharCode(o)),f!==64&&(t=t+String.fromCharCode(s));return sr.decode(t)}},sr={encode:function(n){for(var t,i="",r=0;r<n.length;r++)t=n.charCodeAt(r),t<128?i+=String.fromCharCode(t):t>127&&t<2048?(i+=String.fromCharCode(t>>6|192),i+=String.fromCharCode(t&63|128)):(i+=String.fromCharCode(t>>12|224),i+=String.fromCharCode(t>>6&63|128),i+=String.fromCharCode(t&63|128));return i},decode:function(n){for(var r="",t=0,i=0,u=0,f=0;t<n.length;)i=n.charCodeAt(t),i<128?(r+=String.fromCharCode(i),t++):i>191&&i<224?(u=n.charCodeAt(t+1),r+=String.fromCharCode((i&31)<<6|u&63),t+=2):(u=n.charCodeAt(t+1),f=n.charCodeAt(t+2),r+=String.fromCharCode((i&15)<<12|(u&63)<<6|f&63),t+=3);return r}},bt={forEach:function(n,t){var u,i,r,f,e;if(this==null)throw new TypeError(" this is null or not defined");if(r=Object(this),f=r.length>>>0,typeof n!="function")throw new TypeError(n+" is not a function");for(arguments.length>1&&(u=t),i=0;i<f;)i in r&&(e=r[i],n.call(u,e,i,r)),i++},map:function(n,t){var e,u,i,r,f,o,s;if(this===null)throw new TypeError(" this is null or not defined");if(r=Object(this),f=r.length>>>0,typeof n!="function")throw new TypeError(n+" is not a function");for(arguments.length>1&&(e=t),u=new Array(f),i=0;i<f;)i in r&&(o=r[i],s=n.call(e,o,i,r),u[i]=s),i++;return u},filter:function(n){var i,f,r,e,t,u;if(this===void 0||this===null)throw new TypeError;if(i=Object(this),f=i.length>>>0,typeof n!="function")throw new TypeError;for(r=[],e=arguments.length>=2?arguments[1]:void 0,t=0;t<f;t++)t in i&&(u=i[t],n.call(e,u,t,i)&&r.push(u));return r},isArray:function(n){return Object.prototype.toString.call(n)==="[object Array]"},Base64:nt},ii,cr,s,ri,b,f,ot,i,e,eu,pt,dt,lt,ci,li,lu,at,ni,vu,y,nf,tf,or;(function(n){n[n.Unknown=0]="Unknown";n[n.Navigation=1]="Navigation";n[n.Location=2]="Location";n[n.Search=3]="Search";n[n.Transaction=4]="Transaction";n[n.UserContent=5]="UserContent";n[n.UserPreference=6]="UserPreference";n[n.Social=7]="Social";n[n.Other=8]="Other";n[n.Media=9]="Media"})(ii||(ii={})),function(n){n[n.SessionStart=1]="SessionStart";n[n.SessionEnd=2]="SessionEnd";n[n.PageView=3]="PageView";n[n.PageEvent=4]="PageEvent";n[n.CrashReport=5]="CrashReport";n[n.OptOut=6]="OptOut";n[n.AppStateTransition=10]="AppStateTransition";n[n.Profile=14]="Profile";n[n.Commerce=16]="Commerce";n[n.UserAttributeChange=17]="UserAttributeChange";n[n.UserIdentityChange=18]="UserIdentityChange";n[n.Media=20]="Media"}(cr||(cr={})),function(n){n[n.Other=0]="Other";n[n.CustomerId=1]="CustomerId";n[n.Facebook=2]="Facebook";n[n.Twitter=3]="Twitter";n[n.Google=4]="Google";n[n.Microsoft=5]="Microsoft";n[n.Yahoo=6]="Yahoo";n[n.Email=7]="Email";n[n.FacebookCustomAudienceId=9]="FacebookCustomAudienceId";n[n.Other2=10]="Other2";n[n.Other3=11]="Other3";n[n.Other4=12]="Other4";n[n.Other5=13]="Other5";n[n.Other6=14]="Other6";n[n.Other7=15]="Other7";n[n.Other8=16]="Other8";n[n.Other9=17]="Other9";n[n.Other10=18]="Other10";n[n.MobileNumber=19]="MobileNumber";n[n.PhoneNumber2=20]="PhoneNumber2";n[n.PhoneNumber3=21]="PhoneNumber3"}(s||(s={}));ri=function(n,t){return ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},ri(n,t)};b=function(){return b=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},b.apply(this,arguments)};typeof SuppressedError=="function"?SuppressedError:function(n,t,i){var r=new Error(i);return r.name="SuppressedError",r.error=n,r.suppressed=t,r};var t={sdkVersion:"2.30.4",sdkVendor:"mparticle",platform:"web",Messages:{DeprecationMessages:{MethodIsDeprecatedPostfix:"is a deprecated method and will be removed in future releases",AlternativeMethodPrefix:"Please use the alternate method:"},ErrorMessages:{NoToken:"A token must be specified.",EventNameInvalidType:"Event name must be a valid string value.",EventDataInvalidType:"Event data must be a valid object hash.",LoggingDisabled:"Event logging is currently disabled.",CookieParseError:"Could not parse cookie",EventEmpty:"Event object is null or undefined, cancelling send",APIRequestEmpty:"APIRequest is null or undefined, cancelling send",NoEventType:"Event type must be specified.",TransactionIdRequired:"Transaction ID is required",TransactionRequired:"A transaction attributes object is required",PromotionIdRequired:"Promotion ID is required",BadAttribute:"Attribute value cannot be object or array",BadKey:"Key value cannot be object or array",BadLogPurchase:"Transaction attributes and a product are both required to log a purchase, https://docs.mparticle.com/?javascript#measuring-transactions",AudienceAPINotEnabled:"Your workspace is not enabled to retrieve user audiences."},InformationMessages:{CookieSearch:"Searching for cookie",CookieFound:"Cookie found, parsing values",CookieNotFound:"Cookies not found",CookieSet:"Setting cookie",CookieSync:"Performing cookie sync",SendBegin:"Starting to send event",SendIdentityBegin:"Starting to send event to identity server",SendWindowsPhone:"Sending event to Windows Phone container",SendIOS:"Calling iOS path: ",SendAndroid:"Calling Android JS interface method: ",SendHttp:"Sending event to mParticle HTTP service",SendAliasHttp:"Sending alias request to mParticle HTTP service",SendIdentityHttp:"Sending event to mParticle HTTP service",StartingNewSession:"Starting new Session",StartingLogEvent:"Starting to log event",StartingLogOptOut:"Starting to log user opt in/out",StartingEndSession:"Starting to end session",StartingInitialization:"Starting to initialize",StartingLogCommerceEvent:"Starting to log commerce event",StartingAliasRequest:"Starting to Alias MPIDs",LoadingConfig:"Loading configuration options",AbandonLogEvent:"Cannot log event, logging disabled or developer token not set",AbandonAliasUsers:"Cannot Alias Users, logging disabled or developer token not set",AbandonStartSession:"Cannot start session, logging disabled or developer token not set",AbandonEndSession:"Cannot end session, logging disabled or developer token not set",NoSessionToEnd:"Cannot end session, no active session found"},ValidationMessages:{ModifyIdentityRequestUserIdentitiesPresent:"identityRequests to modify require userIdentities to be present. Request not sent to server. Please fix and try again",IdentityRequesetInvalidKey:"There is an invalid key on your identityRequest object. It can only contain a `userIdentities` object and a `onUserAlias` function. Request not sent to server. Please fix and try again.",OnUserAliasType:"The onUserAlias value must be a function.",UserIdentities:"The userIdentities key must be an object with keys of identityTypes and values of strings. Request not sent to server. Please fix and try again.",UserIdentitiesInvalidKey:"There is an invalid identity key on your `userIdentities` object within the identityRequest. Request not sent to server. Please fix and try again.",UserIdentitiesInvalidValues:"All user identity values must be strings or null. Request not sent to server. Please fix and try again.",AliasMissingMpid:"Alias Request must contain both a destinationMpid and a sourceMpid",AliasNonUniqueMpid:"Alias Request's destinationMpid and sourceMpid must be unique",AliasMissingTime:"Alias Request must have both a startTime and an endTime",AliasStartBeforeEndTime:"Alias Request's endTime must be later than its startTime"}},NativeSdkPaths:{LogEvent:"logEvent",SetUserTag:"setUserTag",RemoveUserTag:"removeUserTag",SetUserAttribute:"setUserAttribute",RemoveUserAttribute:"removeUserAttribute",SetSessionAttribute:"setSessionAttribute",AddToCart:"addToCart",RemoveFromCart:"removeFromCart",ClearCart:"clearCart",LogOut:"logOut",SetUserAttributeList:"setUserAttributeList",RemoveAllUserAttributes:"removeAllUserAttributes",GetUserAttributesLists:"getUserAttributesLists",GetAllUserAttributes:"getAllUserAttributes",Identify:"identify",Logout:"logout",Login:"login",Modify:"modify",Alias:"aliasUsers",Upload:"upload"},StorageNames:{localStorageName:"mprtcl-api",localStorageNameV3:"mprtcl-v3",cookieName:"mprtcl-api",cookieNameV2:"mprtcl-v2",cookieNameV3:"mprtcl-v3",localStorageNameV4:"mprtcl-v4",localStorageProductsV4:"mprtcl-prodv4",cookieNameV4:"mprtcl-v4",currentStorageName:"mprtcl-v4",currentStorageProductsName:"mprtcl-prodv4"},DefaultConfig:{cookieDomain:null,cookieExpiration:365,logLevel:null,timeout:300,sessionTimeout:30,maxProducts:20,forwarderStatsTimeout:5e3,integrationDelayTimeout:5e3,maxCookieSize:3e3,aliasMaxWindow:90,uploadInterval:0},DefaultBaseUrls:{v1SecureServiceUrl:"jssdks.mparticle.com/v1/JS/",v2SecureServiceUrl:"jssdks.mparticle.com/v2/JS/",v3SecureServiceUrl:"jssdks.mparticle.com/v3/JS/",configUrl:"jssdkcdns.mparticle.com/JS/v2/",identityUrl:"identity.mparticle.com/v1/",aliasUrl:"jssdks.mparticle.com/v1/identity/",userAudienceUrl:"nativesdks.mparticle.com/v1/"},Base64CookieKeys:{csm:1,sa:1,ss:1,ua:1,ui:1,csd:1,ia:1,con:1},SDKv2NonMPIDCookieKeys:{gs:1,cu:1,l:1,globalSettings:1,currentUserMPID:1},HTTPCodes:{noHttpCoverage:-1,activeIdentityRequest:-2,activeSession:-3,validationIssue:-4,nativeIdentityRequest:-5,loggingDisabledOrMissingAPIKey:-6,tooManyRequests:429},FeatureFlags:{ReportBatching:"reportBatching",EventBatchingIntervalMillis:"eventBatchingIntervalMillis",OfflineStorage:"offlineStorage",DirectUrlRouting:"directURLRouting",CacheIdentity:"cacheIdentity",AudienceAPI:"audienceAPI",CaptureIntegrationSpecificIds:"captureIntegrationSpecificIds"},DefaultInstance:"default_instance",CCPAPurpose:"data_sale_opt_out",IdentityMethods:{Modify:"modify",Logout:"logout",Login:"login",Identify:"identify"}},lf=86400,af=1e3,lr=200,vf=202,ar=t.Messages,yf=function(n){return gf(ie(n))},pf=function(n){return ne(te(n))},wf=function(n,t){var i=0,r;if(Array.prototype.indexOf)return n.indexOf(t,0)>=0;for(r=n.length;i<r;i++)if(i in n&&n[i]===t)return!0;return!1},bf=function(n,t){if(t&&n)for(var i in n)if(n.hasOwnProperty(i)&&i.toLowerCase()===t.toLowerCase())return i;return null},vr=function(n,t){var i=[n,ar.DeprecationMessages.MethodIsDeprecatedPostfix];return t&&(i.push(t),i.push(ar.DeprecationMessages.MethodIsDeprecatedPostfix)),i.join(" ")};var kf=function(){var t,n;return(window.crypto&&window.crypto.getRandomValues&&(t=window.crypto.getRandomValues(new Uint8Array(1))),t)?(n^t[0]%16>>n/4).toString(16):(n^Math.random()*16>>n/4).toString(16)},yr=function yr(n){return n===void 0&&(n=""),n?kf():"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,yr)},df=function(n){if(!n)return 100;var t=g(n);return Math.abs(t%100)+1},a=function(n){var t=Object.prototype.toString.call(n);return t==="[object Object]"||t==="[object Error]"},rt=function(n){if(isNaN(n)||!isFinite(n))return 0;var t=parseFloat(n);return isNaN(t)?0:t},ct=function(n){return ki(n)?n:null},gf=function(n){return n.replace(/,/g,"|")},ne=function(n){return n.replace(/\|/g,",")},te=function(n){return n.replace(/\'/g,'"')},ie=function(n){return n.replace(/\"/g,"'")},re=function(n){return n==="false"||n==="0"?!1:Boolean(n)},ue=function(n){return decodeURIComponent(n.replace(/\+/g," "))},fe=function(n){return n.indexOf('"')===0&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),n},pr=function(n){return typeof n=="string"},fi=function(n){return typeof n=="number"},ee=function(n){return typeof n=="boolean"},ei=function(n){return typeof n=="function"},wr=function(n){return fi(n)||pr(n)||ee(n)},oe=function(n){return ki(n)?n.toString().toLowerCase().replace(/[^0-9a-zA-Z]+/g,"_"):""},se=function(n){return n===oe(n)},ki=function(n){return pr(n)||fi(n)},h=function(n){return n==null||!(Object.keys(n)||n).length},he=function(n,t){return n.slice(0,t).concat(n.slice(t+1),n[t])},ce=function(n,t){var r,i,u;return(t===void 0&&(t=[]),i={},!n)?i:(typeof URL!="undefined"&&typeof URLSearchParams!="undefined"?(u=new URL(n),r=new URLSearchParams(u.search)):r=le(n),h(t)?r.forEach(function(n,t){i[t]=n}):t.forEach(function(n){var t=r.get(n);t&&(i[n]=t)}),i)},le=function(n){var t={},i=n.split("?")[1]||"",r=i.split("&");return r.forEach(function(n){var i=n.split("="),r=i[0],u=i[1];r&&u&&(t[r]=decodeURIComponent(u||""))}),{get:function(n){return t[n]},forEach:function(n){for(var i in t)t.hasOwnProperty(i)&&n(t[i],i)}}},ae=function(n){var t=function(){return typeof window=="undefined"?[]:window.document.cookie.split(";").map(function(n){return n.trim()})},i=function(n,t){for(var r={},i=0,u=n;i<u.length;i++){var o=u[i],f=o.split("="),e=f[0],s=f[1];(!t||t.includes(e))&&(r[e]=s)}return r},r=t();return i(r,n)},br=function(){return typeof window!="undefined"&&window.location?window.location.href:""};var oi,di={SessionStart:1,SessionEnd:2,PageView:3,PageEvent:4,CrashReport:5,OptOut:6,AppStateTransition:10,Profile:14,Commerce:16,Media:20,UserAttributeChange:17,UserIdentityChange:18},ye=(oi={},hr(oi,di.Commerce,1),hr(oi,di.UserIdentityChange,1),oi),ut={Unknown:0,Navigation:1,Location:2,Search:3,Transaction:4,UserContent:5,UserPreference:6,Social:7,Other:8,Media:9,getName:function(n){switch(n){case ut.Unknown:return"Unknown";case ut.Navigation:return"Navigation";case ut.Location:return"Location";case ut.Search:return"Search";case ut.Transaction:return"Transaction";case ut.UserContent:return"User Content";case ut.UserPreference:return"User Preference";case ut.Social:return"Social";case k.ProductAddToCart:return"Product Added to Cart";case k.ProductAddToWishlist:return"Product Added to Wishlist";case k.ProductCheckout:return"Product Checkout";case k.ProductCheckoutOption:return"Product Checkout Options";case k.ProductClick:return"Product Click";case k.ProductImpression:return"Product Impression";case k.ProductPurchase:return"Product Purchased";case k.ProductRefund:return"Product Refunded";case k.ProductRemoveFromCart:return"Product Removed From Cart";case k.ProductRemoveFromWishlist:return"Product Removed from Wishlist";case k.ProductViewDetail:return"Product View Details";case k.PromotionClick:return"Promotion Click";case k.PromotionView:return"Promotion View";default:return"Other"}}},k={ProductAddToCart:10,ProductRemoveFromCart:11,ProductCheckout:12,ProductCheckoutOption:13,ProductClick:14,ProductViewDetail:15,ProductPurchase:16,ProductRefund:17,PromotionView:18,PromotionClick:19,ProductAddToWishlist:20,ProductRemoveFromWishlist:21,ProductImpression:22},u={Other:0,CustomerId:1,Facebook:2,Twitter:3,Google:4,Microsoft:5,Yahoo:6,Email:7,FacebookCustomAudienceId:9,Other2:10,Other3:11,Other4:12,Other5:13,Other6:14,Other7:15,Other8:16,Other9:17,Other10:18,MobileNumber:19,PhoneNumber2:20,PhoneNumber3:21};u.isValid=function(n){if(typeof n=="number")for(var t in u)if(u.hasOwnProperty(t)&&u[t]===n)return!0;return!1};u.getName=function(n){switch(n){case window.mParticle.IdentityType.CustomerId:return"Customer ID";case window.mParticle.IdentityType.Facebook:return"Facebook ID";case window.mParticle.IdentityType.Twitter:return"Twitter ID";case window.mParticle.IdentityType.Google:return"Google ID";case window.mParticle.IdentityType.Microsoft:return"Microsoft ID";case window.mParticle.IdentityType.Yahoo:return"Yahoo ID";case window.mParticle.IdentityType.Email:return"Email";case window.mParticle.IdentityType.FacebookCustomAudienceId:return"Facebook App User ID";default:return"Other ID"}};u.getIdentityType=function(n){switch(n){case"other":return u.Other;case"customerid":return u.CustomerId;case"facebook":return u.Facebook;case"twitter":return u.Twitter;case"google":return u.Google;case"microsoft":return u.Microsoft;case"yahoo":return u.Yahoo;case"email":return u.Email;case"facebookcustomaudienceid":return u.FacebookCustomAudienceId;case"other2":return u.Other2;case"other3":return u.Other3;case"other4":return u.Other4;case"other5":return u.Other5;case"other6":return u.Other6;case"other7":return u.Other7;case"other8":return u.Other8;case"other9":return u.Other9;case"other10":return u.Other10;case"mobile_number":return u.MobileNumber;case"phone_number_2":return u.PhoneNumber2;case"phone_number_3":return u.PhoneNumber3;default:return!1}};u.getIdentityName=function(n){return kr(n)};f={Unknown:0,AddToCart:1,RemoveFromCart:2,Checkout:3,CheckoutOption:4,Click:5,ViewDetail:6,Purchase:7,Refund:8,AddToWishlist:9,RemoveFromWishlist:10};f.getName=function(n){switch(n){case f.AddToCart:return"Add to Cart";case f.RemoveFromCart:return"Remove from Cart";case f.Checkout:return"Checkout";case f.CheckoutOption:return"Checkout Option";case f.Click:return"Click";case f.ViewDetail:return"View Detail";case f.Purchase:return"Purchase";case f.Refund:return"Refund";case f.AddToWishlist:return"Add to Wishlist";case f.RemoveFromWishlist:return"Remove from Wishlist";default:return"Unknown"}};f.getExpansionName=function(n){switch(n){case f.AddToCart:return"add_to_cart";case f.RemoveFromCart:return"remove_from_cart";case f.Checkout:return"checkout";case f.CheckoutOption:return"checkout_option";case f.Click:return"click";case f.ViewDetail:return"view_detail";case f.Purchase:return"purchase";case f.Refund:return"refund";case f.AddToWishlist:return"add_to_wishlist";case f.RemoveFromWishlist:return"remove_from_wishlist";default:return"unknown"}};ot={Unknown:0,PromotionView:1,PromotionClick:2};ot.getName=function(n){switch(n){case ot.PromotionView:return"view";case ot.PromotionClick:return"click";default:return"unknown"}};ot.getExpansionName=function(n){switch(n){case ot.PromotionView:return"view";case ot.PromotionClick:return"click";default:return"unknown"}};var n={MessageType:di,EventType:ut,CommerceEventType:k,IdentityType:u,ProfileMessageType:{Logout:3},ApplicationTransitionType:{AppInit:1},ProductActionType:f,PromotionActionType:ot,TriggerUploadType:ye,Environment:{Production:"production",Development:"development"}},d;(function(n){n[n.Unknown=0]="Unknown";n[n.AddToCart=1]="AddToCart";n[n.RemoveFromCart=2]="RemoveFromCart";n[n.Checkout=3]="Checkout";n[n.CheckoutOption=4]="CheckoutOption";n[n.Click=5]="Click";n[n.ViewDetail=6]="ViewDetail";n[n.Purchase=7]="Purchase";n[n.Refund=8]="Refund";n[n.AddToWishlist=9]="AddToWishlist";n[n.RemoveFromWishlist=10]="RemoveFromWishlist"})(d||(d={}));i={},function(n){Object.defineProperty(n,"__esModule",{value:!0}),function(n){n.unknown="Unknown";n.iOS="IOS";n.android="Android";n.windowsPhone="WindowsPhone";n.mobileWeb="MobileWeb";n.unityIOS="UnityIOS";n.unityAndroid="UnityAndroid";n.desktop="Desktop";n.tvOS="TVOS";n.roku="Roku";n.outOfBand="OutOfBand";n.alexa="Alexa";n.smartTV="SmartTV";n.fireTV="FireTV";n.xbox="Xbox"}(n.ApplicationInformationOsEnum||(n.ApplicationInformationOsEnum={})),function(n){n.applicationStateTransition="application_state_transition"}(n.ApplicationStateTransitionEventEventTypeEnum||(n.ApplicationStateTransitionEventEventTypeEnum={})),function(n){n.applicationInitialized="application_initialized";n.applicationExit="application_exit";n.applicationBackground="application_background";n.applicationForeground="application_foreground"}(n.ApplicationStateTransitionEventDataApplicationTransitionTypeEnum||(n.ApplicationStateTransitionEventDataApplicationTransitionTypeEnum={})),function(n){n.unknown="unknown";n.development="development";n.production="production"}(n.BatchEnvironmentEnum||(n.BatchEnvironmentEnum={})),function(n){n.breadcrumb="breadcrumb"}(n.BreadcrumbEventEventTypeEnum||(n.BreadcrumbEventEventTypeEnum={})),function(n){n.commerceEvent="commerce_event"}(n.CommerceEventEventTypeEnum||(n.CommerceEventEventTypeEnum={})),function(n){n.addToCart="add_to_cart";n.removeFromCart="remove_from_cart";n.checkout="checkout";n.checkoutOption="checkout_option";n.click="click";n.viewDetail="view_detail";n.purchase="purchase";n.refund="refund";n.promotionView="promotion_view";n.promotionClick="promotion_click";n.addToWishlist="add_to_wishlist";n.removeFromWishlist="remove_from_wishlist";n.impression="impression"}(n.CommerceEventDataCustomEventTypeEnum||(n.CommerceEventDataCustomEventTypeEnum={})),function(n){n.crashReport="crash_report"}(n.CrashReportEventEventTypeEnum||(n.CrashReportEventEventTypeEnum={})),function(n){n.customEvent="custom_event"}(n.CustomEventEventTypeEnum||(n.CustomEventEventTypeEnum={})),function(n){n.navigation="navigation";n.location="location";n.search="search";n.transaction="transaction";n.userContent="user_content";n.userPreference="user_preference";n.social="social";n.media="media";n.other="other";n.unknown="unknown"}(n.CustomEventDataCustomEventTypeEnum||(n.CustomEventDataCustomEventTypeEnum={})),function(n){n.portrait="portrait";n.portraitUpsideDown="portrait_upside_down";n.landscape="landscape";n.landscapeLeft="LandscapeLeft";n.landscapeRight="LandscapeRight";n.faceUp="FaceUp";n.faceDown="FaceDown";n.square="Square"}(n.DeviceCurrentStateDeviceOrientationEnum||(n.DeviceCurrentStateDeviceOrientationEnum={})),function(n){n.portrait="portrait";n.portraitUpsideDown="portrait_upside_down";n.landscape="landscape";n.landscapeLeft="LandscapeLeft";n.landscapeRight="LandscapeRight";n.faceUp="FaceUp";n.faceDown="FaceDown";n.square="Square"}(n.DeviceCurrentStateStatusBarOrientationEnum||(n.DeviceCurrentStateStatusBarOrientationEnum={})),function(n){n.iOS="iOS";n.android="Android";n.web="web";n.desktop="desktop";n.tvOS="tvOS";n.roku="roku";n.outOfBand="out_of_band";n.smartTV="smart_tv";n.xbox="xbox"}(n.DeviceInformationPlatformEnum||(n.DeviceInformationPlatformEnum={})),function(n){n.unknown="unknown";n.sessionStart="session_start";n.sessionEnd="session_end";n.screenView="screen_view";n.customEvent="custom_event";n.crashReport="crash_report";n.optOut="opt_out";n.firstRun="first_run";n.preAttribution="pre_attribution";n.pushRegistration="push_registration";n.applicationStateTransition="application_state_transition";n.pushMessage="push_message";n.networkPerformance="network_performance";n.breadcrumb="breadcrumb";n.profile="profile";n.pushReaction="push_reaction";n.commerceEvent="commerce_event";n.userAttributeChange="user_attribute_change";n.userIdentityChange="user_identity_change";n.uninstall="uninstall";n.validationResult="validation_result"}(n.EventTypeEnum||(n.EventTypeEnum={})),function(n){n.other="other";n.customerId="customer_id";n.facebook="facebook";n.twitter="twitter";n.google="google";n.microsoft="microsoft";n.yahoo="yahoo";n.email="email";n.alias="alias";n.facebookCustomAudienceId="facebook_custom_audience_id";n.otherId2="other_id_2";n.otherId3="other_id_3";n.otherId4="other_id_4";n.otherId5="other_id_5";n.otherId6="other_id_6";n.otherId7="other_id_7";n.otherId8="other_id_8";n.otherId9="other_id_9";n.otherId10="other_id_10";n.mobileNumber="mobile_number";n.phoneNumber2="phone_number_2";n.phoneNumber3="phone_number_3"}(n.IdentityTypeEnum||(n.IdentityTypeEnum={})),function(n){n.networkPerformance="network_performance"}(n.NetworkPerformanceEventEventTypeEnum||(n.NetworkPerformanceEventEventTypeEnum={})),function(n){n.optOut="opt_out"}(n.OptOutEventEnum||(n.OptOutEventEnum={})),function(n){n.unknown="unknown";n.addToCart="add_to_cart";n.removeFromCart="remove_from_cart";n.checkout="checkout";n.checkoutOption="checkout_option";n.click="click";n.viewDetail="view_detail";n.purchase="purchase";n.refund="refund";n.addToWishlist="add_to_wishlist";n.removeFromWishlist="remove_from_wish_list"}(n.ProductActionActionEnum||(n.ProductActionActionEnum={})),function(n){n.profile="profile"}(n.ProfileEventEventTypeEnum||(n.ProfileEventEventTypeEnum={})),function(n){n.signup="signup";n.login="login";n.logout="logout";n.update="update";n["delete"]="delete"}(n.ProfileEventDataProfileEventTypeEnum||(n.ProfileEventDataProfileEventTypeEnum={})),function(n){n.view="view";n.click="click"}(n.PromotionActionActionEnum||(n.PromotionActionActionEnum={})),function(n){n.pushMessage="push_message"}(n.PushMessageEventEventTypeEnum||(n.PushMessageEventEventTypeEnum={})),function(n){n.sent="sent";n.received="received";n.action="action"}(n.PushMessageEventDataPushMessageTypeEnum||(n.PushMessageEventDataPushMessageTypeEnum={})),function(n){n.notRunning="not_running";n.background="background";n.foreground="foreground"}(n.PushMessageEventDataApplicationStateEnum||(n.PushMessageEventDataApplicationStateEnum={})),function(n){n.received="Received";n.directOpen="DirectOpen";n.read="Read";n.influencedOpen="InfluencedOpen";n.displayed="Displayed"}(n.PushMessageEventDataPushMessageBehaviorEnum||(n.PushMessageEventDataPushMessageBehaviorEnum={})),function(n){n.pushRegistration="push_registration"}(n.PushRegistrationEventEventTypeEnum||(n.PushRegistrationEventEventTypeEnum={})),function(n){n.sessionEnd="session_end"}(n.SessionEndEventEventTypeEnum||(n.SessionEndEventEventTypeEnum={})),function(n){n.sessionStart="session_start"}(n.SessionStartEventEventTypeEnum||(n.SessionStartEventEventTypeEnum={})),function(n){n["native"]="native";n.javascript="javascript";n.pixel="pixel";n.desktop="desktop";n.partner="partner";n.serverToServer="server_to_server"}(n.SourceInformationChannelEnum||(n.SourceInformationChannelEnum={})),function(n){n.userAttributeChange="user_attribute_change"}(n.UserAttributeChangeEventEventTypeEnum||(n.UserAttributeChangeEventEventTypeEnum={})),function(n){n.userIdentityChange="user_identity_change"}(n.UserIdentityChangeEventEventTypeEnum||(n.UserIdentityChangeEventEventTypeEnum={}))}(i),function(n){n.other="other";n.customerId="customerid";n.facebook="facebook";n.twitter="twitter";n.google="google";n.microsoft="microsoft";n.yahoo="yahoo";n.email="email";n.alias="alias";n.facebookCustomAudienceId="facebookcustomaudienceid";n.otherId2="other2";n.otherId3="other3";n.otherId4="other4";n.otherId5="other5";n.otherId6="other6";n.otherId7="other7";n.otherId8="other8";n.otherId9="other9";n.otherId10="other10";n.mobileNumber="mobile_number";n.phoneNumber2="phone_number_2";n.phoneNumber3="phone_number_3"}(e||(e={}));var nu=function(){function n(n,t,i){this._storageKey=n;this.storageObject=t;this.logger=(i===null||i===void 0?void 0:i.logger)||{verbose:function(){},warning:function(){},error:function(){}};this.contents=this.retrieve()}return n.prototype.store=function(n){this.contents=n;var t=h(n)?"":JSON.stringify(n);try{this.storageObject.setItem(this._storageKey,t);this.logger.verbose("Saving item to Storage: ".concat(t))}catch(i){this.logger.error("Cannot Save items to Storage: ".concat(t));this.logger.error(i)}},n.prototype.retrieve=function(){var n=this.storageObject.getItem(this._storageKey);return this.contents=n?JSON.parse(n):null,this.logger.verbose("Retrieving item from Storage: ".concat(n)),this.contents},n.prototype.purge=function(){this.logger.verbose("Purging Storage");this.contents=null;this.storageObject.removeItem(this._storageKey)},n}(),tu=function(n){function t(t,i){return n.call(this,t,window.localStorage,i)||this}return ui(t,n),t}(nu),bo=function(n){function t(t,i){return n.call(this,t,window.sessionStorage,i)||this}return ui(t,n),t}(nu),iu=function(){function n(n){this.url=n}return n}(),vt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ui(t,n),t.prototype.upload=function(n,t){return ft(this,void 0,void 0,function(){var i;return et(this,function(r){switch(r.label){case 0:return i=t||this.url,[4,fetch(i,n)];case 1:return[2,r.sent()]}})})},t}(iu),yt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return ui(t,n),t.prototype.upload=function(n){return ft(this,void 0,void 0,function(){var t;return et(this,function(i){switch(i.label){case 0:return[4,this.makeRequest(this.url,n.body,n.method,n.headers)];case 1:return t=i.sent(),[2,t]}})})},t.prototype.makeRequest=function(n,t,i,r){return i===void 0&&(i="post"),r===void 0&&(r={}),ft(this,void 0,void 0,function(){var u;return et(this,function(){return u=new XMLHttpRequest,[2,new Promise(function(f,e){u.onreadystatechange=function(){u.readyState===4&&f(u)};u.onerror=function(){e(u)};u.open(i,n);Object.entries(r).forEach(function(n){var t=n[0],i=n[1];u.setRequestHeader(t,i)});u.send(t)})]})})},t}(iu),ko=function(){function i(n,t){var r;this.offlineStorageEnabled=!1;this.mpInstance=n;this.uploadIntervalMillis=t;this.batchingEnabled=t>=i.MINIMUM_INTERVAL_MILLIS;this.uploadIntervalMillis<i.MINIMUM_INTERVAL_MILLIS&&(this.uploadIntervalMillis=i.MINIMUM_INTERVAL_MILLIS);this.eventsQueuedForProcessing=[];this.batchesQueuedForProcessing=[];this.offlineStorageEnabled=this.isOfflineStorageAvailable();this.offlineStorageEnabled&&(this.eventVault=new bo("".concat(n._Store.storageName,"-events"),{logger:n.Logger}),this.batchVault=new tu("".concat(n._Store.storageName,"-batches"),{logger:n.Logger}),(r=this.eventsQueuedForProcessing).push.apply(r,this.eventVault.retrieve()));var u=this.mpInstance._Store,f=u.SDKConfig,e=u.devToken,o=this.mpInstance._Helpers.createServiceUrl(f.v3SecureServiceUrl,e);this.uploadUrl="".concat(o,"/events");this.uploader=window.fetch?new vt(this.uploadUrl):new yt(this.uploadUrl);this.triggerUploadInterval(!0,!1);this.addEventListeners()}return i.prototype.isOfflineStorageAvailable=function(){var n=this.mpInstance,i=n._Helpers.getFeatureFlag,r=n._Store.deviceId,u=i(t.FeatureFlags.OfflineStorage),f=parseInt(u,10),e=df(r);return f>=e},i.prototype.addEventListeners=function(){var n=this;document.addEventListener("visibilitychange",function(){n.prepareAndUpload(!1,n.isBeaconAvailable())});window.addEventListener("beforeunload",function(){n.prepareAndUpload(!1,n.isBeaconAvailable())});window.addEventListener("pagehide",function(){n.prepareAndUpload(!1,n.isBeaconAvailable())})},i.prototype.isBeaconAvailable=function(){return navigator.sendBeacon?!0:!1},i.prototype.triggerUploadInterval=function(n,t){var i=this;n===void 0&&(n=!1);t===void 0&&(t=!1);setTimeout(function(){i.prepareAndUpload(n,t)},this.uploadIntervalMillis)},i.prototype.queueEvent=function(t){h(t)||(this.eventsQueuedForProcessing.push(t),this.offlineStorageEnabled&&this.eventVault&&this.eventVault.store(this.eventsQueuedForProcessing),this.mpInstance.Logger.verbose("Queuing event: ".concat(JSON.stringify(t))),this.mpInstance.Logger.verbose("Queued event count: ".concat(this.eventsQueuedForProcessing.length)),(!this.batchingEnabled||n.TriggerUploadType[t.EventDataType])&&this.prepareAndUpload(!1,!1))},i.createNewBatches=function(n,t,i){var l,e,o,a,v,s,y,h,w,r,u,c,b;if(!t||!n||!n.length)return null;for(l=[],e=new Map,o=0,a=n;o<a.length;o++)r=a[o],r.MPID||(v=t.getMPID(),r.MPID=v),u=e.get(r.MPID),u||(u=[]),u.push(r),e.set(r.MPID,u);for(s=0,y=Array.from(e.entries());s<y.length;s++){var k=y[s],v=k[0],g=k[1],p=new Map;for(h=0,w=g;h<w.length;h++)r=w[h],u=p.get(r.SessionId),u||(u=[]),u.push(r),p.set(r.SessionId,u);for(c=0,b=Array.from(p.entries());c<b.length;c++){var nt=b[c],f=dr(v,nt[1],i),d=i._Store.SDKConfig.onCreateBatch;d&&(f=d(f),f?f.modified=!0:i.Logger.warning("Skiping batch upload because no batch was returned from onCreateBatch callback"));f&&l.push(f)}}return l},i.prototype.prepareAndUpload=function(n,t){return ft(this,void 0,void 0,function(){var e,u,r,o,f,s,c,l;return et(this,function(a){switch(a.label){case 0:return e=this.mpInstance.Identity.getCurrentUser(),u=this.eventsQueuedForProcessing,this.eventsQueuedForProcessing=[],this.offlineStorageEnabled&&this.eventVault&&this.eventVault.store([]),r=[],h(u)||(r=i.createNewBatches(u,e,this.mpInstance)),this.offlineStorageEnabled&&this.batchVault&&((s=this.batchesQueuedForProcessing).unshift.apply(s,this.batchVault.retrieve()),this.batchVault.purge()),h(r)||(c=this.batchesQueuedForProcessing).push.apply(c,r),o=this.batchesQueuedForProcessing,this.batchesQueuedForProcessing=[],[4,this.uploadBatches(this.mpInstance.Logger,o,t)];case 1:return f=a.sent(),h(f)||(l=this.batchesQueuedForProcessing).unshift.apply(l,f),!t&&this.offlineStorageEnabled&&this.batchVault&&(this.batchVault.store(this.batchesQueuedForProcessing),this.batchesQueuedForProcessing=[]),n&&this.triggerUploadInterval(n,!1),[2]}})})},i.prototype.uploadBatches=function(n,t,r){return ft(this,void 0,void 0,function(){var u,e,o,s,f,c;return et(this,function(l){switch(l.label){case 0:if(u=t.filter(function(n){return!h(n.events)}),h(u))return[2,null];n.verbose("Uploading batches: ".concat(JSON.stringify(u)));n.verbose("Batch count: ".concat(u.length));e=0;l.label=1;case 1:return(e<u.length)?(o={method:"POST",headers:{Accept:i.CONTENT_TYPE,"Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify(u[e])},!(r&&this.isBeaconAvailable()))?[3,2]:(s=new Blob([o.body],{type:"text/plain;charset=UTF-8"}),navigator.sendBeacon(this.uploadUrl,s),[3,5]):[3,6];case 2:return l.trys.push([2,4,,5]),[4,this.uploader.upload(o)];case 3:if(f=l.sent(),f.status>=200&&f.status<300)n.verbose("Upload success for request ID: ".concat(u[e].source_request_id));else{if(f.status>=500||f.status===429)return n.error("HTTP error status ".concat(f.status," received")),[2,u.slice(e,u.length)];if(f.status>=401)return n.error("HTTP error status ".concat(f.status," while uploading - please verify your API key.")),[2,null];console.error("HTTP error status ".concat(f.status," while uploading events."),f);throw new Error("Uncaught HTTP Error ".concat(f.status,".  Batch upload will be re-attempted."));}return[3,5];case 4:return c=l.sent(),n.error("Error sending event to mParticle servers. ".concat(c)),[2,u.slice(e,u.length)];case 5:return e++,[3,1];case 6:return[2,null]}})})},i.CONTENT_TYPE="text/plain;charset=UTF-8",i.MINIMUM_INTERVAL_MILLIS=500,i}();var go=t.IdentityMethods.Modify,uu={isNumber:fi,isFunction:ei,isStringOrNumber:ki,isValidAttributeValue:function(n){return n!==undefined&&!a(n)&&!Array.isArray(n)},isValidKeyValue:function(n){return Boolean(n&&!a(n)&&!Array.isArray(n)&&!this.isFunction(n))},validateIdentities:function(i,r){var e={userIdentities:1,onUserAlias:1,copyUserAttributes:1},u,f;if(i){if(r===go&&(a(i.userIdentities)&&!Object.keys(i.userIdentities).length||!a(i.userIdentities)))return{valid:!1,error:t.Messages.ValidationMessages.ModifyIdentityRequestUserIdentitiesPresent};for(u in i)if(i.hasOwnProperty(u)){if(!e[u])return{valid:!1,error:t.Messages.ValidationMessages.IdentityRequesetInvalidKey};if(u==="onUserAlias"&&!uu.isFunction(i[u]))return{valid:!1,error:t.Messages.ValidationMessages.OnUserAliasType}}if(Object.keys(i).length===0)return{valid:!0};if(i.userIdentities===undefined)return{valid:!1,error:t.Messages.ValidationMessages.UserIdentities};if(i.userIdentities!==null&&!a(i.userIdentities))return{valid:!1,error:t.Messages.ValidationMessages.UserIdentities};if(a(i.userIdentities)&&Object.keys(i.userIdentities).length)for(f in i.userIdentities)if(i.userIdentities.hasOwnProperty(f)){if(n.IdentityType.getIdentityType(f)===!1)return{valid:!1,error:t.Messages.ValidationMessages.UserIdentitiesInvalidKey};if(!(typeof i.userIdentities[f]=="string"||i.userIdentities[f]===null))return{valid:!1,error:t.Messages.ValidationMessages.UserIdentitiesInvalidValues}}}return{valid:!0}}},l=function(){function n(){}return n.hashEventType=function(n){return g(n)},n.hashEventName=function(n,t){return g(t+n)},n.hashEventAttributeKey=function(n,t,i){return g(n+t+i)},n.hashUserAttribute=function(n){return g(n)},n.hashUserIdentity=function(n){return n},n.hashConsentPurpose=function(n,t){return g(n+t)},n.hashAttributeConditionalForwarding=function(n){return g(n).toString()},n.hashConsentPurposeConditionalForwarding=function(n,t){return this.hashConsentPurpose(n,t).toString()},n}(),si=t.StorageNames;var kt=t.Messages,fu="mParticleAndroid",tr="mParticle";eu=t.Messages;pt=t.Messages;dt=t.Messages;var it=bt.Base64,wt=t.Messages,hi=t.Base64CookieKeys,gt=t.SDKv2NonMPIDCookieKeys,st=t.StorageNames;lt=t.Messages;ci={exports:{}};li={exports:{}};li.exports,function(n){function t(i){"@babel/helpers - typeof";return n.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n.exports.__esModule=!0,n.exports["default"]=n.exports,t(i)}n.exports=t;n.exports.__esModule=!0;n.exports["default"]=n.exports}(li);lu=li.exports;ci.exports,function(n){function i(){function f(n,t,i){return Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),n[t]}function ft(n,t,i,r){var f=t&&t.prototype instanceof nt?t:nt,u=Object.create(f.prototype),e=new it(r||[]);return l(u,"_invoke",{value:at(n,i,e)}),u}function g(n,t,i){try{return{type:"normal",arg:n.call(t,i)}}catch(n){return{type:"throw",arg:n}}}function nt(){}function y(){}function s(){}function st(n){["next","throw","return"].forEach(function(t){f(n,t,function(n){return this._invoke(t,n)})})}function b(n,i){function r(u,f,e,s){var l=g(n[u],n,f),c,h;if("throw"!==l.type)return c=l.arg,h=c.value,h&&"object"==t(h)&&o.call(h,"__await")?i.resolve(h.__await).then(function(n){r("next",n,e,s)},function(n){r("throw",n,e,s)}):i.resolve(h).then(function(n){c.value=n;e(c)},function(n){return r("throw",n,e,s)});s(l.arg)}var u;l(this,"_invoke",{value:function(n,t){function f(){return new i(function(i,u){r(n,t,i,u)})}return u=u?u.then(f,f):f()}})}function at(n,t,i){var r=et;return function(f,o){var c,h,s;if(r===ot)throw new Error("Generator is already running");if(r===v){if("throw"===f)throw o;return{value:u,done:!0}}for(i.method=f,i.arg=o;;){if(c=i.delegate,c&&(h=ht(c,i),h)){if(h===e)continue;return h}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===et)throw r=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);if(r=ot,s=g(n,t,i),"normal"===s.type){if(r=i.done?v:lt,s.arg===e)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(r=v,i.method="throw",i.arg=s.arg)}}}function ht(n,t){var r=t.method,o=n.iterator[r],f,i;return o===u?(t.delegate=null,"throw"===r&&n.iterator["return"]&&(t.method="return",t.arg=u,ht(n,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),e):(f=g(o,n.iterator,t.arg),"throw"===f.type)?(t.method="throw",t.arg=f.arg,t.delegate=null,e):(i=f.arg,i?i.done?(t[n.resultName]=i.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=u),t.delegate=null,e):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,e))}function vt(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]);2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]);this.tryEntries.push(t)}function tt(n){var t=n.completion||{};t.type="normal";delete t.arg;n.completion=t}function it(n){this.tryEntries=[{tryLoc:"root"}];n.forEach(vt,this);this.reset(!0)}function rt(n){var f,r,e;if(n||""===n){if(f=n[a],f)return f.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length))return r=-1,e=function i(){for(;++r<n.length;)if(o.call(n,r))return i.value=n[r],i.done=!1,i;return i.value=u,i.done=!0,i},e.next=e}throw new TypeError(t(n)+" is not iterable");}var p,w,c,h;n.exports=i=function(){return r};n.exports.__esModule=!0;n.exports["default"]=n.exports;var u,r={},ut=Object.prototype,o=ut.hasOwnProperty,l=Object.defineProperty||function(n,t,i){n[t]=i.value},k="function"==typeof Symbol?Symbol:{},a=k.iterator||"@@iterator",ct=k.asyncIterator||"@@asyncIterator",d=k.toStringTag||"@@toStringTag";try{f({},"")}catch(u){f=function(n,t,i){return n[t]=i}}r.wrap=ft;var et="suspendedStart",lt="suspendedYield",ot="executing",v="completed",e={};return p={},f(p,a,function(){return this}),w=Object.getPrototypeOf,c=w&&w(w(rt([]))),c&&c!==ut&&o.call(c,a)&&(p=c),h=s.prototype=nt.prototype=Object.create(p),y.prototype=s,l(h,"constructor",{value:s,configurable:!0}),l(s,"constructor",{value:y,configurable:!0}),y.displayName=f(s,d,"GeneratorFunction"),r.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,f(n,d,"GeneratorFunction")),n.prototype=Object.create(h),n},r.awrap=function(n){return{__await:n}},st(b.prototype),f(b.prototype,ct,function(){return this}),r.AsyncIterator=b,r.async=function(n,t,i,u,f){void 0===f&&(f=Promise);var e=new b(ft(n,t,i,u),f);return r.isGeneratorFunction(t)?e:e.next().then(function(n){return n.done?n.value:e.next()})},st(h),f(h,d,"Generator"),f(h,a,function(){return this}),f(h,"toString",function(){return"[object Generator]"}),r.keys=function(n){var r=Object(n),i=[];for(var u in r)i.push(u);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=rt,it.prototype={constructor:it,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(tt),!n)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=u)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(n){function i(t,i){return e.type="throw",e.arg=n,r.next=t,i&&(r.method="next",r.arg=u),!!i}var r,f,t,e,s,h;if(this.done)throw n;for(r=this,f=this.tryEntries.length-1;f>=0;--f){if(t=this.tryEntries[f],e=t.completion,"root"===t.tryLoc)return i("end");if(t.tryLoc<=this.prev)if(s=o.call(t,"catchLoc"),h=o.call(t,"finallyLoc"),s&&h){if(this.prev<t.catchLoc)return i(t.catchLoc,!0);if(this.prev<t.finallyLoc)return i(t.finallyLoc)}else if(s){if(this.prev<t.catchLoc)return i(t.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<t.finallyLoc)return i(t.finallyLoc)}}},abrupt:function(n,t){for(var r,i,f,u=this.tryEntries.length-1;u>=0;--u)if(r=this.tryEntries[u],r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){i=r;break}return i&&("break"===n||"continue"===n)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null),f=i?i.completion:{},f.type=n,f.arg=t,i?(this.method="next",this.next=i.finallyLoc,e):this.complete(f)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),e},finish:function(n){for(var t,i=this.tryEntries.length-1;i>=0;--i)if(t=this.tryEntries[i],t.finallyLoc===n)return this.complete(t.completion,t.afterLoc),tt(t),e},"catch":function(n){for(var i,r,u,t=this.tryEntries.length-1;t>=0;--t)if(i=this.tryEntries[t],i.tryLoc===n)return r=i.completion,"throw"===r.type&&(u=r.arg,tt(i)),u;throw new Error("illegal catch attempt");},delegateYield:function(n,t,i){return this.delegate={iterator:rt(n),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=u),e}},r}var t=lu["default"];n.exports=i;n.exports.__esModule=!0;n.exports["default"]=n.exports}(ci);var as=ci.exports,ai=as(),vs=ai;try{regeneratorRuntime=ai}catch(ll){typeof globalThis=="object"?globalThis.regeneratorRuntime=ai:Function("r","regeneratorRuntime = r")(ai)}at=pe(vs);var vi=t.IdentityMethods,ys=vi.Modify,ps=vi.Identify,ws=vi.Login,bs=vi.Logout;ni=n.MessageType;vu=n.ApplicationTransitionType;var yi=t.IdentityMethods,th=yi.Identify,ih=yi.Modify,rh=yi.Login,uh=yi.Logout,pu="x-mp-max-age",fh=function(n,t,i,r,u){if(!u){var f=lh(r===null||r===void 0?void 0:r.cacheMaxAge);switch(n){case rh:case th:eh(n,t,f,i,r);break;case ih:case uh:i.purge()}}},eh=function(n,t,i,r,u){var f=u.responseText,o=u.status,e=r.retrieve()||{},s=ur(n,t),h=g(s),c=f.mpid,l=f.is_logged_in,a={mpid:c,is_logged_in:l};e[h]={responseText:JSON.stringify(a),status:o,expireTimestamp:i};r.store(e)},ur=function(t,i){var f="device_application_stamp",o="".concat(t,":").concat(f,"=").concat(i.device_application_stamp,";"),s=Object.keys(i).length,e="",u,r;if(s){u=[];for(r in i)if(r===f)continue;else u[n.IdentityType.getIdentityType(r)]=i[r];e=u.reduce(function(t,i,r){var u=n.IdentityType.getIdentityName(r);return"".concat(t).concat(u,"=").concat(i,";")},o)}return e},oh=function(n,t,i){var r=i===null||i===void 0?void 0:i.retrieve(),f,u,e;return r?(f=ur(n,t),u=g(f),!r.hasOwnProperty(u))?!1:(e=r[u].expireTimestamp,e<(new Date).getTime()?!1:!0):!1},sh=function(n,t,i){var f=ur(n,t),e=g(f),u=i.retrieve(),r=u?u[e]:null;return{responseText:ah(r.responseText),expireTimestamp:r.expireTimestamp,status:r.status}},hh=function(n,t){var i={},r;if(a(n===null||n===void 0?void 0:n.userIdentities))for(r in n.userIdentities)i[r]=n.userIdentities[r];return i.device_application_stamp=t,i},ch=function(n){var t=n.retrieve()||{},r=(new Date).getTime();for(var i in t)t[i].expireTimestamp<r&&delete t[i];n.store(t)},wu=function(n,t,i,r,u,f,e){var s=oh(e,n,t),o;return s?(o=sh(e,n,t),i(o,r,u,f,e,n,!0),!0):!1},lh=function(n){return n===void 0&&(n=lf),(new Date).getTime()+n*af},ah=function(n){return n?JSON.parse(n):{}},vh=function(){function n(n,t,i){this.url="";this.logger=i;this.url="https://".concat(n).concat(t,"/audience");this.userAudienceAPI=window.fetch?new vt(this.url):new yt(this.url)}return n.prototype.sendGetUserAudienceRequest=function(n,t){return ft(this,void 0,void 0,function(){var u,f,i,r,e,o;return et(this,function(s){switch(s.label){case 0:this.logger.verbose("Fetching user audiences from server");u={method:"GET",headers:{Accept:"*/*"}};f="".concat(this.url,"?mpid=").concat(n);s.label=1;case 1:return s.trys.push([1,6,,7]),[4,this.userAudienceAPI.upload(u,f)];case 2:return(i=s.sent(),!(i.status>=200&&i.status<300))?[3,4]:(this.logger.verbose("User Audiences successfully received"),[4,i.json()]);case 3:r=s.sent();e={currentAudienceMemberships:r===null||r===void 0?void 0:r.audience_memberships};try{t(e)}catch(h){throw new Error("Error invoking callback on user audience response.");}return[3,5];case 4:if(i.status===401)throw new Error("`HTTP error status ${userAudiencePromise.status} while retrieving User Audiences - please verify your API key.`");else if(i.status===403)throw new Error("`HTTP error status ${userAudiencePromise.status} while retrieving User Audiences - please verify your workspace is enabled for audiences.`");else throw new Error("Uncaught HTTP Error ".concat(i.status,"."));case 5:return[3,7];case 6:return o=s.sent(),this.logger.error("Error retrieving audiences. ".concat(o)),[3,7];case 7:return[2]}})})},n}();var bu=undefined,ku=function(n){return h(n)||n.forEach(function(n){ei(n)?n():Array.isArray(n)&&wh(n)}),[]},wh=function(n){var t=n,f=t.splice(0,1)[0],e,i,r,u,o;if(typeof window!="undefined"&&window.mParticle&&window.mParticle[t[0]])window.mParticle[f].apply(bu,t);else{e=f.split(".");try{for(i=window.mParticle,r=0,u=e;r<u.length;r++)o=u[r],i=i[o];i.apply(bu,t)}catch(s){throw new Error("Unable to compute proper mParticle function "+s);}}},c=t.Messages,v=t.HTTPCodes,du=t.FeatureFlags,pi=t.IdentityMethods,bh=c.ErrorMessages,kh=du.CacheIdentity,wi=pi.Identify,ti=pi.Modify,fr=pi.Login,gu=pi.Logout;y=t.CCPAPurpose;var r={ScreenView:"screen_view",CustomEvent:"custom_event",Commerce:"commerce",UserAttributes:"user_attributes",UserIdentities:"user_identities",ProductAction:"product_action",PromotionAction:"promotion_action",ProductImpression:"product_impression"},tc=function(){function t(n,t){var d=this,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,i,r;if(this.dataPlanMatchLookups={},this.blockEvents=!1,this.blockEventAttributes=!1,this.blockUserAttributes=!1,this.blockUserIdentities=!1,this.kitBlockingEnabled=!1,n&&!n.document){this.kitBlockingEnabled=!1;return}if(this.kitBlockingEnabled=!0,this.mpInstance=t,this.blockEvents=(e=(f=(u=n===null||n===void 0?void 0:n.document)===null||u===void 0?void 0:u.dtpn)===null||f===void 0?void 0:f.blok)===null||e===void 0?void 0:e.ev,this.blockEventAttributes=(h=(s=(o=n===null||n===void 0?void 0:n.document)===null||o===void 0?void 0:o.dtpn)===null||s===void 0?void 0:s.blok)===null||h===void 0?void 0:h.ea,this.blockUserAttributes=(a=(l=(c=n===null||n===void 0?void 0:n.document)===null||c===void 0?void 0:c.dtpn)===null||l===void 0?void 0:l.blok)===null||a===void 0?void 0:a.ua,this.blockUserIdentities=(p=(y=(v=n===null||n===void 0?void 0:n.document)===null||v===void 0?void 0:v.dtpn)===null||y===void 0?void 0:y.blok)===null||p===void 0?void 0:p.id,i=(k=(b=(w=n===null||n===void 0?void 0:n.document)===null||w===void 0?void 0:w.dtpn)===null||b===void 0?void 0:b.vers)===null||k===void 0?void 0:k.version_document,r=i===null||i===void 0?void 0:i.data_points,i)try{(r===null||r===void 0?void 0:r.length)>0&&r.forEach(function(n){return d.addToMatchLookups(n)})}catch(g){this.mpInstance.Logger.error("There was an issue with the data plan: "+g)}}return t.prototype.addToMatchLookups=function(n){var u,f,e,t,i;if(!n.match||!n.validator){this.mpInstance.Logger.warning("Data Plan Point is not valid' + ".concat(n));return}t=this.generateMatchKey(n.match);i=this.getPlannedProperties(n.match.type,n.validator);this.dataPlanMatchLookups[t]=i;(((u=n===null||n===void 0?void 0:n.match)===null||u===void 0?void 0:u.type)===r.ProductImpression||((f=n===null||n===void 0?void 0:n.match)===null||f===void 0?void 0:f.type)===r.ProductAction||((e=n===null||n===void 0?void 0:n.match)===null||e===void 0?void 0:e.type)===r.PromotionAction)&&(t=this.generateProductAttributeMatchKey(n.match),i=this.getProductProperties(n.match.type,n.validator),this.dataPlanMatchLookups[t]=i)},t.prototype.generateMatchKey=function(n){var t=n.criteria||"",i,u,f,e,o;switch(n.type){case r.CustomEvent:return i=t,[r.CustomEvent,i.custom_event_type,i.event_name].join(":");case r.ScreenView:return u=t,[r.ScreenView,"",u.screen_name].join(":");case r.ProductAction:return f=t,[n.type,f.action].join(":");case r.PromotionAction:return e=t,[n.type,e.action].join(":");case r.ProductImpression:return o=t,[n.type,o.action].join(":");case r.UserIdentities:case r.UserAttributes:return[n.type].join(":");default:return null}},t.prototype.generateProductAttributeMatchKey=function(n){var t=n.criteria||"",i,u;switch(n.type){case r.ProductAction:return i=t,[n.type,i.action,"ProductAttributes"].join(":");case r.PromotionAction:return u=t,[n.type,u.action,"ProductAttributes"].join(":");case r.ProductImpression:return[n.type,"ProductAttributes"].join(":");default:return null}},t.prototype.getPlannedProperties=function(n,t){var s,h,c,l,a,v,y,p,u,w,f,b,i,d,o,k,e;switch(n){case r.CustomEvent:case r.ScreenView:case r.ProductAction:case r.PromotionAction:case r.ProductImpression:if(u=(l=(c=(h=(s=t===null||t===void 0?void 0:t.definition)===null||s===void 0?void 0:s.properties)===null||h===void 0?void 0:h.data)===null||c===void 0?void 0:c.properties)===null||l===void 0?void 0:l.custom_attributes,u){if(u.additionalProperties===!0||u.additionalProperties===undefined)return!0;for(i={},f=0,b=Object.keys(u.properties);f<b.length;f++)e=b[f],i[e]=!0;return i}return((y=(v=(a=t===null||t===void 0?void 0:t.definition)===null||a===void 0?void 0:a.properties)===null||v===void 0?void 0:v.data)===null||y===void 0?void 0:y.additionalProperties)===!1?{}:!0;case r.UserAttributes:case r.UserIdentities:if(w=(p=t===null||t===void 0?void 0:t.definition)===null||p===void 0?void 0:p.additionalProperties,w===!0||w===undefined)return!0;for(i={},d=t.definition.properties,o=0,k=Object.keys(d);o<k.length;o++)e=k[o],i[e]=!0;return i;default:return null}},t.prototype.getProductProperties=function(n,t){var s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,i,f,et,u,o,ot,e;switch(n){case r.ProductImpression:if(i=(b=(w=(p=(y=(v=(a=(l=(c=(h=(s=t===null||t===void 0?void 0:t.definition)===null||s===void 0?void 0:s.properties)===null||h===void 0?void 0:h.data)===null||c===void 0?void 0:c.properties)===null||l===void 0?void 0:l.product_impressions)===null||a===void 0?void 0:a.items)===null||v===void 0?void 0:v.properties)===null||y===void 0?void 0:y.products)===null||p===void 0?void 0:p.items)===null||w===void 0?void 0:w.properties)===null||b===void 0?void 0:b.custom_attributes,(i===null||i===void 0?void 0:i.additionalProperties)===!1){for(u={},f=0,et=Object.keys(i===null||i===void 0?void 0:i.properties);f<et.length;f++)e=et[f],u[e]=!0;return u}return!0;case r.ProductAction:case r.PromotionAction:if(i=(ft=(ut=(rt=(it=(tt=(nt=(g=(d=(k=t===null||t===void 0?void 0:t.definition)===null||k===void 0?void 0:k.properties)===null||d===void 0?void 0:d.data)===null||g===void 0?void 0:g.properties)===null||nt===void 0?void 0:nt.product_action)===null||tt===void 0?void 0:tt.properties)===null||it===void 0?void 0:it.products)===null||rt===void 0?void 0:rt.items)===null||ut===void 0?void 0:ut.properties)===null||ft===void 0?void 0:ft.custom_attributes,i&&i.additionalProperties===!1){for(u={},o=0,ot=Object.keys(i===null||i===void 0?void 0:i.properties);o<ot.length;o++)e=ot[o],u[e]=!0;return u}return!0;default:return null}},t.prototype.getMatchKey=function(n){var e,u,t,f;switch(n.event_type){case i.EventTypeEnum.screenView:return(e=n,e.data)?["screen_view","",e.data.screen_name].join(":"):null;case i.EventTypeEnum.commerceEvent:if(u=n,t=[],u&&u.data){var o=u.data,s=o.product_action,c=o.product_impressions,h=o.promotion_action;s?(t.push(r.ProductAction),t.push(s.action)):h?(t.push(r.PromotionAction),t.push(h.action)):c&&t.push(r.ProductImpression)}return t.join(":");case i.EventTypeEnum.customEvent:return(f=n,f.data)?["custom_event",f.data.custom_event_type,f.data.event_name].join(":"):null;default:return null}},t.prototype.getProductAttributeMatchKey=function(n){switch(n.event_type){case i.EventTypeEnum.commerceEvent:var o=n,t=[],u=o.data,f=u.product_action,s=u.product_impressions,e=u.promotion_action;return f?(t.push(r.ProductAction),t.push(f.action),t.push("ProductAttributes")):e?(t.push(r.PromotionAction),t.push(e.action),t.push("ProductAttributes")):s&&(t.push(r.ProductImpression),t.push("ProductAttributes")),t.join(":");default:return null}},t.prototype.createBlockedEvent=function(t){try{return t&&(t=this.transformEventAndEventAttributes(t)),t&&t.EventDataType===n.MessageType.Commerce&&(t=this.transformProductAttributes(t)),t&&(t=this.transformUserAttributes(t),t=this.transformUserIdentities(t)),t}catch(i){return t}},t.prototype.transformEventAndEventAttributes=function(n){var t=b({},n),e=gi(t),o=this.getMatchKey(e),i=this.dataPlanMatchLookups[o],r,u,f;if(this.blockEvents&&!i)return null;if(this.blockEventAttributes){if(i===!0)return t;if(i){for(r=0,u=Object.keys(t.EventAttributes);r<u.length;r++)f=u[r],i[f]||delete t.EventAttributes[f];return t}return t}return t},t.prototype.transformProductAttributes=function(t){function f(n,t){t.forEach(function(t){for(var u,i=0,r=Object.keys(t.Attributes);i<r.length;i++)u=r[i],n[u]||delete t.Attributes[u]})}var u,i=b({},t),e=gi(i),o=this.getProductAttributeMatchKey(e),r=this.dataPlanMatchLookups[o];if(this.blockEvents&&!r)return null;if(this.blockEventAttributes){if(r===!0)return i;if(r){switch(t.EventCategory){case n.CommerceEventType.ProductImpression:i.ProductImpressions.forEach(function(n){f(r,n===null||n===void 0?void 0:n.ProductList)});break;case n.CommerceEventType.ProductPurchase:f(r,(u=i.ProductAction)===null||u===void 0?void 0:u.ProductList);break;default:this.mpInstance.Logger.warning("Product Not Supported ")}return i}return i}return i},t.prototype.transformUserAttributes=function(n){var i=b({},n),r,t,u,f;if(this.blockUserAttributes&&(r=this.dataPlanMatchLookups.user_attributes,this.mpInstance._Helpers.isObject(r)))for(t=0,u=Object.keys(i.UserAttributes);t<u.length;t++)f=u[t],r[f]||delete i.UserAttributes[f];return i},t.prototype.isAttributeKeyBlocked=function(n){if(!this.blockUserAttributes)return!1;if(this.blockUserAttributes){var t=this.dataPlanMatchLookups.user_attributes;if(t===!0)return!1;if(!t[n])return!0}return!1},t.prototype.isIdentityBlocked=function(n){if(!this.blockUserIdentities)return!1;if(this.blockUserIdentities){var t=this.dataPlanMatchLookups.user_identities;if(t===!0)return!1;if(!t[n])return!0}else return!1;return!1},t.prototype.transformUserIdentities=function(t){var f=this,r,i=b({},t),u;return this.blockUserIdentities&&(u=this.dataPlanMatchLookups.user_identities,this.mpInstance._Helpers.isObject(u)&&((r=i===null||i===void 0?void 0:i.UserIdentities)===null||r===void 0?void 0:r.length)&&i.UserIdentities.forEach(function(t,r){var e=n.IdentityType.getIdentityName(f.mpInstance._Helpers.parseNumber(t.Type));u[e]||i.UserIdentities.splice(r,1)})),i},t}(),ic=function(n,t,i,r){var s=n+t+"/config",h=r?"1":"0",u=["env=".concat(h)],f=i||{},e=f.planId,o=f.planVersion;return e&&u.push("plan_id=".concat(e)),o&&u.push("plan_version=".concat(o)),"".concat(s,"?").concat(u.join("&"))};nf=t.HTTPCodes;tf=t.Messages;var rf=t.HTTPCodes,er=t.Messages,fc=t.IdentityMethods.Modify;var oc=function(n,t,i){var r,f;if(!n||!t||(r=t===null||t===void 0?void 0:t.split("//"),!r))return"";var e=r[1].split("/"),o=e[0].split("."),u=1;return o.length>=3&&(u=2),f=i||Date.now(),"fb.".concat(u,".").concat(f,".").concat(n)},bi={fbclid:{mappedKey:"Facebook.ClickId",processor:oc},_fbp:{mappedKey:"Facebook.BrowserId"},_fbc:{mappedKey:"Facebook.ClickId"}},sc=function(){function n(){this.initialTimestamp=Date.now()}return n.prototype.capture=function(){var t=this.captureQueryParams()||{},n=this.captureCookies()||{};t.fbclid&&n._fbc&&delete n._fbc;this.clickIds=b(b(b({},this.clickIds),t),n)},n.prototype.captureCookies=function(){var n=ae(Object.keys(bi));return this.applyProcessors(n)},n.prototype.captureQueryParams=function(){var n=this.getQueryParams();return this.applyProcessors(n,br(),this.initialTimestamp)},n.prototype.getQueryParams=function(){return ce(br(),Object.keys(bi))},n.prototype.getClickIdsAsCustomFlags=function(){var t,i={},n,r;if(!this.clickIds)return i;for(n=0,r=Object.entries(this.clickIds);n<r.length;n++){var u=r[n],e=u[0],o=u[1],f=(t=bi[e])===null||t===void 0?void 0:t.mappedKey;h(f)||(i[f]=o)}return i},n.prototype.applyProcessors=function(n,t,i){for(var r,f={},u=0,e=Object.entries(n);u<e.length;u++){var o=e[u],s=o[0],h=o[1],c=(r=bi[s])===null||r===void 0?void 0:r.processor;f[s]=c?c(h,t,i):h}return f},n}(),ht=t.Messages,hc=t.HTTPCodes,uf=t.FeatureFlags,cc=uf.ReportBatching,lc=uf.CaptureIntegrationSpecificIds,ac=ht.InformationMessages.StartingInitialization;var o=function(){return null},bc=function(){function n(){}return n.prototype.getMPInstance=function(){return{_Helpers:{sanitizeAttributes:window.mParticle.getInstance()._Helpers.sanitizeAttributes,generateHash:function(){return"mockHash"},generateUniqueId:function(){return"mockId"},extend:window.mParticle.getInstance()._Helpers.extend,createServiceUrl:o,parseNumber:o,isObject:o,Validators:null},_resetForTests:o,_APIClient:null,MPSideloadedKit:null,_Consent:null,_Events:null,_Forwarders:null,_NativeSdkHelpers:null,_Persistence:null,_preInit:null,Consent:null,_ServerModel:null,_SessionManager:null,_Store:{sessionId:"mockSessionId",sideloadedKits:[],devToken:"test_dev_token",isFirstRun:!0,isEnabled:!0,sessionAttributes:{},currentSessionMPIDs:[],consentState:null,clientId:null,deviceId:null,serverSettings:{},dateLastEventSent:null,sessionStartDate:null,currentPosition:null,isTracking:!1,watchPositionId:null,cartProducts:[],eventQueue:[],currencyCode:null,globalTimer:null,context:null,configurationLoaded:!1,identityCallInFlight:!1,nonCurrentUserMPIDs:{},identifyCalled:!1,isLoggedIn:!1,cookieSyncDates:{},integrationAttributes:{},requireDelay:!0,isLocalStorageAvailable:null,integrationDelayTimeoutStart:null,storageName:null,prodStorageName:null,activeForwarders:[],kits:{},configuredForwarders:[],pixelConfigurations:[],wrapperSDKInfo:{name:"none",version:null,isInfoSet:!1},SDKConfig:{isDevelopmentMode:!1,onCreateBatch:o}},config:null,eCommerce:null,Identity:{getCurrentUser:o,IdentityAPI:{},identify:o,login:o,logout:o,modify:o},Logger:{verbose:o,error:o,warning:o},ProductActionType:null,ServerModel:null,addForwarder:o,generateHash:o,getAppVersion:o,getAppName:o,getInstance:o,getDeviceId:o,init:o,logBaseEvent:o,logEvent:o,logLevel:"none",setPosition:o,upload:o}},n.prototype.createSDKEventFunction=function(n){return new yu(this.getMPInstance()).createEventObject(n)},n.prototype.returnBatch=function(n){var t=this,i=this.getMPInstance(),r=Array.isArray(n)?n.map(function(n){return t.createSDKEventFunction(n)}):[this.createSDKEventFunction(n)];return dr("0",r,i)},n}(),kc=function(){function n(n){this.filterDictionary={eventTypeFilters:[],eventNameFilters:[],screenNameFilters:[],screenAttributeFilters:[],userIdentityFilters:[],userAttributeFilters:[],attributeFilters:[],consentRegulationFilters:[],consentRegulationPurposeFilters:[],messageTypeFilters:[],messageTypeStateFilters:[],filteringEventAttributeValue:{},filteringUserAttributeValue:{},filteringConsentRuleValues:{}};this.kitInstance=n}return n.prototype.addEventTypeFilter=function(n){var t=l.hashEventType(n);this.filterDictionary.eventTypeFilters.push(t)},n.prototype.addEventNameFilter=function(n,t){var i=l.hashEventName(t,n);this.filterDictionary.eventNameFilters.push(i)},n.prototype.addEventAttributeFilter=function(n,t,i){var r=l.hashEventAttributeKey(n,t,i);this.filterDictionary.attributeFilters.push(r)},n.prototype.addScreenNameFilter=function(n){var t=l.hashEventName(n,ii.Unknown);this.filterDictionary.screenNameFilters.push(t)},n.prototype.addScreenAttributeFilter=function(n,t){var i=l.hashEventAttributeKey(ii.Unknown,n,t);this.filterDictionary.screenAttributeFilters.push(i)},n.prototype.addUserIdentityFilter=function(n){var t=l.hashUserIdentity(n);this.filterDictionary.userIdentityFilters.push(t)},n.prototype.addUserAttributeFilter=function(n){var t=l.hashUserAttribute(n);this.filterDictionary.userAttributeFilters.push(t)},n}();return Array.prototype.forEach||(Array.prototype.forEach=bt.forEach),Array.prototype.map||(Array.prototype.map=bt.map),Array.prototype.filter||(Array.prototype.filter=bt.filter),Array.isArray||(Array.prototype.isArray=bt.isArray),or=new dc,typeof window!="undefined"&&(window.mParticle=or,window.mParticle._BatchValidator=new bc),or}() ;;
; var BranchMetricsKit=function(n){"use strict";function h(){}function c(n){this.common=n||{}}function u(n){this.common=n||{}}function f(n){this.common=n||{}}function d(n){var i=n.getUserIdentities().userIdentities,t="";switch(this.common.settings.userIdentificationType){case"CustomerId":t=i.customerid;break;case"MPID":t=n.getMPID();break;case"Email":t=i.email;break;case"Other":t=i.other;break;case"Other2":t=i.other2;break;case"Other3":t=i.other3;break;case"Other4":t=i.other4;break;default:t=i.customerid}t!==""&&typeof t!==undefined&&branch.setIdentity(t)}function g(){branch.logout()}function nt(n,t,i){i===1&&branch.setIdentity(t)}function e(n){this.common=n={}}function et(){return ft}function y(n){return n!=null&&typeof n=="object"&&Array.isArray(n)===!1}function ot(n){if(!n){console.log("You must pass a config object to register the kit "+t);return}if(!y(n)){console.log("'config' must be an object. You passed in a "+typeof n);return}y(n.kits)?n.kits[t]={constructor:o}:(n.kits={},n.kits[t]={constructor:o});console.log("Successfully registered "+t+" to your mParticle configuration")}var l,a,s,p;h.prototype.exampleMethod=function(){return"I am an example"};var w=h,b={10:"ADD_TO_CART",11:"ProductRemoveFromCart",12:"INITIATE_PURCHASE",13:"INITIATE_PURCHASE",14:"CLICK_AD",15:"VIEW_ITEM",16:"PURCHASE",17:"ProductRefund",18:"VIEW_AD",19:"CLICK_AD",20:"ADD_TO_WISHLIST",21:"ProductRemoveFromWishlist",22:"VIEW_ITEM"},k={13:"ProductCheckoutOption",19:"PromotionClick"};c.prototype.logCommerceEvent=function(n){var t={mpid:n.MPID},i,r;n.ProductAction.Affiliation&&(t.affiliation=n.ProductAction.Affiliation);n.ProductAction.CouponCode&&(t.coupon=n.ProductAction.CouponCode);n.ProductAction.TransactionId&&(t.transaction_id=n.ProductAction.TransactionId);n.ProductAction.ShippingAmount&&(t.shipping=n.ProductAction.ShippingAmount);n.ProductAction.TaxAmount&&(t.tax=n.ProductAction.TaxAmount);n.ProductAction.TotalAmount&&(t.revenue=n.ProductAction.TotalAmount);n.CurrencyCode&&(t.currency=n.CurrencyCode);for(i in n.EventAttributes)n.EventAttributes.hasOwnProperty(i)&&(t[i]=n.EventAttributes[i]);for(r in n.UserAttributes)n.UserAttributes.hasOwnProperty(r)&&(t[r]=n.UserAttributes[r]);var u=n.ProductAction.ProductList.map(n=>{var i={};for(var t in n.Attributes)n.Attributes.hasOwnProperty(t)&&(i[t]=n.Attributes[t]);return{$product_brand:n.Brand,$coupon_code:n.CouponCode,$product_name:n.Name,$price:parseFloat(n.Price),$quantity:n.Quantity,$sku:n.Sku,$total_amount:parseFloat(n.TotalAmount),$product_variant:n.Variant,attrs:i}}),f=k[n.EventCategory]||"",e=b[n.EventCategory]||n.EventName;branch.logEvent(e,t,u,f,function(){})};l=c;u.prototype.logEvent=function(n){var r={},t,i;for(t in n.EventAttributes)n.EventAttributes.hasOwnProperty(t)&&(r[t]=n.EventAttributes[t]);for(i in n.UserAttributes)n.UserAttributes.hasOwnProperty(i)&&(r[i]=n.UserAttributes[i]);branch.logEvent(n.EventName,r,function(){})};u.prototype.logError=function(){};u.prototype.logPageView=function(){};a=u;f.prototype.onUserIdentified=d;f.prototype.onLogoutComplete=g;f.prototype.onSetUserIdentity=nt;var tt=f,it={name:"BranchMetrics",initForwarder:function(n,t,i,r,u,f,e,o){if(o.settings=n,!t){if(!!window.branch)return;(function(n,t,i,r,u,f,e,o,s,h){if(!n[r]||!n[r]._q){for(;o<e.length;)u(f,e[o++]);s=t.createElement(i);s.async=1;s.src="https://cdn.branch.io/branch-latest.min.js";h=t.getElementsByTagName(i)[0];h.parentNode.insertBefore(s,h);n[r]=f}})(window,document,"script","branch",function(n,t){n[t]=function(){n._q.push([t,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent disableTracking getBrowserFingerprintId crossPlatformIds lastAttributedTouchData".split(" "),0);branch.init(n.branchKey,function(){})}}},r=it,rt={onSessionStart:function(){},onSessionEnd:function(){}},v=rt;e.prototype.onRemoveUserAttribute=function(){};e.prototype.onSetUserAttribute=function(){};e.prototype.onConsentStateUpdated=function(){};var ut=e,t=r.name,ft=r.moduleId,i={SessionStart:1,SessionEnd:2,PageView:3,PageEvent:4,CrashReport:5,OptOut:6,Commerce:16,Media:20},o=function(){function c(i,h,c,v,y,p,w,b,k,d){f=i;e=typeof window!="undefined"&&window.mParticle.isTestEnvironment?function(){}:h;try{r.initForwarder(i,c,y,p,s,o,u,n.common,w,b,k,d);n.eventHandler=new a(n.common);n.identityHandler=new tt(n.common);n.userAttributeHandler=new ut(n.common);n.commerceHandler=new l(n.common);u=!0}catch(g){console.log("Failed to initialize "+t+" - "+g)}}function s(r){var f=!1;if(u)try{return r.EventDataType===i.SessionStart?f=y(r):r.EventDataType===i.SessionEnd?f=p(r):r.EventDataType===i.CrashReport?f=b(r):r.EventDataType===i.PageView?f=k(r):r.EventDataType===i.Commerce?f=d(r):r.EventDataType===i.PageEvent?f=h(r):r.EventDataType===i.Media&&(f=h(r)),f===!0&&e?(e(n,r),"Successfully sent to "+t):"Error logging event or event type not supported on forwarder "+t}catch(s){return"Failed to send to "+t+" "+s}else return o.push(r),"Can't send to forwarder "+t+", not initialized. Event added to queue."}function y(n){try{v.onSessionStart(n);return!0}catch(i){return{error:"Error starting session on forwarder "+t+"; "+i}}}function p(n){try{v.onSessionEnd(n);return!0}catch(i){return{error:"Error ending session on forwarder "+t+"; "+i}}}function b(i){try{return n.eventHandler.logError(i),!0}catch(r){return{error:"Error logging error on forwarder "+t+"; "+r}}}function k(i){try{return n.eventHandler.logPageView(i),!0}catch(r){return{error:"Error logging page view on forwarder "+t+"; "+r}}}function h(i){try{return n.eventHandler.logEvent(i),!0}catch(r){return{error:"Error logging event on forwarder "+t+"; "+r}}}function d(i){try{return n.commerceHandler.logCommerceEvent(i),!0}catch(r){return{error:"Error logging purchase event on forwarder "+t+"; "+r}}}function g(i,r){if(u)try{n.userAttributeHandler.onSetUserAttribute(i,r,f);return"Successfully set user attribute on forwarder "+t}catch(e){return"Error setting user attribute on forwarder "+t+"; "+e}else return"Can't set user attribute on forwarder "+t+", not initialized"}function nt(i){if(u)try{n.userAttributeHandler.onRemoveUserAttribute(i,f);return"Successfully removed user attribute on forwarder "+t}catch(r){return"Error removing user attribute on forwarder "+t+"; "+r}else return"Can't remove user attribute on forwarder "+t+", not initialized"}function it(i,r){if(u)try{n.identityHandler.onSetUserIdentity(f,i,r);return"Successfully set user Identity on forwarder "+t}catch(e){return"Error removing user attribute on forwarder "+t+"; "+e}else return"Can't call setUserIdentity on forwarder "+t+", not initialized"}function rt(i){if(u)try{n.identityHandler.onUserIdentified(i);return"Successfully called onUserIdentified on forwarder "+t}catch(r){return{error:"Error calling onUserIdentified on forwarder "+t+"; "+r}}else return"Can't set new user identities on forwader  "+t+", not initialized"}function ft(i,r){if(u)try{n.identityHandler.onIdentifyComplete(i,r);return"Successfully called onIdentifyComplete on forwarder "+t}catch(f){return{error:"Error calling onIdentifyComplete on forwarder "+t+"; "+f}}else return"Can't call onIdentifyCompleted on forwader  "+t+", not initialized"}function et(i,r){if(u)try{n.identityHandler.onLoginComplete(i,r);return"Successfully called onLoginComplete on forwarder "+t}catch(f){return{error:"Error calling onLoginComplete on forwarder "+t+"; "+f}}else return"Can't call onLoginComplete on forwader  "+t+", not initialized"}function ot(i,r){if(u)try{n.identityHandler.onLogoutComplete(i,r);return"Successfully called onLogoutComplete on forwarder "+t}catch(f){return{error:"Error calling onLogoutComplete on forwarder "+t+"; "+f}}else return"Can't call onLogoutComplete on forwader  "+t+", not initialized"}function st(i,r){if(u)try{n.identityHandler.onModifyComplete(i,r);return"Successfully called onModifyComplete on forwarder "+t}catch(f){return{error:"Error calling onModifyComplete on forwarder "+t+"; "+f}}else return"Can't call onModifyComplete on forwader  "+t+", not initialized"}function ht(i){if(u)try{return n.initialization.setOptOut(i),"Successfully called setOptOut on forwarder "+t}catch(r){return{error:"Error calling setOptOut on forwarder "+t+"; "+r}}else return"Can't call setOptOut on forwader  "+t+", not initialized"}var n=this,u=!1,f,e,o=[];n.name=r.name;n.moduleId=r.moduleId;n.common=new w;this.init=c;this.process=s;this.setUserAttribute=g;this.removeUserAttribute=nt;this.onUserIdentified=rt;this.setUserIdentity=it;this.onIdentifyComplete=ft;this.onLoginComplete=et;this.onLogoutComplete=ot;this.onModifyComplete=st;this.setOptOut=ht};return typeof window!="undefined"&&window&&window.mParticle&&window.mParticle.addForwarder&&window.mParticle.addForwarder({name:t,constructor:o,getId:et}),s={register:ot},p=s.register,n.default=s,n.register=p,n}({}) ;;
; var mpBrazeKitV3=function(n){function c(n,t){return t={exports:{}},n(t,t.exports),t.exports}function v(){return u}function y(n){var i=[t,r].join("-");if(!n){window.console.log("You must pass a config object to register the kit "+i);return}if(!e(n)){window.console.log("'config' must be an object. You passed in a "+typeof n);return}e(n.kits)?n.kits[i]={constructor:f}:(n.kits={},n.kits[i]={constructor:f});window.console.log("Successfully registered "+i+" to your mParticle configuration")}function p(){for(var r,t,n,u={},i=0;i<arguments.length;i+=1)for(r=arguments[i],t=Object.keys(r),n=0;n<t.length;n+=1)u[t[n]]=r[t[n]];return u}function e(n){return n!=null&&typeof n=="object"&&Array.isArray(n)===!1}var s=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},l=c(function(n){(function(){(function(t,i){var r,u,f;if(n.exports)r=i(),n.exports=r,n.exports.default=r;else if(t.appboy){u=i();for(f in u)t.appboy[f]=u[f]}else t.appboy=i()})("undefined"!=typeof self?self:this,function(){function la(n){var t=0;return function(){return t<n.length?{done:!1,value:n[t++]}:{done:!0}}}function rt(n){var t="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];return t?t.call(n):{next:la(n)}}function ya(n){var t,i;for(n=["object"==typeof globalThis&&globalThis,n,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof s&&s],t=0;t<n.length;++t)if(i=n[t],i&&i.Math==Math)return i;throw Error("Cannot find global object");}function ih(n,t){var r,i,u;if(t)n:{for(r=nu,n=n.split("."),i=0;i<n.length-1;i++){if(u=n[i],!(u in r))break n;r=r[u]}n=n[n.length-1];i=r[n];t=t(i);t!=i&&null!=t&&va(r,n,{configurable:!0,writable:!0,value:t})}}function pt(n,t){var i,r;if(n.prototype=aa(t.prototype),n.prototype.constructor=n,pe)pe(n,t);else for(i in t)"prototype"!=i&&(Object.defineProperties?(r=Object.getOwnPropertyDescriptor(t,i),r&&Object.defineProperty(n,i,r)):n[i]=t[i]);n.gi=t.prototype}function ct(n){var i=t;this.Le="undefined"==typeof window?self:window;this.C=n;this.F=i}function we(n){if("indexedDB"in n.Le)return n.Le.indexedDB}function rr(n){try{if(null==we(n))return!1;if(we(n).open("Braze IndexedDB Support Test"),"undefined"!=typeof window){var t=window.bi||window.Ya||window.di;if(t&&t.wh&&t.wh.id)return n.F.info("Not using IndexedDB for storage because we are running inside an extension"),!1}return!0}catch(i){return n.F.info("Not using IndexedDB for storage due to following error: "+i),!1}}function ur(n,t,i){var r=we(n).open(n.C.P,n.C.VERSION);return null==r?("function"==typeof i&&i(),!1):(r.onupgradeneeded=function(t){n.F.info("Upgrading indexedDB "+n.C.P+" to v"+n.C.VERSION+"...");t=t.target.result;for(var i in n.C.G)n.C.G.hasOwnProperty(i)&&!t.objectStoreNames.contains(n.C.G[i])&&t.createObjectStore(n.C.G[i])},r.onsuccess=function(r){var u=r.target.result;u.onversionchange=function(){u.close();"function"==typeof i&&i();n.F.error("Needed to close the database unexpectedly because of an upgrade in another tab")};t(u)},r.onerror=function(t){return n.F.info("Could not open indexedDB "+n.C.P+" v"+n.C.VERSION+": "+t.target.errorCode),"function"==typeof i&&i(),!0},!0)}function fh(n,t,i,r){rr(n)?ur(n,function(u){u.objectStoreNames.contains(t)?(u=u.transaction([t],"readonly").objectStore(t).openCursor(null,"prev"),u.onerror=function(){n.F.error("Could not open cursor for "+t+" on indexedDB "+n.C.P);"function"==typeof r&&r()},u.onsuccess=function(n){n=n.target.result;null!=n&&null!=n.value&&null!=n.key?i(n.key,n.value):"function"==typeof r&&r()}):(n.F.error("Could not retrieve last record from "+t+" on indexedDB "+n.C.P+" - "+t+" is not a valid objectStore"),"function"==typeof r&&r())},r):"function"==typeof r&&r()}function pu(n,t,i){rr(n)&&ur(n,function(r){r.objectStoreNames.contains(t)?r.transaction([t],"readwrite").objectStore(t)["delete"](i).onerror=function(){n.F.error("Could not delete record "+i+" from "+t+" on indexedDB "+n.C.P)}:n.F.error("Could not delete record "+i+" from "+t+" on indexedDB "+n.C.P+" - "+t+" is not a valid objectStore")})}function eh(n,t,i){rr(n)&&ur(n,function(r){var f,u;r.objectStoreNames.contains(t)?(f=r.transaction([t],"readwrite").objectStore(t),r=f.openCursor(),u=[],r.onerror=function(){0<u.length?(n.F.info("Cursor closed midway through for "+t+" on indexedDB "+n.C.P),i(u)):n.F.error("Could not open cursor for "+t+" on indexedDB "+n.C.P)},r.onsuccess=function(n){var t=n.target.result;null!=t?(null!=t.value&&null!=t.key&&(f["delete"](t.key).onsuccess=function(){u.push(t.value)}),t.continue()):0<u.length&&i(u)}):n.F.error("Could not retrieve objects from "+t+" on indexedDB "+n.C.P+" - "+t+" is not a valid objectStore")})}function ti(n,i,r,u){return n=wu(n),-1===n.indexOf(i)?(t.error(r+" Valid values from "+u+' are "'+n.join('"/"')+'".'),!1):!0}function ft(n){return Array.isArray?Array.isArray(n):"[object Array]"===Object.prototype.toString.call(n)}function ii(n){return"[object Date]"===Object.prototype.toString.call(n)}function be(n){return"[object Object]"===Object.prototype.toString.call(n)}function pa(n){var i,t;null==n&&(n=[]);for(var r=[],f=arguments.length,u=0,e=n.length;u<e;u++)if(i=n[u],-1===r.indexOf(i)){for(t=1;t<f&&-1!==arguments[t].indexOf(i);t++);t===f&&r.push(i)}return r}function ki(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(i);return t}function wu(n){var i=[];for(var t in n)n.hasOwnProperty(t)&&void 0!==n[t]&&i.push(n[t]);return i}function di(n,t){var r,u,f,i,e;if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;if(r=n.toString(),r!==t.toString())return!1;switch(r){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}if(r="[object Array]"===r,!r&&("object"!=typeof n||"object"!=typeof t||(u=n.constructor,f=t.constructor,u!==f&&!("function"==typeof u&&u instanceof u&&"function"==typeof f&&f instanceof f)&&"constructor"in n&&"constructor"in t)))return!1;for(u=[],f=[],i=u.length;i--;)if(u[i]===n)return f[i]===t;if(u.push(n),f.push(t),r){if(i=n.length,i!==t.length)return!1;for(;i--;)if(!di(n[i],t[i]))return!1}else{if(r=ki(n),i=r.length,ki(t).length!==i)return!1;for(;i--;)if(e=r[i],!t.hasOwnProperty(e)||!di(n[e],t[e]))return!1}return u.pop(),f.pop(),!0}function tu(n,t){return n/=1e3,t&&(n=Math.floor(n)),n}function ri(n){var t=parseInt(n);return null==n||isNaN(t)?null:new Date(1e3*t)}function bu(n){return null!=n&&ii(n)?n.toISOString().replace(/\.[0-9]{3}Z$/,""):n}function gi(n){return null==n||""===n?null:new Date(n)}function y(n,t,i,r,u){this.gb=n;this.type=t;this.time=null==i||""===i?(new Date).valueOf():i;this.sessionId=r;this.data=u}function sh(n){return null!=n&&be(n)&&null!=n.t&&""!==n.t}function hh(n){return new y(n.u,n.t,n.ts,n.s,n.d)}function fr(n,t,i){null==n&&(n=ai.Ia());i=parseInt(i);(isNaN(i)||0===i)&&(i=(new Date).valueOf());this.ia=n;this.Ib=i;this.Ob=(new Date).valueOf();this.Cd=t}function ku(n){for(var t,r=n.length,i=n.length-1;0<=i;i--)t=n.charCodeAt(i),127<t&&2047>=t?r++:2047<t&&65535>=t&&(r+=2),56320<=t&&57343>=t&&i--;return r}function dt(n,i,r,u){return(u="string"==typeof n||null===n&&u)||t.error("Cannot "+i+" because "+r+' "'+n+'" is invalid.'),u}function gt(n,i,r){var u=null!=n&&"string"==typeof n&&(""===n||n.match(wa));return u||t.error("Cannot "+i+" because "+r+' "'+n+'" is invalid.'),u}function ch(n,i,r,u,f){var o,e,s,h;if(null==n&&(n={}),"object"!=typeof n||ft(n))return t.error(i+" requires that "+r+" be an object. Ignoring "+f+"."),[!1,null];if(i=JSON.stringify(n),ku(i)>ka)return t.error("Could not "+u+" because "+r+" was greater than the max size of "+da+"."),[!1,null];try{o=JSON.parse(i)}catch(c){return t.error("Could not "+u+" because "+r+" did not contain valid JSON."),[!1,null]}for(e in n){if(!gt(e,u,"the "+f+" property name"))return[!1,null];if(r=n[e],null==r)delete n[e],delete o[e];else if(ii(r)&&(o[e]=bu(r)),s=u,h="the "+f+' property "'+e+'"',(i=be(r)||ft(r)?ke(r,o[e]):lh(r))||t.error("Cannot "+s+" because "+h+' "'+r+'" is invalid.'),!i)return[!1,null]}return[!0,o]}function ke(n,t){var i,r;if(ft(n)&&ft(t)){for(i=0;i<n.length&&i<t.length;i++)if(ii(n[i])&&(t[i]=bu(n[i])),!ke(n[i],t[i]))return!1}else if(be(n)){for(i=rt(ki(n)),r=i.next();!r.done;r=i.next())if(r=r.value,ii(n[r])&&(t[r]=bu(n[r])),!ke(n[r],t[r]))return!1}else return lh(n);return!0}function lh(n){var t=typeof n;return null==n||"number"===t||"boolean"===t||ii(n)||"string"===t}function w(n,t){this.f=n;this.H=t}function iu(){}function vh(n,t){if(n&&t)if(n=n.toLowerCase(),ft(t.O)){for(var i=0;i<t.O.length;i++)if(-1!==n.indexOf(t.O[i].toLowerCase()))return t.S}else if(-1!==n.indexOf(t.O.toLowerCase()))return t.S}function ru(){var n,t,i,r,u,f;if(this.userAgentData=navigator.userAgentData){if(n=this.userAgentData.brands,n&&n.length)for(n=rt(n),t=n.next();!t.done;t=n.next()){t=t.value;i=void 0;r=[];for(i in et)et[i]!==et.dc&&r.push(et[i]);if((i=t.brand.match(new RegExp("("+r.join("|")+")","i")))&&0<i.length){u=i[0];f=t.version;break}}this.Ya=u||"Unknown Browser";this.version=f||"Unknown Version"}}function uu(){this.We=iv()}function iv(){var t=navigator.userAgent||"",i=t.match(/(samsungbrowser|tizen|roku|konqueror|icab|crios|opera|ucbrowser|chrome|safari|firefox|camino|msie|trident(?=\/))\/?\s*(\.?\d+(\.\d+)*)/i)||[],n;return/trident/i.test(i[1])?(n=/\brv[ :]+(\.?\d+(\.\d+)*)/g.exec(t)||[],[et.dc,n[1]||""]):-1!==t.indexOf("(Web0S; Linux/SmartTV)")?["LG Smart TV",null]:-1!==t.indexOf("CrKey")?["Chromecast",null]:-1!==t.indexOf("BRAVIA")||-1!==t.indexOf("SonyCEBrowser")||-1!==t.indexOf("SonyDTV")?["Sony Smart TV",null]:-1!==t.indexOf("PhilipsTV")?["Philips Smart TV",null]:t.match(/\b(Roku)\b/)?["Roku",null]:t.match(/\bAFTM\b/)?["Amazon Fire Stick",null]:i[1]===et.ae&&(n=t.match(/\b(OPR|Edge|EdgA|Edg|UCBrowser)\/(\.?\d+(\.\d+)*)/),null!=n)?(n=n.slice(1),n[0]=n[0].replace("OPR",et.le),n[0]=n[0].replace("EdgA",et.Wc),"Edg"===n[0]&&(n[0]=et.Wc),[n[0],n[1]]):i[1]===et.hd&&(n=t.match(/\b(EdgiOS)\/(\.?\d+(\.\d+)*)/),null!=n)?(n=n.slice(1),n[0]=n[0].replace("EdgiOS",et.Wc),[n[0],n[1]]):(i=i[2]?[i[1],i[2]]:[null,null],i[0]===et.hd&&null!=(n=t.match(/version\/(\.?\d+(\.\d+)*)/i))&&i.splice(1,1,n[1]),null!=(n=t.match(/\b(UCBrowser)\/(\.?\d+(\.\d+)*)/))&&i.splice(1,1,n[2]),i[0]===et.le&&null!=(n=t.match(/mini\/(\.?\d+(\.\d+)*)/i)))?["Opera Mini",n[1]||""]:(i[0]&&(t=i[0].toLowerCase(),"msie"===t&&(i[0]=et.dc),"crios"===t&&(i[0]=et.ae),"tizen"===t&&(i[0]="Samsung Smart TV",i[1]=null),"samsungbrowser"===t&&(i[0]="Samsung Browser")),i)}function yh(){var n=this;this.Md=new(navigator.userAgentData?ru:uu);this.userAgent=navigator.userAgent;this.Ya=this.Md.Ed();this.version=this.Md.Fd();this.qb().then(function(t){return n.ga=t});this.language=(navigator.ji||navigator.language||navigator.browserLanguage||navigator.ii||"").toLowerCase();this.lh=rv(this.userAgent)}function rv(n){n=n.toLowerCase();for(var i="googlebot bingbot slurp duckduckbot baiduspider yandex facebookexternalhit sogou ia_archiver https://github.com/prerender/prerender aolbuild bingpreview msnbot adsbot mediapartners-google teoma".split(" "),t=0;t<i.length;t++)if(-1!==n.indexOf(i[t]))return!0;return!1}function wh(n,t){this.rc=n;this.R=t}function er(n,t,i){var r=i;null!=i&&i instanceof fr&&(r=i.A());n.rc.store(t,r)}function bh(n,t){var i=nr(n,t);null!=i&&(i.Ob=(new Date).valueOf(),er(n,t,i))}function nr(n,t){return n=n.rc.Z(t),null==n||null==n.g?n=null:(t=new fr(n.g,n.e,n.c),t.Ob=n.l,n=t),n}function d(n,t){var r,u;if(null==t||0===t.length)return!1;for(ft(t)||(t=[t]),r=n.R.Z(i.Wb),null!=r&&ft(r)||(r=[]),u=0;u<t.length;u++)r.push(t[u].A());return n.R.store(i.Wb,r)}function kh(n){var r=n.R.Z(i.Wb),f,u,t;if(n.R.remove(i.Wb),null==r&&(r=[]),n=[],f=!1,u=null,ft(r))for(t=0;t<r.length;t++)sh(r[t])?n.push(hh(r[t])):u=t;else f=!0;return(f||null!=u)&&(t="Stored events could not be deserialized as Events",f&&(t+=", was "+Object.prototype.toString.call(r)+" not an array"),null!=u&&(t+=", value at index "+u+" does not look like an event"),t+=", serialized values were of type "+typeof r+": "+JSON.stringify(r),n.push(new y(null,a.Yc,(new Date).valueOf(),null,{e:t}))),n}function v(n,t,r){ti(i,t,"StorageManager cannot store object.","StorageManager.KEYS.OBJECTS")&&n.R.store(t,r)}function l(n,t){return ti(i,t,"StorageManager cannot retrieve object.","StorageManager.KEYS.OBJECTS")?n.R.Z(t):!1}function b(n,t){ti(i,t,"StorageManager cannot remove object.","StorageManager.KEYS.OBJECTS")&&n.R.remove(t)}function dh(n,t){var u=n.R.Z(i.Qa),f,r;null==u&&(u={});f=t.user_id||i.Qc;for(r in t)"user_id"===r||null!=u[f]&&null!=u[f][r]||gh(n,t.user_id,r,t[r])}function gh(n,t,r,u){var e=n.R.Z(i.Qa),o,f,s;if(null==e&&(e={}),o=t||i.Qc,f=e[o],null==f&&(f={},null!=t&&(f.user_id=t)),"custom"===r){null==f[r]&&(f[r]={});for(s in u)f[r][s]=u[s]}else f[r]=u;return e[o]=f,n.R.store(i.Qa,e)}function uv(n){var t=n.R.Z(i.Qa),r;n.R.remove(i.Qa);n=[];for(r in t)null!=t[r]&&n.push(t[r]);return n}function or(n){this.$=n;this.df=yt.Ya===et.hd?3:10}function ui(n,t){this.$=n;n=0;for(var i=document.location.hostname,r=i.split(".");n<r.length-1&&-1===document.cookie.indexOf("ab._gd=ab._gd");)n++,i="."+r.slice(-1-n).join("."),document.cookie="ab._gd=ab._gd;domain="+i+";";document.cookie="ab._gd=;expires="+new Date(0).toGMTString()+";domain="+i+";";this.Me=i;this.Ee=525949;this.Qe=!!t}function ge(n){var t=new Date;return t.setTime(t.getTime()+6e4*n.Ee),t.getFullYear()}function nc(n,t){t=t+"=;expires="+new Date(0).toGMTString();document.cookie=t;document.cookie=t+";path=/";document.cookie=t+";path="+document.location.pathname;n=t+";domain="+n.Me;document.cookie=n;document.cookie=n+";path=/";document.cookie=n+";path="+document.location.pathname}function fu(){this.ud={};this.Ke=5242880;this.df=3}function du(n,t,i){this.ma=[];t&&this.ma.push(new ui(n));i&&this.ma.push(new or(n));this.ma.push(new fu)}function bt(){this.Fb={}}function lt(n,t){if("function"!=typeof t)return null;var i=ai.Ia();return n.Fb[i]=t,i}function nt(n,t){var i=[];for(var r in n.Fb)i.push(n.Fb[r](t))}function tc(){if(null==gu){gu=!1;try{var n=Object.defineProperty({},"passive",{get:function(){gu=!0}});window.addEventListener("testPassive",null,n);window.removeEventListener("testPassive",null,n)}catch(t){}}return gu}function eu(n,t,i){n.addEventListener(t,i,tc()?{passive:!0}:!1)}function no(n,t,i,r){return null==n?!1:(t=t||!1,i=i||!1,n=n.getBoundingClientRect(),null==n?!1:(0<=n.top&&n.top<=(window.innerHeight||document.documentElement.clientHeight)||!t)&&(0<=n.left||!r)&&(0<=n.bottom&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)||!i)&&(n.right<=(window.innerWidth||document.documentElement.clientWidth)||!r))}function ic(n){if(n.onclick){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!0);n.onclick.apply(n,[t])}}function ou(n,t,i){var r=null,u=null;eu(n,"touchstart",function(n){r=n.touches[0].clientX;u=n.touches[0].clientY});eu(n,"touchmove",function(f){if(null!=r&&null!=u){var e=r-f.touches[0].clientX,o=u-f.touches[0].clientY;Math.abs(e)>Math.abs(o)&&25<=Math.abs(e)?(0<e&&t===to?i(f):0>e&&t===io&&i(f),u=r=null):25<=Math.abs(o)&&(0<o&&t===uc&&n.scrollTop===n.scrollHeight-n.offsetHeight?i(f):0>o&&t===fc&&0===n.scrollTop&&i(f),u=r=null)}})}function rc(n,t,i){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");return r.setAttribute("viewBox",n),r.setAttribute("xmlns","http://www.w3.org/2000/svg"),n=document.createElementNS("http://www.w3.org/2000/svg","path"),n.setAttribute("d",t),null!=i&&n.setAttribute("fill",i),r.appendChild(n),r}function ec(n,t,i){var r=document.createElement("button");return r.setAttribute("aria-label",n),r.setAttribute("tabindex","0"),r.setAttribute("role","button"),eu(r,"touchstart",function(){}),r.className="ab-close-button",n=rc("0 0 15 15","M15 1.5L13.5 0l-6 6-6-6L0 1.5l6 6-6 6L1.5 15l6-6 6 6 1.5-1.5-6-6 6-6z",t),r.appendChild(n),r.addEventListener("keydown",function(n){(32===n.keyCode||13===n.keyCode)&&(i(),n.stopPropagation())}),r.onclick=function(n){i();n.stopPropagation()},r}function ut(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){this.id=n;this.viewed=t||!1;this.title=i||"";this.imageUrl=r;this.description=u||"";this.created=f||null;this.updated=e||null;this.categories=o||[];this.expiresAt=s||null;this.url=h;this.linkText=c;l=parseFloat(l);this.aspectRatio=isNaN(l)?null:l;this.extras=a;this.pinned=v||!1;this.dismissible=y||!1;this.dismissed=!1;this.clicked=p||!1;this.test=!1;this.pd=this.X=null}function nf(n){return null==n.X&&(n.X=new bt),n.X}function tf(n){return null==n.pd&&(n.pd=new bt),n.pd}function oc(n,t){if(null==t||t[e.wa]!==n.id)return!0;if(t[e.pe])return!1;if(null!=t[e.ea]&&null!=n.updated&&t[e.ea]<tu(n.updated.valueOf()))return!0;if(t[e.za]&&!n.viewed&&(n.viewed=!0),t[e.ta]&&!n.clicked&&(n.clicked=t[e.ta]),null!=t[e.Ua]&&(n.title=t[e.Ua]),null!=t[e.xa]&&(n.imageUrl=t[e.xa]),null!=t[e.Ra]&&(n.description=t[e.Ra]),null!=t[e.ea]){var i=ri(t[e.ea]);null!=i&&(n.updated=i)}return null!=t[e.ca]&&(n.expiresAt=t[e.ca]===cc?null:ri(t[e.ca])),null!=t[e.URL]&&(n.url=t[e.URL]),null!=t[e.ya]&&(n.linkText=t[e.ya]),null!=t[e.sa]&&(i=parseFloat(t[e.sa]),n.aspectRatio=isNaN(i)?null:i),null!=t[e.ka]&&(n.extras=t[e.ka]),null!=t[e.la]&&(n.pinned=t[e.la]),null!=t[e.va]&&(n.dismissible=t[e.va]),null!=t[e.V]&&(n.test=t[e.V]),!0}function rf(n){if(n[e.pe])return null;var i=n[e.wa],r=n[e.TYPE],u=n[e.za],w=n[e.Ua],c=n[e.xa],b=n[e.Ra],f=ri(n[e.ea]),o=n[e.ca]===cc?null:ri(n[e.ca]),l=n[e.URL],a=n[e.ya],v=n[e.sa],s=n[e.ka],h=n[e.la],y=n[e.va],p=n[e.ta];if(n=n[e.V]||!1,r===ht.xe||r===ht.ic)i=new cr(i,u,w,c,b,null,f,null,o,l,a,v,s,h,y,p);else if(r===ht.Yb)i=new hr(i,u,w,c,b,null,f,null,o,l,a,v,s,h,y,p);else if(r===ht.Xb)i=new sr(i,u,c,null,f,null,o,l,a,v,s,h,y,p);else if(r===ht.Sc)i=new wi(i,u,f,o,s,h);else return t.error("Ignoring card with unknown type "+r),null;return i.test=n,i}function sc(n){var t=n[u.wa],i=n[u.TYPE],r=n[u.za],b=n[u.Ua],h=n[u.xa],k=n[u.Ra],c=gi(n[u.bc]),f=gi(n[u.ea]),l=n[u.Zb],e=gi(n[u.ca]),a=n[u.URL],v=n[u.ya],y=n[u.sa],o=n[u.ka],s=n[u.la],p=n[u.va],w=n[u.ta];if(n=n[u.V]||!1,i===ht.ic)t=new cr(t,r,b,h,k,c,f,l,e,a,v,y,o,s,p,w);else if(i===ht.Yb)t=new hr(t,r,b,h,k,c,f,l,e,a,v,y,o,s,p,w);else if(i===ht.Xb)t=new sr(t,r,h,c,f,l,e,a,v,y,o,s,p,w);else if(i===ht.Sc)t=new wi(t,r,f,e,o,s);else return;return t.test=n,t}function hc(n){null!=n&&(n=n.querySelectorAll(".ab-unread-indicator")[0],null!=n&&(n.className+=" read"))}function sr(n,t,i,r,u,f,e,o,s,h,c,l,a,v){ut.call(this,n,t,null,i,null,r,u,f,e,o,s,h,c,l,a,v);this.Dc="ab-banner";this.Gc=!1}function hr(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){ut.call(this,n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p);this.Dc="ab-captioned-image";this.Gc=!0}function cr(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){ut.call(this,n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p);this.Dc="ab-classic-card";this.Gc=!0}function wi(n,t,i,r,u,f){ut.call(this,n,t,null,null,null,null,i,null,r,null,null,null,u,f,null);this.Dc="ab-control-card";this.Gc=!1}function ev(n){return n=parseInt(n),!isNaN(n)&&0==(n&4278190080)>>>24}function fi(n){var t;if(n=parseInt(n),isNaN(n))return"";t=parseFloat(t);isNaN(t)&&(t=1);n>>>=0;var i=n&255,r=(n&65280)>>>8,u=(n&16711680)>>>16;return(yt.Ya===et.dc?8<yt.version:1)?"rgba("+[u,r,i,((n&4278190080)>>>24)/255*t].join()+")":"rgb("+[u,r,i].join()+")"}function p(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht){this.message=n;this.messageAlignment=t||lr;this.duration=l||5e3;this.slideFrom=i||ac;this.extras=r||{};this.campaignId=u;this.cardId=f;this.triggerId=e;this.clickAction=o||ef;this.uri=s;this.openTarget=h||vc;this.dismissType=c||fo;this.icon=a;this.imageUrl=v;this.imageStyle=y||yc;this.iconColor=p||ei.nd;this.iconBackgroundColor=w||ei.$d;this.backgroundColor=b||ei.nd;this.textColor=k||ei.ce;this.closeButtonColor=d||ei.Sf;this.animateIn=g;null==this.animateIn&&(this.animateIn=!0);this.animateOut=nt;null==this.animateOut&&(this.animateOut=!0);this.header=tt;this.headerAlignment=it||lr;this.headerTextColor=rt||ei.ce;this.frameColor=ut||ei.vg;this.buttons=ft||[];this.cropType=et||oo;this.orientation=ot;this.htmlId=st;this.css=ht;this.Fe=this.Wa=this.Ge=!1;this.X=new bt;this.nc=new bt}function uf(n){return null!=n.htmlId&&4<n.htmlId.length}function si(n){return uf(n)&&null!=n.css&&0<n.css.length}function ff(n){if(uf(n)&&si(n))return n.htmlId+"-css"}function ro(n){var r,s,i;if(n.is_control)return new ar(n.trigger_id);r=n.type;null!=r&&(r=r.toUpperCase());var u=n.message,w=n.text_align_message,at=n.slide_from,h=n.extras,c=n.campaign_id,l=n.card_id,a=n.trigger_id,b=n.click_action,k=n.uri,d=n.open_target,v=n.message_close,y=n.duration,g=n.icon,nt=n.image_url,st=n.image_style,tt=n.icon_color,it=n.icon_bg_color,rt=n.bg_color,ut=n.text_color,ft=n.close_btn_color,ht=n.header,ct=n.text_align_header,lt=n.header_text_color,et=n.frame_color,ot=[],f=n.btns;for(null==f&&(f=[]),s=0;s<f.length;s++)i=f[s],ot.push(new hi(i.text,i.bg_color,i.text_color,i.border_color,i.click_action,i.uri,i.id));f=n.crop_type;s=n.orientation;i=n.animate_in;var p=n.animate_out,e=n.html_id,o=n.css;if((null==e||""===e||null==o||""===o)&&(o=e=void 0),r===bv||r===kv)u=new yr(u,w,h,c,l,a,b,k,d,v,y,g,nt,st,tt,it,rt,ut,ft,i,p,ht,ct,lt,et,ot,f,e,o);else if(r===dv)u=new vr(u,w,h,c,l,a,b,k,d,v,y,g,nt,st,tt,it,rt,ut,ft,i,p,ht,ct,lt,et,ot,f,s,e,o);else if(r===wv)u=new pr(u,w,at,h,c,l,a,b,k,d,v,y,g,nt,tt,it,rt,ut,ft,i,p,e,o);else if(r===wc||r===bc)u=new yi(u,h,c,l,a,v,y,i,p,et,e,o,n.message_fields),u.Th=n.trusted||!1;else{t.error("Ignoring message with unknown type "+r);return}return u.nf=r,u}function ov(n,t){if(t&&t.parentNode){var i=t.closest(".ab-iam-root");null==i&&(i=t);n.Ja()&&null!=i.parentNode&&((t=i.parentNode.classList)&&t.contains(cf)&&t.remove(cf),document.body.removeEventListener("touchmove",lc));i.className=i.className.replace(kc,ny)}return n.animateOut}function vi(n,t,i){var r,f,u,e;null!=t&&(n.sc=null,r=-1===t.className.indexOf("ab-in-app-message")?t.getElementsByClassName("ab-in-app-message")[0]:t,f=!1,r&&(f=ov(n,r)),u=document.body,null!=u&&(e=u.scrollTop),r=function(){if(t&&t.parentNode){var r=t.closest(".ab-iam-root");null==r&&(r=t);r.parentNode&&r.parentNode.removeChild(r)}null!=ff(n)&&(r=document.getElementById(ff(n)))&&r.parentNode&&r.parentNode.removeChild(r);null!=u&&"Safari"===yt.Ya&&(u.scrollTop=e);i?i():n.Nd()},f?setTimeout(r,gv):r(),n.tc&&n.tc.focus())}function lc(n){n.targetTouches&&1<n.targetTouches.length||n.target.classList&&n.target.classList.contains("ab-message-text")&&n.target.scrollHeight>n.target.clientHeight||document.querySelector("."+cf)&&n.preventDefault()}function hi(n,t,i,r,u,f,e){this.text=n||"";this.backgroundColor=t||ei.$d;this.textColor=i||ei.nd;this.borderColor=r||this.backgroundColor;this.clickAction=u||ef;this.uri=f;null==e&&(e=so);this.id=e;this.Wa=!1;this.X=new bt}function ar(n){this.triggerId=n}function dc(n){for(var r,u,t=n.querySelectorAll(".ab-close-button, .ab-message-text, .ab-message-button"),i=0;i<t.length;i++)t[i].tabIndex=0;0<t.length&&(r=t[0],u=t[t.length-1],n.addEventListener("keydown",function(t){var i=document.activeElement;9===t.keyCode&&(t.shiftKey||i!==u&&i!==n?!t.shiftKey||i!==r&&i!==n||(t.preventDefault(),u.focus()):(t.preventDefault(),r.focus()))}))}function gc(n,t){t.setAttribute("role","dialog");t.setAttribute("aria-modal",!0);t.setAttribute("aria-label","Modal Message");n&&t.setAttribute("aria-labelledby",n)}function nl(n,t,i,r,u){var s,o,h,e,f,c;if(0<n.buttons.length)for(s=document.createElement("div"),s.className="ab-message-buttons",r.appendChild(s),o=r.getElementsByClassName("ab-message-text")[0],null!=o&&(o.className+=" ab-with-buttons"),o=function(f){return function(e){return vi(n,r,function(){t.Ic(f,n);f.clickAction===su?at.openUri(f.uri,e,u||n.openTarget===sf):f.clickAction===uo&&i()}),e.stopPropagation(),!1}},h=0;h<n.buttons.length;h++)e=n.buttons[h],f=document.createElement("button"),f.className="ab-message-button",f.setAttribute("type","button"),eu(f,"touchstart",function(){}),c=e.text,""===e.text&&(c=" "),f.appendChild(document.createTextNode(c)),si(n)||(f.style.backgroundColor=fi(e.backgroundColor),f.style.color=fi(e.textColor),f.style.borderColor=fi(e.borderColor)),f.onclick=o(e),s.appendChild(f)}function vr(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht){et=et||eo;p.call(this,n,t,null,i,r,u,f,e,o,s,h||"SWIPE",c,l,a,v,y,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot||"PORTRAIT",st,ht)}function ty(n){var t,i,r;if(null==n&&(n=""),t=n.split("?").slice(1).join("?"),n={},null!=t)for(t=t.split("&"),i=0;i<t.length;i++)r=t[i].split("="),""!==r[0]&&(n[r[0]]=r[1]);return n}function co(n){return n&&(n=n.toString().toLowerCase(),0===n.lastIndexOf("javascript:",0)||0===n.lastIndexOf("data:",0))?!0:!1}function yi(n,t,i,r,u,f,e,o,s,h,c,l,a){null!=n&&0<n.length&&0<n.indexOf('"ab-in-app-message ab-html-message ab-email-capture"')&&0<n.indexOf('"ab-in-app-message ab-show ab-modal ab-effect-modal"')&&(s=o=!0);p.call(this,n,null,null,t,i,r,u,null,null,null,f||"SWIPE",e,null,null,null,null,null,null,null,null,o,s,null,null,null,h,void 0,void 0,void 0,c,l);this.messageFields=a}function yr(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){et=et||oo;p.call(this,n,t,null,i,r,u,f,e,o,s,h||"SWIPE",c,l,a,v,y,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,void 0,ot,st)}function pr(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,w,b,k,d,g,nt,tt,it){k=k||ei.Uf;b=b||ei.Tf;p.call(this,n,t||"START",i,r,u,f,e,o,s,h,c,l,a,v,null,y,w,b,k,d,g,nt,void 0,void 0,void 0,void 0,void 0,void 0,void 0,tt,it)}function iy(n,i){if(hu={en:{NO_CARDS_MESSAGE:"We have no updates for you at this time.<br/>Please check again later.",FEED_TIMEOUT_MESSAGE:"Sorry, this refresh timed out.<br/>Please try again later."},ar:{NO_CARDS_MESSAGE:"ليس لدينا أي تحديث. يرجى التحقق مرة أخرى لاحقاً",FEED_TIMEOUT_MESSAGE:"يرجى تكرار المحاولة لاحقا"},cs:{NO_CARDS_MESSAGE:"V tuto chvíli pro vás nemáme žádné aktualizace.<br/>Zkontrolujte prosím znovu později.",FEED_TIMEOUT_MESSAGE:"Prosím zkuste to znovu později."},da:{NO_CARDS_MESSAGE:"Vi har ingen updates.<br/>Prøv venligst senere.",FEED_TIMEOUT_MESSAGE:"Prøv venligst senere."},de:{NO_CARDS_MESSAGE:"Derzeit sind keine Updates verfügbar.<br/>Bitte später noch einmal versuchen.",FEED_TIMEOUT_MESSAGE:"Bitte später noch einmal versuchen."},es:{NO_CARDS_MESSAGE:"No tenemos actualizaciones.<br/>Por favor compruébelo más tarde.",FEED_TIMEOUT_MESSAGE:"Por favor inténtelo más tarde."},"es-mx":{NO_CARDS_MESSAGE:"No tenemos ninguna actualización.<br/>Vuelva a verificar más tarde.",FEED_TIMEOUT_MESSAGE:"Por favor, vuelva a intentarlo más tarde."},et:{NO_CARDS_MESSAGE:"Uuendusi pole praegu saadaval.<br/>Proovige hiljem uuesti.",FEED_TIMEOUT_MESSAGE:"Palun proovige hiljem uuesti."},fi:{NO_CARDS_MESSAGE:"Päivityksiä ei ole saatavilla.<br/>Tarkista myöhemmin uudelleen.",FEED_TIMEOUT_MESSAGE:"Yritä myöhemmin uudelleen."},fr:{NO_CARDS_MESSAGE:"Aucune mise à jour disponible.<br/>Veuillez vérifier ultérieurement.",FEED_TIMEOUT_MESSAGE:"Veuillez réessayer ultérieurement."},he:{NO_CARDS_MESSAGE:".אין לנו עדכונים. בבקשה בדוק שוב בקרוב",FEED_TIMEOUT_MESSAGE:".בבקשה נסה שוב בקרוב"},hi:{NO_CARDS_MESSAGE:"हमारे पास कोई अपडेट नहीं हैं। कृपया बाद में फिर से जाँच करें.।",FEED_TIMEOUT_MESSAGE:"कृपया बाद में दोबारा प्रयास करें।."},id:{NO_CARDS_MESSAGE:"Kami tidak memiliki pembaruan. Coba lagi nanti.",FEED_TIMEOUT_MESSAGE:"Coba lagi nanti."},it:{NO_CARDS_MESSAGE:"Non ci sono aggiornamenti.<br/>Ricontrollare più tardi.",FEED_TIMEOUT_MESSAGE:"Riprovare più tardi."},ja:{NO_CARDS_MESSAGE:"アップデートはありません。<br/>後でもう一度確認してください。",FEED_TIMEOUT_MESSAGE:"後でもう一度試してください。"},ko:{NO_CARDS_MESSAGE:"업데이트가 없습니다. 다음에 다시 확인해 주십시오.",FEED_TIMEOUT_MESSAGE:"나중에 다시 시도해 주십시오."},ms:{NO_CARDS_MESSAGE:"Tiada kemas kini. Sila periksa kemudian.",FEED_TIMEOUT_MESSAGE:"Sila cuba kemudian."},nl:{NO_CARDS_MESSAGE:"Er zijn geen updates.<br/>Probeer het later opnieuw.",FEED_TIMEOUT_MESSAGE:"Probeer het later opnieuw."},no:{NO_CARDS_MESSAGE:"Vi har ingen oppdateringer.<br/>Vennligst sjekk igjen senere.",FEED_TIMEOUT_MESSAGE:"Vennligst prøv igjen senere."},pl:{NO_CARDS_MESSAGE:"Brak aktualizacji.<br/>Proszę sprawdzić ponownie później.",FEED_TIMEOUT_MESSAGE:"Proszę spróbować ponownie później."},pt:{NO_CARDS_MESSAGE:"Não temos atualizações.<br/>Por favor, verifique mais tarde.",FEED_TIMEOUT_MESSAGE:"Por favor, tente mais tarde."},"pt-br":{NO_CARDS_MESSAGE:"Não temos nenhuma atualização.<br/>Verifique novamente mais tarde.",FEED_TIMEOUT_MESSAGE:"Tente novamente mais tarde."},ru:{NO_CARDS_MESSAGE:"Обновления недоступны.<br/>Пожалуйста, проверьте снова позже.",FEED_TIMEOUT_MESSAGE:"Пожалуйста, повторите попытку позже."},sv:{NO_CARDS_MESSAGE:"Det finns inga uppdateringar.<br/>Försök igen senare.",FEED_TIMEOUT_MESSAGE:"Försök igen senare."},th:{NO_CARDS_MESSAGE:"เราไม่มีการอัพเดต กรุณาตรวจสอบภายหลัง.",FEED_TIMEOUT_MESSAGE:"กรุณาลองใหม่ภายหลัง."},uk:{NO_CARDS_MESSAGE:"Оновлення недоступні.<br/>ласка, перевірте знову пізніше.",FEED_TIMEOUT_MESSAGE:"Будь ласка, спробуйте ще раз пізніше."},vi:{NO_CARDS_MESSAGE:"Chúng tôi không có cập nhật nào.<br/>Vui lòng kiểm tra lại sau.",FEED_TIMEOUT_MESSAGE:"Vui lòng thử lại sau."},"zh-hk":{NO_CARDS_MESSAGE:"暫時沒有更新.<br/>請稍候再試.",FEED_TIMEOUT_MESSAGE:"請稍候再試."},"zh-hans":{NO_CARDS_MESSAGE:"暂时没有更新.<br/>请稍后再试.",FEED_TIMEOUT_MESSAGE:"请稍候再试."},"zh-hant":{NO_CARDS_MESSAGE:"暫時沒有更新.<br/>請稍候再試.",FEED_TIMEOUT_MESSAGE:"請稍候再試."},"zh-tw":{NO_CARDS_MESSAGE:"暫時沒有更新.<br/>請稍候再試.",FEED_TIMEOUT_MESSAGE:"請稍候再試."},zh:{NO_CARDS_MESSAGE:"暂时没有更新.<br/>请稍后再试.",FEED_TIMEOUT_MESSAGE:"请稍候再试."}},null!=n&&(n=n.toLowerCase()),null!=n&&null==hu[n]){var r=n.indexOf("-");0<r&&(n=n.substring(0,r))}null==hu[n]&&(n="Braze does not yet have a localization for language "+n+", defaulting to English. Please contact us if you are willing and able to help us translate our SDK into this language.",i?t.error(n):t.info(n),n="en");lo=n}function ci(n,t){this.cards=n;this.lastUpdated=t}function wr(n,t){t&&(t.className=t.className.replace("ab-show","ab-hide"),setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},il));var i=t.getAttribute(vo);null!=i&&n.N(i)}function tl(n,i,r){var u=document.createElement("div"),f,o;if(u.className="ab-feed-body",u.setAttribute("aria-label","Feed"),u.setAttribute("role","feed"),null==n.lastUpdated)r=document.createElement("div"),r.className="ab-no-cards-message",f=document.createElement("i"),f.className="fa fa-spinner fa-spin fa-4x ab-initial-spinner",r.appendChild(f),u.appendChild(r);else{f=!1;for(var s=function(t){n.La(i,t)},h=function(n){i.Hc(n)},e=0;e<n.cards.length;e++)o=n.cards[e]instanceof wi,!o||n instanceof ni?(u.appendChild(n.cards[e].aa(s,h,r)),f=f||!o):t.error("Received a control card for a legacy news feed. Control cards are only supported with content cards.");f||(r=document.createElement("div"),r.className="ab-no-cards-message",r.innerHTML=hu[lo].NO_CARDS_MESSAGE,r.setAttribute("role","article"),u.appendChild(r))}return u}function lf(n,t,i){var o,r,s,u,f,e;if(null!=i){for(o=[],i=i.querySelectorAll(".ab-card"),n.od||(n.od={}),r=0;r<i.length;r++)if(s=i[r].getAttribute("data-ab-card-id"),!n.od[s]){u=i[r];u=null!=u&&!!u.getAttribute("data-ab-had-top-impression");f=i[r];f=null!=f&&!!f.getAttribute("data-ab-had-bottom-impression");var l=u,a=f,h=no(i[r],!0,!1,!1),c=no(i[r],!1,!0,!1);if(!u&&h&&(u=!0,e=i[r],null!=e&&e.setAttribute("data-ab-had-top-impression",!0)),!f&&c&&(f=!0,e=i[r],null!=e&&e.setAttribute("data-ab-had-bottom-impression",!0)),u&&f&&(h||c||hc(i[r]),!l||!a))for(u=0;u<n.cards.length;u++)if(n.cards[r].id===s){n.od[n.cards[r].id]=!0;o.push(n.cards[r]);break}}0<o.length&&n.Ma(t,o)}}function ao(n,t,i){var r,u;i.setAttribute("aria-busy","true");r=i.querySelectorAll(".ab-refresh-button")[0];null!=r&&(r.className+=" fa-spin");u=(new Date).valueOf().toString();i.setAttribute(vf,u);setTimeout(function(){if(i.getAttribute(vf)===u){for(var n=i.querySelectorAll(".fa-spin"),t=0;t<n.length;t++)n[t].className=n[t].className.replace(/fa-spin/g,"");n=i.querySelectorAll(".ab-initial-spinner")[0];null!=n&&(t=document.createElement("span"),t.innerHTML=hu[lo].FEED_TIMEOUT_MESSAGE,n.parentNode.appendChild(t),n.parentNode.removeChild(n));"true"===i.getAttribute("aria-busy")&&i.setAttribute("aria-busy","false")}},ry);n.Se(t)}function af(n,t,i,r,u,f){if(ft(t)){for(var o=[],e=0;e<t.length;e++)t[e]instanceof ut&&o.push(t[e]);n.cards=o;n.lastUpdated=i;null!=r&&(r.setAttribute("aria-busy","false"),null==n.lastUpdated?wr(u,r):(t=r.querySelectorAll(".ab-feed-body")[0],null!=t&&(f=tl(n,u,f),t.parentNode.replaceChild(f,t),lf(n,u,f.parentNode))))}}function ni(n,t){ci.call(this,n,t)}function vt(){this.h=!1;this.j=[]}function yf(n){this.bb=n}function pf(n,t,i,r){this.lf=n;this.Mc=t;this.nb=i;this.I=r;this.Mc===yo&&this.nb!==rl&&this.nb!==ul&&this.nb!==fl&&this.nb!==el&&(this.I=ri(this.I))}function wf(n){this.filters=n}function ol(n){var r,i,t;if(null==n||!ft(n))return null;for(r=[],i=0;i<n.length;i++){for(var f=[],e=n[i],u=0;u<e.length;u++)t=e[u],f.push(new pf(t.property_key,t.property_type,t.comparator,t.property_value));r.push(f)}return new wf(r)}function sl(n){for(var t,r=[],i=0;i<n.length;i++){for(var f=[],e=n[i],u=0;u<e.length;u++)t=e[u],f.push(new pf(t.k,t.t,t.c,t.v));r.push(f)}return new wf(r)}function bf(n,t){this.bb=n;this.eb=t}function kf(n,t){this.Za=n;this.Gb=t}function df(n){this.cb=n}function gf(n,t){this.cb=n;this.eb=t}function ne(n){this.Za=n}function po(n,t){this.type=n;this.data=t}function hl(n,t,i){return pi[n.type]===t&&(null==n.data||n.data.fa(i))}function cl(n,i){var r=null;try{r=window.atob(n)}catch(u){return t.info("Failed to unencode analytics id "+n+": "+u.message),!1}return i===r.split("_")[0]}function ay(n){var i=n.type,t;switch(i){case wo:t=null;break;case bo:n=n.data;t=new df(n?n.product_id:null);break;case ko:n=n.data;t=new gf(n?n.product_id:null,n?ol(n.property_filters):null);break;case go:n=n.data;t=new ne(n?n.campaign_id:null);break;case ns:n=n.data;t=new yf(n?n.event_name:null);break;case ts:n=n.data;t=new bf(n?n.event_name:null,n?ol(n.property_filters):null);break;case is:n=n.data;t=new kf(n?n.id:null,n?n.buttons:null);break;case rs:t=null}return new po(i,t)}function vy(n){switch(n.t){case wo:var t=null;break;case bo:t=new df(n.d);break;case ko:t=n.d||{};t=new gf(t.id,sl(t.pf||[]));break;case go:t=new ne(n.d);break;case ns:t=new yf(n.d);break;case ts:t=n.d||{};t=new bf(t.e,sl(t.pf||[]));break;case is:t=new kf(n.d);break;case rs:t=null}return new po(n.t,t)}function us(n,t,i,r,u,f,e,o,s,h,c,l){this.id=n;this.ob=t||[];void 0===i&&(i=null);this.startTime=i;void 0===r&&(r=null);this.endTime=r;this.priority=u||0;this.type=f;this.ab=o||0;null==h&&(h=1e3*(this.ab+30));this.Oa=h;this.data=e;null==s&&(s=te);this.Rb=s;this.kf=c;this.Ca=l||null}function ll(n,i){var r=(new Date).valueOf()-i;return(i=null==i||isNaN(r)||null==n.Oa||r<n.Oa)||t.info("Trigger action "+n.type+" is no longer eligible for display - fired "+r+"ms ago and has a timeout of "+n.Oa+"ms"),!i}function yy(n){for(var i=[],t=0;t<n.c.length;t++)i.push(vy(n.c[t]));return new us(n.i,i,gi(n.s),gi(n.e),n.p,n.t,n.da,n.d,n.r,n.tm,n.ss,n.ld)}function al(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}function fs(n){var i,e=!1,u,o,f,r;try{if(window.XMLHttpRequest&&(i=new XMLHttpRequest)&&"undefined"!=typeof i.withCredentials||("undefined"!=typeof XDomainRequest?(i=new XDomainRequest,e=i.async=!0):t.error("This browser does not have any supported ajax options!")),null!=i){if(u=function(){"function"==typeof n.error&&n.error(i.status);"function"==typeof n.zc&&n.zc(!1)},i.onload=function(){var t,r;if(e)t=!0;else{if(4!==i.readyState)return;t=200<=i.status&&300>i.status||304===i.status}if(t){if("function"==typeof n.h){try{r=JSON.parse(i.responseText)}catch(f){n.h({error:""===i.responseText?"empty_response":"invalid_json_response",response:i.responseText})}r&&n.h(r)}"function"==typeof n.zc&&n.zc(!0)}else u()},i.onerror=function(){u()},i.ontimeout=function(){u()},o=JSON.stringify(n.data),e)i.onprogress=function(){},i.open("post",n.url);else for(i.open("POST",n.url,!0),i.setRequestHeader("Content-type","application/json"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),f=n.headers||[],r=0;r<f.length;r++)i.setRequestHeader(f[r][0],f[r][1]);i.send(o)}}catch(s){t.error("Network request error: "+s.message)}}function vl(n,t,i,r,u,f,e,o,s,h,c,l){var a=this;this.$=n;this.Kg=t;this.Oe=i;this.Fg=r;this.Bb=u;this.lb=0;this.pc=h.R.df;this.Ie=null;this.D=f;this.mc=e;this.f=o;this.J=s;this.b=h;this.W=l;this.Dg=c;this.sd=new bt;this.Eb=["npm"];this.Ag=50;this.Va=0;up(this.W,function(){a.Va=0});this.Cg=1e3;this.Bg=6e4}function es(n,t){var r=se(n.mc),u=r.Ac(),f=l(n.b,i.cc);return di(f,u)||(t.device=u),t.api_key=n.$,t.time=tu((new Date).valueOf(),!0),t.sdk_version=n.Kg,n.Oe&&(t.sdk_flavor=n.Oe),t.app_version=n.Fg,t.device_id=r.id,r=l(n.b,i.se)||[],u=l(n.b,i.ue)||"",0<n.Eb.length&&(!di(r,n.Eb)||u!==n.D.Kb())&&(t.sdk_metadata=n.Eb),t}function os(n,i,r,u){var f=r.auth_error,e=r.error;if(!f&&!e)return!0;if(f){for(n.Va+=1,r={errorCode:f.error_code},u=rt(u),e=u.next();!e.done;e=u.next())e=e.value,ft(e)&&"X-Braze-Auth-Signature"===e[0]&&(r.signature=e[1]);return i.respond_with&&i.respond_with.user_id?r.userId=i.respond_with.user_id:i.user_id&&(r.userId=i.user_id),(u=f.reason)?(r.reason=u,f="due to "+u):f="with error code "+f.error_code+".",n.W.Db||(f+=' Please use the "enableSdkAuthentication" initialization option to enable authentication.'),t.error("SDK Authentication failed "+f),ie(n,i),nt(n.W.ze,r),!1}if(e){f=e;switch(f){case"empty_response":return d(n.b,[new y(n.f.o(),a.Yc,(new Date).valueOf(),n.D.Kb,{e:"Received successful response with empty body."})]),t.info("Received successful response with empty body."),!1;case"invalid_json_response":return d(n.b,[new y(n.f.o(),a.Yc,(new Date).valueOf(),n.D.Kb,{e:"Received successful response with invalid JSON: "+r.response})]),t.info("Received successful response with invalid JSON"),!1;case"invalid_api_key":f='The API key "'+i.api_key+'" is invalid for the baseUrl '+n.Bb;break;case"blacklisted":f="Sorry, we are not currently accepting your requests. If you think this is in error, please contact us.";break;case"no_device_identifier":f="No device identifier. Please contact support@braze.com"}t.error("Backend error: "+f)}return!1}function bi(n,r,u,f,e,o,s,h){var g,b;null==f&&(f=!0);f&&fe(n);var c=kh(n.b),y=uv(n.b),w=ip(n.D);if(0<c.length)for(var k=n.f.o(),d=rt(c),p=d.next();!p.done;p=d.next())p=p.value,g=null==p.gb&&null==k||p.gb===k,p.type===a.ve&&g&&(w=!0);if(!h&&!w&&n.Va>=n.Ag)t.info("Declining to flush data due to 50 consecutive authentication failures");else if(h=u||w,!f||0!==c.length||0!==y.length||r||h){var tt=!1,ut=function(t,r){var u=!1;fs({url:""+n.Bb+"/data/",data:t,headers:r,h:function(f){var s,o,h,c;null!=t.respond_with&&t.respond_with.triggers&&(n.lb=Math.max(n.lb-1,0));os(n,t,f,r)?(n.Va=0,s=n.J,null!=f&&null!=f.config&&(o=f.config,o.time>kt(s).Nb&&(o=new ce(o.time,o.events_blacklist,o.attributes_blacklist,o.purchases_blacklist,o.messaging_session_timeout,o.vapid_public_key,o.content_cards),h=!1,null!=o.ra&&kt(s).ra!==o.ra&&(h=!0),c=!1,null!=o.Hb.enabled&&(kt(s).Hb.enabled||!1)!==o.Hb.enabled&&(c=!0),s.uc=o,v(s.b,i.te,o.A()),h&&nt(s.xd),c&&nt(s.Ae))),(null==t.respond_with||t.respond_with.user_id==n.f.o())&&(null!=t.device&&v(n.b,i.cc,t.device),null!=t.sdk_metadata&&(v(n.b,i.se,t.sdk_metadata),v(n.b,i.ue,n.D.Kb())),n.Dg(f),"function"==typeof e&&e())):f.auth_error&&(u=!0)},error:function(){null!=t.respond_with&&t.respond_with.triggers&&(n.lb=Math.max(n.lb-1,0));ie(n,t);"function"==typeof o&&o()},zc:function(t){"function"==typeof s&&s(t);f&&!tt&&(t&&!u?cu(n):(t=n.Ie,(null==t||t<1e3*n.pc)&&(t=1e3*n.pc),cu(n,Math.min(3e5,al(1e3*n.pc,3*t)))),tt=!0)}})},it=function(n){return null!=n?n:""},l={};for(u=it(n.f.o()),(r||h)&&(l[u]=hs(n,r,h),h&&n.lb++),r=function(t,i){var r=it(i.user_id);l[r]||(l[r]=hs(n,!1,!1,r));l[r][t]||(l[r][t]=[]);l[r][t].push(i)},c=rt(c),h=c.next();!h.done;h=c.next())r("events",h.value.Ac());for(y=rt(y),c=y.next();!c.done;c=y.next())r("attributes",c.value);y=!1;c={};for(b in l)n.W.Db&&b!==u?ie(n,l[b]):(c.ub=es(n,l[b]),c.Pc=wl(n,c.ub),ss(c.ub,function(n){return function(){return ut(n.ub,n.Pc)}}(c)),y=!0),c={ub:c.ub,Pc:c.Pc};f&&!y?cu(n):w&&(t.info("Invoking new session subscriptions"),nt(n.sd))}else cu(n),"function"==typeof s&&s(!0)}function ss(n,t){var i=n.device;i&&i.os_version instanceof Promise?i.os_version.then(function(i){n.device.os_version=i;t()}):t()}function ie(n,t){if(t.events){for(var r=[],u=rt(t.events),i=u.next();!i.done;i=u.next())i=i.value,i=new y(i.user_id,i.name,i.time,i.session_id,i.data),i.time*=1e3,r.push(i);d(n.b,r)}if(t.attributes)for(t=rt(t.attributes),r=t.next();!r.done;r=t.next())dh(n.b,r.value)}function yl(n,i){var r="HTTP error ";null!=n&&(r+=n+" ");t.error(r+i)}function pl(n,t,i,r,u){var f=hs(n,!1,!1),e;f=es(n,f);f.template={trigger_id:t.Pa,trigger_event_type:i};null!=r&&(f.template.data=r.Ac());e=wl(n,f);ss(f,function(){fs({url:""+n.Bb+"/template/",data:f,headers:e,h:function(i){os(n,f,i,e)?(n.Va=0,null==i||null==i.templated_message?n.M(t.Pa,st.yb):(i=i.templated_message,i.type!==tr.Xc?n.M(t.Pa,st.Ab):(i=ro(i.data),null==i?n.M(t.Pa,st.Ab):"function"==typeof t.zf?t.zf(i):n.M(t.Pa,st.yb)))):(n.M(t.Pa,st.yb),"function"==typeof t.yf&&t.yf())},error:function(f){var s="getting user personalization for message "+t.Pa,h,o,e;(new Date).valueOf()-t.Ec>t.Oa?n.M(t.Pa,st.yb):(h=Math.min(t.Oa,n.Bg),o=n.Cg,null==u&&(u=o),e=Math.min(h,al(o,3*u)),s+=". Retrying in "+e+"ms",setTimeout(function(){pl(n,t,i,r,e)},e));yl(f,s)}})})}function hs(n,t,i,r){var u={};return t&&(u.feed=!0),i&&(u.triggers=!0),(t=null!=r?r:n.f.o())&&(u.user_id=t),u.config={config_time:kt(n.J).Nb},{respond_with:u}}function wl(n,t){var r=[["X-Braze-Api-Key",n.$]],u=!1;return null!=t.respond_with&&t.respond_with.triggers&&(r.push(["X-Braze-TriggersRequest","true"]),u=!0),null!=t.respond_with&&t.respond_with.feed&&(r.push(["X-Braze-FeedRequest","true"]),u=!0),u&&r.push(["X-Braze-DataRequest","true"]),n.W.Db&&(n=l(n.W.b,i.jb),null!=n&&r.push(["X-Braze-Auth-Signature",n])),r}function re(n){if(null==n.campaignId&&null==n.cardId&&null==n.triggerId)return t.info("The in-app message has no analytics id. Not logging event to Braze servers."),null;var i={};return null!=n.cardId&&(i.card_ids=[n.cardId]),null!=n.campaignId&&(i.campaign_ids=[n.campaignId]),null!=n.triggerId&&(i.trigger_ids=[n.triggerId]),i}function ue(n){for(var t=null,i=0;i<n.length;i++)null!=n[i].id&&""!==n[i].id&&(t=t||{},t.ids=t.ids||[],t.ids.push(n[i].id));return t}function cu(n,t){n.Ce||(null==t&&(t=1e3*n.pc),fe(n),n.qc=setTimeout(function(){if(document.hidden){var t=function(){document.hidden||(document.removeEventListener("visibilitychange",t,!1),bi(n))};document.addEventListener("visibilitychange",t,!1)}else bi(n)},t),n.Ie=t)}function fe(n){null!=n.qc&&(clearTimeout(n.qc),n.qc=null)}function py(n,t){lt(n.sd,t)}function wy(n,i,r){tt(n.D);t.info("Requesting explicit trigger refresh.");bi(n,null,!0,null,i,r)}function ee(n,i,r,u){var f=new vt,e=tt(n.D);return ys(n.J,r)?(t.info('Custom Attribute "'+r+'" is blocklisted, ignoring.'),f):(f.j.push(new y(n.f.o(),i,(new Date).valueOf(),e,{key:r,value:u})),f.h=d(n.b,f.j),f)}function bl(n,t){var i=new vt,r=tt(n.D);return i.j.push(new y(n.f.o(),a.fg,(new Date).valueOf(),r,{n:t})),i.h=d(n.b,i.j),i}function by(n,t,i){var r=tt(n.D);return new y(n.f.o(),a.sg,t,r,{cid:i})}function kl(n){var t=wt.ba;new ct(t).setItem(t.G.Rf,1,{baseUrl:n.Bb,data:{api_key:n.$,device_id:se(n.mc).id},userId:n.f.o(),sdkAuthEnabled:n.W.Db})}function dl(n,t,i){var r=new vt,u=tt(n.D);return t={group_id:t,status:i},r.j.push(new y(n.f.o(),a.zg,(new Date).valueOf(),u,t)),r.h=d(n.b,r.j),r}function gl(n){this.id=n}function ky(n,t){this.b=n;null==t&&(t=wu(oe));this.De=t}function se(n){var r=nr(n.b,ot.Uc),o,u,f,s,e,c,h;for(null==r&&(r=new fr(ai.Ia()),er(n.b,ot.Uc,r)),r=new gl(r.ia),o=0;o<n.De.length;o++){u=n.De[o];switch(u){case"browser":r[u]=yt.Ya;break;case"browserVersion":r[u]=yt.version;break;case"os":f=yt.ga?yt.ga||null:(f=l(n.b,i.cc))&&f.os_version?f.os_version:yt.qb();r[u]=f;break;case"resolution":r[u]=screen.width+"x"+screen.height;break;case"language":r[u]=yt.language;break;case"timeZone":n:{if(f=new Date,"undefined"!=typeof Intl&&"function"==typeof Intl.DateTimeFormat)try{if("function"==typeof Intl.DateTimeFormat().resolvedOptions&&(s=Intl.DateTimeFormat().resolvedOptions().timeZone,null!=s&&""!==s)){e=s;break n}}catch(a){t.info("Intl.DateTimeFormat threw an error, probably https://bugs.chromium.org/p/chromium/issues/detail?id=811403, falling back to GTM offset: "+a.message)}e=f.getTimezoneOffset();f=parseInt(e/60);c=parseInt(e%60);h="GMT";0!==e&&(h=h+(0>e?"+":"-")+(("00"+Math.abs(f)).slice(-2)+":"+("00"+Math.abs(c)).slice(-2)));e=h}r[u]=e;break;case"userAgent":r[u]=yt.userAgent}}return r}function he(n){this.Fa=n;this.wc=null;this.Re="geolocation"in navigator}function cs(n){n.Re?null!=n.wc&&(navigator.geolocation.clearWatch(n.wc),n.wc=null,t.info("Stopped watching Geolocation")):t.info(n.ed)}function ls(n,t,i,r,u){this.endpoint=n||null;this.Ze=t||null;this.publicKey=i||null;this.Wh=r||null;this.ra=u||null}function na(n,t,i,r,u,f,e,o,s,h){this.Fa=n;this.$=t;this.mc=i;this.Jg=r;this.Pe=u||"/service-worker.js";this.Ne=f;this.J=e;this.rd=o||!1;this.Hg=s||!1;this.b=h;this.vc="serviceWorker"in navigator&&"undefined"!=typeof ServiceWorkerRegistration&&"showNotification"in ServiceWorkerRegistration.prototype&&"PushManager"in window;this.vd="safari"in window&&"pushNotification"in window.safari}function lu(n,i,r,u,f,e){i.unsubscribe().then(function(i){i?ia(n,r,u,f,e):(t.error("Failed to unsubscribe device from push."),"function"==typeof e&&e(!1))}).catch(function(n){t.error("Push unsubscription error: "+n);"function"==typeof e&&e(!1)})}function as(n,t,i,r){var u=function(n){if("string"==typeof n)return n;if(0!==n.endpoint.indexOf("https://android.googleapis.com/gcm/send"))return n.endpoint;var t=n.endpoint;return n.subscriptionId&&-1===n.endpoint.indexOf(n.subscriptionId)&&(t=n.endpoint+"/"+n.subscriptionId),t}(t),f=null,e=null;if(null!=t.getKey)try{f=btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("p256dh"))));e=btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("auth"))))}catch(o){if("invalid arguments"!==o.message)throw o;}t=function(n){var t;return n.options&&(t=n.options.applicationServerKey)&&t.byteLength&&0<t.byteLength?btoa(String.fromCharCode.apply(null,new Uint8Array(t))).replace(/\+/g,"-").replace(/\//g,"_"):null}(t);n.Fa.Pd(u,r,f,e,t);u&&"function"==typeof i&&i(u,f,e)}function vs(n,i,r){n.Fa.Sb(!1);t.info(i);"function"==typeof r&&r(!1)}function ta(n,i,r,u,f){if("default"===r.permission)try{window.safari.pushNotification.requestPermission(n.Jg,i,{api_key:n.$,device_id:se(n.mc).id},function(t){"granted"===t.permission&&n.Fa.Ud("opted_in");ta(n,i,t,u,f)})}catch(e){vs(n,"Could not request permission for push: "+e,f)}else"denied"===r.permission?vs(n,"The user has blocked notifications from this site, or Safari push is not configured in the Braze dashboard.",f):"granted"===r.permission&&(t.info("Device successfully subscribed to push."),as(n,r.deviceToken,u,new Date))}function dy(n,i,r){function u(u){switch(u){case"granted":"function"==typeof n&&n();break;case"default":"function"==typeof i&&i();break;case"denied":"function"==typeof r&&r();break;default:t.error("Received unexpected permission result "+u)}}var f=!1,e=window.Notification.requestPermission(function(n){f&&u(n)});e?e.then(function(n){u(n)}):f=!0}function ia(n,i,r,u,f){var e={userVisibleOnly:!0};null!=r&&(e.applicationServerKey=r);i.pushManager.subscribe(e).then(function(i){t.info("Device successfully subscribed to push.");as(n,i,u,new Date)}).catch(function(i){n.Ka()?(t.info("Permission for push notifications was denied."),"function"==typeof f&&f(!1)):t.error("Push subscription failed: "+i)})}function ra(n){return n.rd?navigator.serviceWorker.getRegistration():navigator.serviceWorker.register(n.Pe).then(function(){return navigator.serviceWorker.ready.then(function(n){return n&&"function"==typeof n.update&&n.update().catch(function(n){t.info("ServiceWorker update failed: "+n)}),n})})}function ce(n,t,i,r,u,f,e){this.Nb=n||0;this.cf=t||[];this.Ve=i||[];this.mf=r||[];this.Ld=u;(null==u||""===u)&&(this.Ld=null);this.ra=f||null;this.Hb=e||{}}function gy(n){this.b=n;this.xd=new bt;this.Ae=new bt;this.uc=null}function kt(n){var t,r;return null==n.uc&&(t=l(n.b,i.te),null!=t?(r=t.l,"3.5.0"!==t.s&&(r=0),t=new ce(r,t.e,t.a,t.p,t.m,t.v,t.c)):t=new ce,n.uc=t),n.uc}function np(n,t){t=lt(n.xd,t);n.Be&&n.xd.N(n.Be);n.Be=t}function tp(n,t){lt(n.Ae,t)}function ys(n,t){return-1!==kt(n).Ve.indexOf(t)}function ua(n,i,r,u){this.b=n;this.f=i;this.J=r;this.Cb=1e3;u=parseFloat(u);isNaN(u)&&(u=1800);u<this.Cb/1e3&&(t.info("Specified session timeout of "+u+"s is too small, using the minimum session timeout of "+this.Cb/1e3+"s instead."),u=this.Cb/1e3);this.Lg=u}function fa(n,t,i){return new y(n.f.o(),a.yg,t,i.ia,{d:tu(t-i.Ib)})}function ip(n){var u=(new Date).valueOf(),t=kt(n.J).Ld,r=l(n.b,i.hc);return null!=r&&null==t?!1:((t=null==r||u-r>1e3*t)&&v(n.b,i.hc,u),t)}function tt(n){var u=(new Date).valueOf(),f=u+1e3*n.Lg,r=nr(n.b,ot.Ta),e,o;return null==r||(u-r.Ib<n.Cb?0:r.Cd<u)?(e="Generating session start event with time "+u,null!=r&&(o=r.Ob,o-r.Ib<n.Cb&&(o=r.Ib+n.ai),r=fa(n,o,r),null==r||d(n.b,[r]),e+=" (old session ended "+o+")"),e+=". Will expire "+f.valueOf(),t.info(e),f=new fr(ai.Ia(),f),e=new y(n.f.o(),a.ve,u,f.ia),null==e||d(n.b,[e]),er(n.b,ot.Ta,f),null==l(n.b,i.hc)&&v(n.b,i.hc,u),f.ia):(r.Ob=u,r.Cd=f,er(n.b,ot.Ta,r),r.ia)}function rp(n,r){var u=!1,e;try{if(localStorage&&localStorage.getItem)try{localStorage.setItem(i.jd,!0);localStorage.getItem(i.jd)&&(localStorage.removeItem(i.jd),u=!0)}catch(f){if(("QuotaExceededError"===f.name||"NS_ERROR_DOM_QUOTA_REACHED"===f.name)&&0<localStorage.length)u=!0;else throw f;}}catch(f){t.info("Local Storage not supported!")}return e=navigator.cookieEnabled||"cookie"in document&&(0<document.cookie.length||-1<(document.cookie="test").indexOf.call(document.cookie,"test")),r=new du(n,e&&!r,u),new wh(r,u?new or(n):new fu)}function au(n,t){this.J=n;this.b=t}function g(n,t,i){return gh(n.b,n.o(),t,i)}function ps(n,t,i){this.b=n;this.Db=t||!1;this.ze=i;this.td=new bt;this.ye=1}function up(n,t){lt(n.td,t)}function br(){}function ws(n,t,i,r,u){this.ha=n;this.H=t;this.b=i;this.J=r;this.Eg=u;this.Aa=this.Da=0;this.Ga()}function fp(n,t){if(ks(n)){n.Ga();var i=n.B.slice();n.H.rb().o(function(r){for(var e=0;e<t.length;e++)if(r===t[e].userId||null==r&&null==t[e].userId){for(var f=t[e].card,u=null,o=0;o<n.B.length;o++)if(f.id===n.B[o].id){u=n.B[o];break}if(null==u)f=rf(f),null!=f&&i.push(f);else if(!oc(u,f))for(u=0;u<i.length;u++)if(f.id===i[u].id){i.splice(u,1);break}}n.B=le(n,bs(n,i,!1));n.yc();nt(n.ha,n.pb(!0))})}}function bs(n,t,r){for(var s=l(n.b,i.hb)||{},h=l(n.b,i.ib)||{},c=l(n.b,i.ua)||{},f={},e={},o={},u=0;u<t.length;u++)s[t[u].id]&&(t[u].clicked=!0,f[t[u].id]=!0),h[t[u].id]&&(t[u].viewed=!0,e[t[u].id]=!0),c[t[u].id]&&(t[u].dismissed=!0,o[t[u].id]=!0);return r&&(v(n.b,i.hb,f),v(n.b,i.ib,e),v(n.b,i.ua,o)),t}function le(n,r){for(var f,e=[],h=new Date,o=l(n.b,i.ua)||{},s=!1,u=0;u<r.length;u++)f=r[u].url,!n.Eg&&f&&co(f)?t.error('Card with url "'+f+'" will not be displayed because Javascript URLs are disabled. Use the "allowUserSuppliedJavascript" option for appboy.initialize to enable this card.'):(null==r[u].expiresAt||r[u].expiresAt>=h)&&!r[u].dismissed?e.push(r[u]):s=o[r[u].id]=!0;return s&&v(n.b,i.ua,o),e}function ks(n){return kt(n.J).Hb.enabled?!0:(0!==kt(n.J).Nb&&(nt(n.ha,new ni([],(new Date).valueOf())),b(n.b,i.wb)),!1)}function ds(n,t){this.ha=n;this.b=t;this.Ga()}function ep(n,t,i,r,u){this.Pa=n;this.zf=t;this.yf=i;this.Ec=r;this.Oa=u}function op(n,t,i,r,u){return null==n||null==n.trigger_id?null:new ep(n.trigger_id,t,i,r,u)}function kr(n,t,i,r){this.Ig=n;this.ha=t;this.b=i;this.H=r;this.oc=[];this.na=[];this.Ba=null;this.L={};this.Y={};ea(this);sp(this)}function ir(n){var t,r;for(n.Ba=l(n.b,i.ad)||n.Ba,n.L=l(n.b,i.zb)||n.L,n.Y=l(n.b,i.fc)||n.Y,t=0;t<n.T.length;t++)r=n.T[t],null!=n.Y[r.id]&&(r.Ca=n.Y[r.id])}function ea(n){n.wd=l(n.b,i.md)||0;for(var r=l(n.b,i.kd)||[],u=[],t=0;t<r.length;t++)u.push(yy(r[t]));n.T=u;ir(n)}function sp(n){function b(t,i,r,u,f){return function(){vu(n,t,i,r,u,f)}}for(var f,r,t,c,l,a,y,e,p,o={},u=0;u<n.T.length;u++)o[n.T[u].id]=n.T[u];for(u=!1,f=0;f<n.T.length;f++)if(r=n.T[f],null!=n.L[r.id]){for(var w=n.L[r.id],s=[],h=0;h<w.length;h++)if(t=w[h],c=Math.max(t.Ec+1e3*r.ab-(new Date).valueOf(),0),0<c){if(s.push(t),l=void 0,a=void 0,null!=t.wf&&(l=t.wf),null!=t.yd&&sh(t.yd)&&(a=hh(t.yd)),y=[],ft(t.Dd))for(e=0;e<t.Dd.length;e++)p=o[t.Dd[e]],null!=p&&y.push(p);n.na.push(setTimeout(b(r,t.Ec,l,a,y),c))}n.L[r.id].length>s.length&&(n.L[r.id]=s,u=!0,0===n.L[r.id].length&&delete n.L[r.id])}u&&v(n.b,i.zb,n.L)}function vu(n,r,u,f,e,o){function h(){var i,r;ir(n);i=o.pop();null!=i&&((sa(n,i,u,f,e,o),ll(i,u))?(r="Server aborted in-app message display, but the timeout on fallback trigger "+i.id+"has already elapsed.",0<o.length&&(r+=" Continuing to fall back."),t.info(r),n.H.M(i.id,st.ie),h()):(t.info("Server aborted in-app message display. Falling back to lower priority "+i.type+" trigger action "+i.id),r=1e3*i.ab-((new Date).valueOf()-u),0<r?n.na.push(setTimeout(function(){vu(n,i,u,f,e,o)},r)):vu(n,i,u,f,e,o)))}function c(e){ir(n);var o=(new Date).valueOf();ll(r,u)?r.type===tr.we?n.H.M(r.id,st.yb):n.H.M(r.id,st.ie):!1===navigator.onLine&&r.type===tr.Xc&&e.imageUrl?(t.info("Not showing "+r.type+" trigger action "+r.id+" due to offline state."),n.H.M(r.id,st.Vf)):(null==r.Ca||r.Rb!==te&&o-r.Ca>=1e3*r.Rb)&&oa(n,r,o,f)?(nt(n.ha,[e]),ir(n),r.Ca=o,n.Ba=o,v(n.b,i.ad,o),n.Y[r.id]=o,v(n.b,i.fc,n.Y)):t.info("Not displaying trigger "+r.id+" because display time fell outside of the acceptable time window.")}switch(r.type){case tr.Xc:var s=ro(r.data);if(null==s){t.error("Could not parse trigger data for trigger "+r.id+", ignoring.");n.H.M(r.id,st.Ab);break}c(s);break;case tr.we:if(s=op(r.data,c,h,u,r.Oa),null==s){t.error("Could not parse trigger data for trigger "+r.id+", ignoring.");n.H.M(r.id,st.Ab);break}pl(n.H,s,f,e);break;default:t.error("Trigger "+r.id+" was of unexpected type "+r.type+", ignoring.");n.H.M(r.id,st.Ab)}}function oa(n,i,r,u){return null==n.Ba?!0:u===it.V?(t.info("Ignoring minimum interval between trigger because it is a test type."),!0):(i=i.kf,null==i&&(i=n.Ig),r-n.Ba>=1e3*i)}function sa(n,t,r,u,f,e){var o,s;for(ir(n),n.L[t.id]=n.L[t.id]||[],o={},o.Ec=r,o.wf=u,null!=f&&(s=f.A()),o.yd=s,r=[],u=0;u<e.length;u++)r.push(e[u].id);o.Dd=r;n.L[t.id].push(o);v(n.b,i.zb,n.L)}var gr={},r,aa="function"==typeof Object.create?Object.create:function(n){function t(){}return t.prototype=n,new t},va="function"==typeof Object.defineProperties?Object.defineProperty:function(n,t,i){return n==Array.prototype||n==Object.prototype?n:(n[t]=i.value,n)},nu=ya(this),ae,ve,rh,ye,pe,uh,ai,et,ph,yt,ot,i,at,so,ho,hu,lo,it,te,tr,oe,gs,dr,nh,th,yu,oi,li;if("function"==typeof Object.setPrototypeOf)ae=Object.setPrototypeOf;else{n:{rh={Og:!0};ye={};try{ye.__proto__=rh;ve=ye.Og;break n}catch(hp){}ve=!1}ae=ve?function(n,t){if(n.__proto__=t,n.__proto__!==t)throw new TypeError(n+" is not extensible");return n}:null}pe=ae;ih("String.prototype.repeat",function(n){return n?n:function(n){var t,i;if(null==this)throw new TypeError("The 'this' value for String.prototype.repeat must not be null or undefined");if(t=this+"",0>n||1342177279<n)throw new RangeError("Invalid count value");for(n|=0,i="";n;)(n&1&&(i+=t),n>>>=1)&&(t+=t);return i}});ih("Promise",function(n){function t(n){this.Ub=0;this.Rd=void 0;this.sb=[];var t=this.Ad();try{n(t.resolve,t.reject)}catch(i){t.reject(i)}}function i(){this.Ha=null}function r(n){return n instanceof t?n:new t(function(t){t(n)})}var f,u;return n?n:(i.prototype.Te=function(n){if(null==this.Ha){this.Ha=[];var t=this;this.Ue(function(){t.eh()})}this.Ha.push(n)},f=nu.setTimeout,i.prototype.Ue=function(n){f(n,0)},i.prototype.eh=function(){for(var t,n,i;this.Ha&&this.Ha.length;)for(t=this.Ha,this.Ha=[],n=0;n<t.length;++n){i=t[n];t[n]=null;try{i()}catch(r){this.Sg(r)}}this.Ha=null},i.prototype.Sg=function(n){this.Ue(function(){throw n;})},t.prototype.Ad=function(){function n(n){return function(r){t||(t=!0,n.call(i,r))}}var i=this,t=!1;return{resolve:n(this.uh),reject:n(this.Qd)}},t.prototype.uh=function(n){if(n===this)this.Qd(new TypeError("A Promise cannot resolve to itself"));else if(n instanceof t)this.Kh(n);else{n:switch(typeof n){case"object":var i=null!=n;break n;case"function":i=!0;break n;default:i=!1}i?this.sh(n):this.ef(n)}},t.prototype.sh=function(n){var t=void 0;try{t=n.then}catch(i){this.Qd(i);return}"function"==typeof t?this.Lh(t,n):this.ef(n)},t.prototype.Qd=function(n){this.qf(2,n)},t.prototype.ef=function(n){this.qf(1,n)},t.prototype.qf=function(n,t){if(0!=this.Ub)throw Error("Cannot settle("+n+", "+t+"): Promise already settled in state"+this.Ub);this.Ub=n;this.Rd=t;this.fh()},t.prototype.fh=function(){if(null!=this.sb){for(var n=0;n<this.sb.length;++n)u.Te(this.sb[n]);this.sb=null}},u=new i,t.prototype.Kh=function(n){var t=this.Ad();n.Cc(t.resolve,t.reject)},t.prototype.Lh=function(n,t){var i=this.Ad();try{n.call(t,i.resolve,i.reject)}catch(r){i.reject(r)}},t.prototype.then=function(n,i){function f(n,t){return"function"==typeof n?function(t){try{r(n(t))}catch(i){u(i)}}:t}var r,u,e=new t(function(n,t){r=n;u=t});return this.Cc(f(n,r),f(i,u)),e},t.prototype.catch=function(n){return this.then(void 0,n)},t.prototype.Cc=function(n,t){function r(){switch(i.Ub){case 1:n(i.Rd);break;case 2:t(i.Rd);break;default:throw Error("Unexpected state: "+i.Ub);}}var i=this;null==this.sb?u.Te(r):this.sb.push(r)},t.resolve=r,t.reject=function(n){return new t(function(t,i){i(n)})},t.race=function(n){return new t(function(t,i){for(var f=rt(n),u=f.next();!u.done;u=f.next())r(u.value).Cc(t,i)})},t.all=function(n){var u=rt(n),i=u.next();return i.done?r([]):new t(function(n,t){function o(t){return function(i){f[t]=i;e--;0==e&&n(f)}}var f=[],e=0;do f.push(void 0),e++,r(i.value).Cc(o(f.length-1),t),i=u.next();while(!i.done)})},t)});uh={Vh:function(n){var i="=".repeat((4-n.length%4)%4),t;for(n=(n+i).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(n),i=new Uint8Array(n.length),t=0;t<n.length;++t)i[t]=n.charCodeAt(t);return i}};ai={Ia:function(){function n(n){var t=(Math.random().toString(16)+"000000000").substr(2,8);return n?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return n()+n(!0)+n(!0)+n()}};ct.prototype.setItem=function(n,t,i,r,u){if(!rr(this))return"function"==typeof u&&u(),!1;var f=this;return ur(this,function(e){e.objectStoreNames.contains(n)?(e=e.transaction([n],"readwrite").objectStore(n).put(i,t),e.onerror=function(){f.F.error("Could not store object "+t+" in "+n+" on indexedDB "+f.C.P);"function"==typeof u&&u()},e.onsuccess=function(){"function"==typeof r&&r()}):(f.F.error("Could not store object "+t+" in "+n+" on indexedDB "+f.C.P+" - "+n+" is not a valid objectStore"),"function"==typeof u&&u())},u)};ct.prototype.getItem=function(n,t,i){if(!rr(this))return!1;var r=this;return ur(this,function(u){u.objectStoreNames.contains(n)?(u=u.transaction([n],"readonly").objectStore(n).get(t),u.onerror=function(){r.F.error("Could not retrieve object "+t+" in "+n+" on indexedDB "+r.C.P)},u.onsuccess=function(n){n=n.target.result;null!=n&&i(n)}):r.F.error("Could not retrieve object "+t+" in "+n+" on indexedDB "+r.C.P+" - "+n+" is not a valid objectStore")})};ct.prototype.clearData=function(){var n,i,t;if(!rr(this))return!1;n=[];for(i in this.C.G)this.C.G.hasOwnProperty(i)&&this.C.G[i]!==this.C.G.xb&&n.push(this.C.G[i]);return t=this,ur(this,function(i){i=i.transaction(n,"readwrite");for(var r=0;r<n.length;r++)i.objectStore(n[r]).clear().onerror=function(){t.F.error("Could not clear "+this.source.name+" on indexedDB "+t.C.P)};i.onerror=function(){t.F.error("Could not clear object stores on indexedDB "+t.C.P)}})};var k={Gd:function(n){(void 0!==n||void 0===k.Ea)&&(k.Ea=!!n);k.He||(k.He=!0)},Jb:function(){k.He=!1;k.Ea=void 0;k.F=void 0},Td:function(n){"function"!=typeof n?k.info("Ignoring setLogger call since logger is not a function"):(k.Gd(),k.F=n)},Yd:function(){k.Gd();k.Ea?(console.log("Disabling Appboy logging"),k.Ea=!1):(console.log("Enabled Appboy logging"),k.Ea=!0)},info:function(n){k.Ea&&(n="Appboy: "+n,null!=k.F?k.F(n):console.log(n))},warn:function(n){k.Ea&&(n="Appboy SDK Warning: "+n+" (v3.5.0)",null!=k.F?k.F(n):console.warn(n))},error:function(n){k.Ea&&(n="Appboy SDK Error: "+n+" (v3.5.0)",null!=k.F?k.F(n):console.error(n))}},a={CustomEvent:"ce",eg:"p",sg:"pc",$h:"ca",fg:"i",Yc:"ie",Jf:"cci",Lf:"ccic",Hf:"ccc",If:"ccd",ve:"ss",yg:"se",dg:"si",ke:"sc",je:"sbc",cg:"sfe",Mf:"iec",lg:"lr",Df:"uae",Gf:"ci",Ff:"cc",jg:"lcaa",kg:"lcar",Of:"inc",Nf:"add",Pf:"rem",Qf:"set",zg:"sgu"},oh={$f:"feed_displayed",Kf:"content_cards_displayed"},wt={ba:{P:"AppboyServiceWorkerAsyncStorage",VERSION:6,G:{Rf:"data",oe:"pushClicks",gd:"pushSubscribed",Yh:"fallbackDevice",Ef:"cardUpdates",xb:"optOut",me:"pendingData",qe:"sdkAuthenticationSignature"},kb:1}},t=k,c={Af:"allowCrawlerActivity",Rc:"baseUrl",ng:"noCookies",ee:"devicePropertyAllowlist",Vc:"devicePropertyWhitelist",Wf:"disablePushTokenMaintenance",Yf:"enableLogging",Zf:"enableSdkAuthentication",mg:"manageServiceWorkerExternally",ag:"minimumIntervalBetweenTriggerActionsInSeconds",xg:"sessionTimeoutInSeconds",Cf:"appVersion",wg:"serviceWorkerLocation",ug:"safariWebsitePushId",cd:"localization",be:"contentSecurityNonce",fe:"enableHtmlInAppMessages",Zd:"allowUserSuppliedJavascript",bg:"inAppMessageZIndex",pg:"openInAppMessagesInNewTab",qg:"openNewsFeedCardsInNewTab",tg:"requireExplicitInAppMessageDismissal",Xf:"doNotLoadFontAwesome",re:"sdkFlavor",$c:"language",og:"openCardsInNewTab"};y.prototype.Ac=function(){var n={name:this.type,time:tu(this.time),data:this.data||{},session_id:this.sessionId};return null!=this.gb&&(n.user_id=this.gb),n};y.prototype.A=function(){return{u:this.gb,t:this.type,ts:this.time,s:this.sessionId,d:this.data}};fr.prototype.A=function(){return{g:this.ia,e:this.Cd,c:this.Ib,l:this.Ob}};var wa=/^[^\x00-\x1F\x22]+$/,ba=new RegExp(/^.+@.+\..+$/),ka=51200,da="50KB",f={};r=w.prototype;r.o=function(n){null==n&&t.error("getUserId must be supplied with a callback. e.g., appboy.getUser().getUserId(function(userId) {console.log('the user id is ' + userId)})");"function"==typeof n&&n(this.f.o())};r.Pg=function(n,i){if(!dt(n,"add alias","the alias",!1)||0>=n.length)return t.error("addAlias requires a non-empty alias"),!1;if(!dt(i,"add alias","the label",!1)||0>=i.length)return t.error("addAlias requires a non-empty label"),!1;var u=this.H,r=new vt,f=tt(u.D),e=a.Df;return r.j.push(new y(u.f.o(),e,(new Date).valueOf(),f,{a:n,l:i})),r.h=d(u.b,r.j),r.h};r.Eh=function(n){return dt(n,"set first name","the firstName",!0)?g(this.f,"first_name",n):!1};r.Ih=function(n){return dt(n,"set last name","the lastName",!0)?g(this.f,"last_name",n):!1};r.Ch=function(n){return null===n||"string"==typeof n&&null!=n.toLowerCase().match(ba)?g(this.f,"email",n):(t.error('Cannot set email address - "'+n+'" did not pass RFC-5322 validation.'),!1)};r.Fh=function(n){return"string"==typeof n&&(n=n.toLowerCase()),null===n||ti(ah,n,'Gender "'+n+'" is not a valid gender.',"User.Genders")?g(this.f,"gender",n):!1};r.Bh=function(n,i,r){return null===n&&null===i&&null===r?g(this.f,"dob",null):(n=parseInt(n),i=parseInt(i),r=parseInt(r),isNaN(n)||isNaN(i)||isNaN(r)||12<i||1>i||31<r||1>r?(t.error("Cannot set date of birth - parameters should comprise a valid date e.g. setDateOfBirth(1776, 7, 4);"),!1):g(this.f,"dob",""+n+"-"+i+"-"+r))};r.yh=function(n){return dt(n,"set country","the country",!0)?g(this.f,"country",n):!1};r.Gh=function(n){return dt(n,"set home city","the homeCity",!0)?g(this.f,"home_city",n):!1};r.Hh=function(n){return dt(n,"set language","the language",!0)?g(this.f,"language",n):!1};r.Dh=function(n){return ti(de,n,'Email notification setting "'+n+'" is not a valid subscription type.',"User.NotificationSubscriptionTypes")?g(this.f,"email_subscribe",n):!1};r.Ud=function(n){return ti(de,n,'Push notification setting "'+n+'" is not a valid subscription type.',"User.NotificationSubscriptionTypes")?g(this.f,"push_subscribe",n):!1};r.Jh=function(n){return dt(n,"set phone number","the phoneNumber",!0)?null===n||n.match(ga)?g(this.f,"phone",n):(t.error('Cannot set phone number - "'+n+'" did not pass validation.'),!1):!1};r.xh=function(n){return g(this.f,"image_url",n)};r.Oc=function(n,i,r,u,f){return null==n||null==i?(t.error("Cannot set last-known location - latitude and longitude are required."),!1):(n=parseFloat(n),i=parseFloat(i),null!=r&&(r=parseFloat(r)),null!=u&&(u=parseFloat(u)),null!=f&&(f=parseFloat(f)),isNaN(n)||isNaN(i)||null!=r&&isNaN(r)||null!=u&&isNaN(u)||null!=f&&isNaN(f)?(t.error("Cannot set last-known location - all supplied parameters must be numeric."),!1):90<n||-90>n||180<i||-180>i?(t.error("Cannot set last-known location - latitude and longitude are bounded by ±90 and ±180 respectively."),!1):null!=r&&0>r||null!=f&&0>f?(t.error("Cannot set last-known location - accuracy and altitudeAccuracy may not be negative."),!1):this.H.Oc(this.f.o(),n,i,u,r,f).h)};r.Sd=function(n,t){if(!gt(n,"set custom user attribute","the given key"))return!1;var i=typeof t,r=ii(t),u=ft(t);if("number"!==i&&"boolean"!==i&&!r&&!u&&null!==t&&!gt(t,'set custom user attribute "'+n+'"',"the given value"))return!1;if(r&&(t=bu(t)),u){for(i=0;i<t.length;i++)if(!gt(t[i],'set custom user attribute "'+n+'"',"the element in the given array"))return!1;return ee(this.H,a.Qf,n,t).h}return this.f.Sd(n,t)};r.Qg=function(n,t){return!gt(n,"add to custom user attribute array","the given key")||null!=t&&!gt(t,"add to custom user attribute array","the given value")?!1:ee(this.H,a.Nf,n,t).h};r.qh=function(n,t){return!gt(n,"remove from custom user attribute array","the given key")||null!=t&&!gt(t,"remove from custom user attribute array","the given value")?!1:ee(this.H,a.Pf,n,t).h};r.kh=function(n,i){if(!gt(n,"increment custom user attribute","the given key"))return!1;null==i&&(i=1);var r=parseInt(i);return isNaN(r)||r!==parseFloat(i)?(t.error('Cannot increment custom user attribute because the given incrementValue "'+i+'" is not an integer.'),!1):ee(this.H,a.Of,n,r).h};r.Pd=function(n,t,i,r,u){this.f.Pd(n,t,i,r,u);kl(this.H)};r.Sb=function(n){this.f.Sb(n)};r.Ah=function(n,i,r){var u,f,o,e;return gt(n,"set custom location attribute","the given key")?(null!==i||null!==r)&&(i=parseFloat(i),r=parseFloat(r),isNaN(i)||90<i||-90>i||isNaN(r)||180<r||-180>r)?(t.error("Received invalid values for latitude and/or longitude. Latitude and longitude are bounded by ±90 and ±180 respectively, or must both be null for removal."),!1):(u=this.H,f=r,r=new vt,ys(u.J,n)?(t.info('Custom Attribute "'+n+'" is blocklisted, ignoring.'),r.h=!1):(o=tt(u.D),null===i&&null===f?(e=a.kg,n={key:n}):(e=a.jg,n={key:n,latitude:i,longitude:f}),r.j.push(new y(u.f.o(),e,(new Date).valueOf(),o,n)),r.h=d(u.b,r.j)),r.h):!1};r.Rg=function(n){return!dt(n,"add user to subscription group","subscription group ID",!1)||0>=n.length?(t.error("addToSubscriptionGroup requires a non-empty subscription group ID"),!1):dl(this.H,n,nv).h};r.rh=function(n){return!dt(n,"remove user from subscription group","subscription group ID",!1)||0>=n.length?(t.error("removeFromSubscriptionGroup requires a non-empty subscription group ID"),!1):dl(this.H,n,tv).h};var ga=/^[0-9 .\\(\\)\\+\\-]+$/,ah={MALE:"m",FEMALE:"f",OTHER:"o",UNKNOWN:"u",NOT_APPLICABLE:"n",PREFER_NOT_TO_SAY:"p"},de={OPTED_IN:"opted_in",SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed"},nv="subscribed",tv="unsubscribed";f.User=w;f.User.Genders=ah;f.User.NotificationSubscriptionTypes=de;f.User.prototype.getUserId=w.prototype.o;f.User.prototype.setFirstName=w.prototype.Eh;f.User.prototype.setLastName=w.prototype.Ih;f.User.prototype.setEmail=w.prototype.Ch;f.User.prototype.setGender=w.prototype.Fh;f.User.prototype.setDateOfBirth=w.prototype.Bh;f.User.prototype.setCountry=w.prototype.yh;f.User.prototype.setHomeCity=w.prototype.Gh;f.User.prototype.setLanguage=w.prototype.Hh;f.User.prototype.setEmailNotificationSubscriptionType=w.prototype.Dh;f.User.prototype.setPushNotificationSubscriptionType=w.prototype.Ud;f.User.prototype.setPhoneNumber=w.prototype.Jh;f.User.prototype.setAvatarImageUrl=w.prototype.xh;f.User.prototype.setLastKnownLocation=w.prototype.Oc;f.User.prototype.setCustomUserAttribute=w.prototype.Sd;f.User.prototype.addToCustomAttributeArray=w.prototype.Qg;f.User.prototype.removeFromCustomAttributeArray=w.prototype.qh;f.User.prototype.incrementCustomUserAttribute=w.prototype.kh;f.User.prototype.addAlias=w.prototype.Pg;f.User.prototype.setCustomLocationAttribute=w.prototype.Ah;f.User.prototype.addToSubscriptionGroup=w.prototype.Rg;f.User.prototype.removeFromSubscriptionGroup=w.prototype.rh;iu.prototype.Ed=function(){};iu.prototype.Fd=function(){};iu.prototype.qb=function(){};et={ae:"Chrome",Wc:"Edge",dc:"Internet Explorer",le:"Opera",hd:"Safari",Zh:"Firefox"};pt(ru,iu);ru.prototype.Ed=function(){return this.Ya};ru.prototype.Fd=function(){return this.version};ru.prototype.qb=function(n){var t=this;return this.ga?Promise.resolve(this.ga):(this.userAgentData.getHighEntropyValues?this.userAgentData.getHighEntropyValues(["platform"]):Promise.reject()).then(function(i){var r,u;for(i=i.platform,r=0;r<n.length;r++)if(u=vh(i,n[r]),u)return t.ga=u,t.ga;return i}).catch(function(){return navigator.platform})};pt(uu,iu);uu.prototype.Ed=function(){return this.We[0]||"Unknown Browser"};uu.prototype.Fd=function(){return this.We[1]||"Unknown Version"};uu.prototype.qb=function(n){for(var i,t=0;t<n.length;t++)if(i=vh(n[t].U,n[t]),i)return"Mac"===i&&1<navigator.maxTouchPoints&&(i="iOS"),Promise.resolve(i);return Promise.resolve(navigator.platform)};yh.prototype.qb=function(){var n=this;return this.ga?Promise.resolve(this.ga):this.Md.qb(ph).then(function(t){return n.ga=t})};ph=[{U:navigator.platform,O:"Win",S:"Windows"},{U:navigator.platform,O:"Mac",S:"Mac"},{U:navigator.platform,O:"BlackBerry",S:"BlackBerry"},{U:navigator.platform,O:"FreeBSD",S:"FreeBSD"},{U:navigator.platform,O:"OpenBSD",S:"OpenBSD"},{U:navigator.platform,O:"Nintendo",S:"Nintendo"},{U:navigator.platform,O:"SunOS",S:"SunOS"},{U:navigator.platform,O:"PlayStation",S:"PlayStation"},{U:navigator.platform,O:"X11",S:"X11"},{U:navigator.userAgent,O:["iPhone","iPad","iPod"],S:"iOS"},{U:navigator.platform,O:"Pike v",S:"iOS"},{U:navigator.userAgent,O:["Web0S"],S:"WebOS"},{U:navigator.platform,O:["Linux armv7l","Android"],S:"Android"},{U:navigator.userAgent,O:["Android"],S:"Android"},{U:navigator.platform,O:"Linux",S:"Linux"}];yt=new yh;wh.prototype.clearData=function(){for(var n=ki(ot),r=ki(i),t=0;t<n.length;t++)this.rc.remove(ot[n[t]]);for(n=0;n<r.length;n++)this.R.remove(i[r[n]])};ot={lc:"ab.storage.userId",Uc:"ab.storage.deviceId",Ta:"ab.storage.sessionId"};i={jd:"ab.test",Wb:"ab.storage.events",Qa:"ab.storage.attributes",Qc:"ab.storage.attributes.anonymous_user",cc:"ab.storage.device",se:"ab.storage.sdk_metadata",ue:"ab.storage.session_id_for_cached_metadata",kc:"ab.storage.pushToken",dd:"ab.storage.newsFeed",bd:"ab.storage.lastNewsFeedRefresh",vb:"ab.storage.cardImpressions",te:"ab.storage.serverConfig",kd:"ab.storage.triggers",md:"ab.storage.triggers.ts",hg:"ab.storage.lastTriggeredTime",gg:"ab.storage.lastTriggeredTimesById",ig:"ab.storage.lastTriggerEventDataById",hc:"ab.storage.messagingSessionStart",wb:"ab.storage.cc",ac:"ab.storage.ccLastFullSync",$b:"ab.storage.ccLastCardUpdated",hb:"ab.storage.ccClicks",ib:"ab.storage.ccImpressions",ua:"ab.storage.ccDismissals",fc:"ab.storage.lastDisplayedTriggerTimesById",ad:"ab.storage.lastDisplayedTriggerTime",zb:"ab.storage.triggerFireInstancesById",jb:"ab.storage.signature"};or.prototype.Xa=function(n){return n+"."+this.$};or.prototype.store=function(n,i){i={v:i};try{return localStorage.setItem(this.Xa(n),JSON.stringify(i)),!0}catch(r){return t.info("Storage failure: "+r.message),!1}};or.prototype.Z=function(n){try{var i=JSON.parse(localStorage.getItem(this.Xa(n)));return null==i?null:i.v}catch(r){return t.info("Storage retrieval failure: "+r.message),null}};or.prototype.remove=function(n){try{localStorage.removeItem(this.Xa(n))}catch(i){return t.info("Storage removal failure: "+i.message),!1}};ui.prototype.Xa=function(n){return null!=this.$?n+"."+this.$:n};ui.prototype.store=function(n,i){for(var r,s,e,u=wu(ot),f=document.cookie.split(";"),o=0;o<f.length;o++){for(r=f[o];" "===r.charAt(0);)r=r.substring(1);for(s=!1,e=0;e<u.length;e++)if(0===r.indexOf(u[e])){s=!0;break}s&&(r=r.split("=")[0],-1===r.indexOf("."+this.$)&&nc(this,r))}return(u=new Date,u.setTime(u.getTime()+6e4*this.Ee),u="expires="+u.toUTCString(),f="domain="+this.Me,i=this.Qe?i:encodeURIComponent(JSON.stringify(i)),n=this.Xa(n)+"="+i+";"+u+";"+f+";path=/",4093<=n.length)?(t.info("Storage failure: string is "+n.length+" chars which is too large to store as a cookie."),!1):(document.cookie=n,!0)};ui.prototype.Z=function(n){for(var i,e,r=[],u=this.Xa(n)+"=",o=document.cookie.split(";"),f=0;f<o.length;f++){for(i=o[f];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(u))try{e=void 0;e=this.Qe?i.substring(u.length,i.length):JSON.parse(decodeURIComponent(i.substring(u.length,i.length)));r.push(e)}catch(s){return t.info("Storage retrieval failure: "+s.message),this.remove(n),null}}return 0<r.length?r[r.length-1]:null};ui.prototype.remove=function(n){nc(this,this.Xa(n))};fu.prototype.store=function(n,i){var o={value:i},u=[],f,r,e;for(i=[i],f=0;i.length;)if(r=i.pop(),"boolean"==typeof r)f+=4;else if("string"==typeof r)f+=2*r.length;else if("number"==typeof r)f+=8;else if("object"==typeof r&&-1===u.indexOf(r)){u.push(r);for(e in r)i.push(r[e])}return(u=f,u>this.Ke)?(t.info("Storage failure: object is ≈"+u+" bytes which is greater than the max of "+this.Ke),!1):(this.ud[n]=o,!0)};fu.prototype.Z=function(n){return n=this.ud[n],null==n?null:n.value};fu.prototype.remove=function(n){this.ud[n]=null};du.prototype.store=function(n,t){for(var i=!0,r=0;r<this.ma.length;r++)i=this.ma[r].store(n,t)&&i;return i};du.prototype.Z=function(n){for(var i,t=0;t<this.ma.length;t++)if(i=this.ma[t].Z(n),null!=i)return i;return null};du.prototype.remove=function(n){for(var t=0;t<this.ma.length;t++)this.ma[t].remove(n)};bt.prototype.N=function(n){delete this.Fb[n]};bt.prototype.K=function(){this.Fb={}};var gu=null,uc="up",fc="down",to="left",io="right";at={nh:function(){return 600>=screen.width},hh:function(){if("orientation"in window)return 90===Math.abs(window.orientation)||270===window.orientation?at.Sa.Zc:at.Sa.jc;if("screen"in window){var n=window.screen.orientation||screen.ci||screen.ei;if(null!=n&&"object"==typeof n&&(n=n.type),"landscape-primary"===n||"landscape-secondary"===n)return at.Sa.Zc}return at.Sa.jc},oh:function(n,t,i){i||null!=t&&t.metaKey?window.open(n):window.location=n},Sa:{jc:0,Zc:1}};f.WindowUtils=at;f.WindowUtils.openUri=at.oh;r=ut.prototype;r.Vb=function(n){return lt(nf(this),n)};r.Wd=function(n){return lt(tf(this),n)};r.N=function(n){nf(this).N(n);tf(this).N(n)};r.K=function(){nf(this).K();tf(this).K()};r.Od=function(){this.viewed=!0};r.fb=function(){this.clicked=this.viewed=!0;nt(nf(this))};r.Nd=function(){return this.dismissible&&!this.dismissed?(this.dismissed=!0,nt(tf(this)),!0):!1};r.aa=function(n,t,i){function h(t){return hc(f),o&&(n(c),at.openUri(c.url,t,i)),!1}var c=this,f=document.createElement("div"),o,u,r,s,e;return f.className="ab-card ab-effect-card "+this.Dc,f.setAttribute("data-ab-card-id",this.id),f.setAttribute("role","article"),f.setAttribute("tabindex","0"),o=this.url&&""!==this.url,this.pinned&&(u=document.createElement("div"),u.className="ab-pinned-indicator",r=document.createElement("i"),r.className="fa fa-star",u.appendChild(r),f.appendChild(u)),this.imageUrl&&""!==this.imageUrl&&(u=document.createElement("div"),u.className="ab-image-area",r=document.createElement("img"),r.setAttribute("src",this.imageUrl),this.xc(r),u.appendChild(r),f.className+=" with-image",o&&!this.Gc?(r=document.createElement("a"),r.setAttribute("href",this.url),r.onclick=h,r.appendChild(u),f.appendChild(r)):f.appendChild(u)),u=document.createElement("div"),u.className="ab-card-body",this.dismissible&&(this.Je=t,s=ec("Dismiss Card",void 0,this.bf.bind(this)),f.appendChild(s),ou(u,to,function(n){f.className+=" ab-swiped-left";s.onclick(n)}),ou(u,io,function(n){f.className+=" ab-swiped-right";s.onclick(n)})),(t=this.title&&""!==this.title)&&(r=document.createElement("h1"),r.className="ab-title",r.id=ai.Ia(),f.setAttribute("aria-labelledby",r.id),o?(e=document.createElement("a"),e.setAttribute("href",this.url),e.onclick=h,e.appendChild(document.createTextNode(this.title)),r.appendChild(e)):r.appendChild(document.createTextNode(this.title)),u.appendChild(r)),r=document.createElement("div"),r.className=t?"ab-description":"ab-description ab-no-title",r.id=ai.Ia(),f.setAttribute("aria-describedby",r.id),r.appendChild(document.createTextNode(this.description)),o&&(t=document.createElement("div"),t.className="ab-url-area",e=document.createElement("a"),e.setAttribute("href",this.url),e.appendChild(document.createTextNode(this.linkText)),e.onclick=h,t.appendChild(e),r.appendChild(t)),u.appendChild(r),f.appendChild(u),u=document.createElement("div"),u.className="ab-unread-indicator",this.viewed&&(u.className+=" read"),f.appendChild(u),this.Gg=f};r.xc=function(n){var t="";this.title||this.description||(t="Feed Image");n.setAttribute("alt",t)};r.bf=function(){if(this.dismissible&&!this.dismissed){this.Je&&this.Je(this);var n=this.Gg;n&&(n.style.height=n.offsetHeight+"px",n.className+=" ab-hide",setTimeout(function(){n&&n.parentNode&&(n.style.height="0",n.style.margin="0",setTimeout(function(){n&&n.parentNode&&n.parentNode.removeChild(n)},fv))},il))}};var cc=-1,ht={Yb:"captioned_image",xe:"text_announcement",ic:"short_news",Xb:"banner_image",Sc:"control"},e={wa:"id",za:"v",va:"db",pe:"r",ea:"ca",la:"p",ca:"ea",ka:"e",TYPE:"tp",xa:"i",Ua:"tt",Ra:"ds",URL:"u",ya:"dm",sa:"ar",ta:"cl",V:"t"},u={wa:"id",za:"v",va:"db",bc:"cr",ea:"ca",la:"p",Zb:"t",ca:"ea",ka:"e",TYPE:"tp",xa:"i",Ua:"tt",Ra:"ds",URL:"u",ya:"dm",sa:"ar",ta:"cl",V:"s"},fv=400;f.Card=ut;f.Card.fromContentCardsJson=rf;f.Card.prototype.dismissCard=ut.prototype.bf;f.Card.prototype.subscribeToClickedEvent=ut.prototype.Vb;f.Card.prototype.subscribeToDismissedEvent=ut.prototype.Wd;f.Card.prototype.removeSubscription=ut.prototype.N;f.Card.prototype.removeAllSubscriptions=ut.prototype.K;pt(sr,ut);sr.prototype.A=function(){var n={};return n[u.TYPE]=ht.Xb,n[u.wa]=this.id,n[u.za]=this.viewed,n[u.xa]=this.imageUrl,n[u.ea]=this.updated,n[u.bc]=this.created,n[u.Zb]=this.categories,n[u.ca]=this.expiresAt,n[u.URL]=this.url,n[u.ya]=this.linkText,n[u.sa]=this.aspectRatio,n[u.ka]=this.extras,n[u.la]=this.pinned,n[u.va]=this.dismissible,n[u.ta]=this.clicked,n[u.V]=this.test,n};f.Banner=sr;pt(hr,ut);hr.prototype.A=function(){var n={};return n[u.TYPE]=ht.Yb,n[u.wa]=this.id,n[u.za]=this.viewed,n[u.Ua]=this.title,n[u.xa]=this.imageUrl,n[u.Ra]=this.description,n[u.ea]=this.updated,n[u.bc]=this.created,n[u.Zb]=this.categories,n[u.ca]=this.expiresAt,n[u.URL]=this.url,n[u.ya]=this.linkText,n[u.sa]=this.aspectRatio,n[u.ka]=this.extras,n[u.la]=this.pinned,n[u.va]=this.dismissible,n[u.ta]=this.clicked,n[u.V]=this.test,n};f.CaptionedImage=hr;pt(cr,ut);cr.prototype.A=function(){var n={};return n[u.TYPE]=ht.ic,n[u.wa]=this.id,n[u.za]=this.viewed,n[u.Ua]=this.title,n[u.xa]=this.imageUrl,n[u.Ra]=this.description,n[u.ea]=this.updated,n[u.bc]=this.created,n[u.Zb]=this.categories,n[u.ca]=this.expiresAt,n[u.URL]=this.url,n[u.ya]=this.linkText,n[u.sa]=this.aspectRatio,n[u.ka]=this.extras,n[u.la]=this.pinned,n[u.va]=this.dismissible,n[u.ta]=this.clicked,n[u.V]=this.test,n};f.ClassicCard=cr;pt(wi,ut);wi.prototype.A=function(){var n={};return n[u.TYPE]=ht.Sc,n[u.wa]=this.id,n[u.za]=this.viewed,n[u.ea]=this.updated,n[u.ca]=this.expiresAt,n[u.ka]=this.extras,n[u.la]=this.pinned,n[u.V]=this.test,n};f.ControlCard=wi;r=p.prototype;r.Ja=function(){return!0};r.xf=function(){return this.Ja()};r.Vb=function(n){return lt(this.X,n)};r.Wd=function(n){return lt(this.nc,n)};r.N=function(n){this.X.N(n);this.nc.N(n)};r.K=function(){this.X.K();this.nc.K()};r.Od=function(){return this.Ge?!1:this.Ge=!0};r.fb=function(){return this.Wa?!1:(this.Wa=!0,nt(this.X),!0)};r.Nd=function(){return this.Fe?!1:(this.Fe=!0,nt(this.nc),!0)};r.Ye=function(){vi(this,this.sc)};r.aa=function(n,t,i,r,u){function l(){-1!==f.className.indexOf("ab-start-hidden")&&(f.className=f.className.replace("ab-start-hidden",""),i(f))}var s=this,f=document.createElement("div"),h,o,e,c;return f.className="ab-in-app-message ab-start-hidden ab-background",u&&(f.style.zIndex=u+1),this.Ja()&&(f.className+=" ab-modal-interactions",f.setAttribute("tabindex","-1")),si(this)||(f.style.color=fi(this.textColor),f.style.backgroundColor=fi(this.backgroundColor),ev(this.backgroundColor)&&(f.className+=" ab-no-shadow")),this.imageStyle===pc&&(f.className+=" graphic"),this.orientation===hf&&(f.className+=" landscape"),0===this.buttons.length&&(this.clickAction!==ef&&(f.className+=" ab-clickable"),f.onclick=function(i){return vi(s,f,function(){n.Jc(s);s.clickAction===su?at.openUri(s.uri,i,r||s.openTarget===sf):s.clickAction===uo&&t()}),i.stopPropagation(),!1}),h=ec("Close Message",si(this)?void 0:fi(this.closeButtonColor),function(){vi(s,f)}),f.appendChild(h),u&&(h.style.zIndex=u+2),u=document.createElement("div"),u.className="ab-message-text",u.className+=" "+(this.messageAlignment||this.Bd).toLowerCase()+"-aligned",h=!1,o=document.createElement("div"),o.className="ab-image-area",this.imageUrl?(this.cropType===eo?(e=document.createElement("span"),e.className="ab-center-cropped-img",e.style.backgroundImage="url("+this.imageUrl+")",e.setAttribute("role","img"),e.setAttribute("aria-label","Modal Image"),this.xc(e),o.appendChild(e)):(e=document.createElement("img"),e.setAttribute("src",this.imageUrl),this.xc(e),h=!0,e.onload=l,setTimeout(l,1e3),o.appendChild(e)),f.appendChild(o),u.className+=" ab-with-image"):this.icon&&(o.className+=" ab-icon-area",e=document.createElement("span"),e.className="ab-icon",si(this)||(e.style.backgroundColor=fi(this.iconBackgroundColor),e.style.color=fi(this.iconColor)),c=document.createElement("i"),c.className="fa",c.appendChild(document.createTextNode(this.icon)),c.setAttribute("aria-hidden",!0),e.appendChild(c),o.appendChild(e),f.appendChild(o),u.className+=" ab-with-icon"),eu(u,"touchstart",function(){}),this.header&&0<this.header.length&&(o=document.createElement("h1"),o.className="ab-message-header",this.qd=ai.Ia(),o.id=this.qd,o.className+=" "+(this.headerAlignment||lr).toLowerCase()+"-aligned",si(this)||(o.style.color=fi(this.headerTextColor)),o.appendChild(document.createTextNode(this.header)),u.appendChild(o)),u.appendChild(this.Xe()),f.appendChild(u),h||l(),this.sc=f};r.Xe=function(){return document.createTextNode(this.message)};r.xc=function(n){var t="";this.message||this.header||!this.Ja()||(t="Modal Image");n.setAttribute("alt",t)};r.Kc=function(n){this.Ja()&&null!=n.parentNode&&this.orientation!==hf&&(null!=n.parentNode.classList&&n.parentNode.classList.add(cf),document.body.addEventListener("touchmove",lc,tc()?{passive:!1}:!1));n.className+=" "+kc};r.oa=function(){var n="";return this.animateIn&&(n+=" ab-animate-in"),this.animateOut&&(n+=" ab-animate-out"),n};var ei={ce:4281545523,nd:4294967295,$d:4278219733,Tf:4293914607,Uf:4283782485,vg:3224580915,Sf:4288387995},st={ge:"hd",Bf:"ias",rg:"of",Vf:"do",Ab:"umt",yb:"tf",ie:"te"},ac="BOTTOM",sv={TOP:"TOP",BOTTOM:ac},uo="NEWS_FEED",su="URI",ef="NONE",hv={NEWS_FEED:uo,URI:su,NONE:ef},fo="AUTO_DISMISS",cv={AUTO_DISMISS:fo,MANUAL:"SWIPE"},vc="NONE",sf="BLANK",lv={NONE:vc,BLANK:sf},yc="TOP",pc="GRAPHIC",av={TOP:yc,GRAPHIC:pc},hf="LANDSCAPE",vv={PORTRAIT:"PORTRAIT",LANDSCAPE:hf},lr="CENTER",yv={START:"START",CENTER:lr,END:"END"},eo="CENTER_CROP",oo="FIT_CENTER",pv={CENTER_CROP:eo,FIT_CENTER:oo},wv="SLIDEUP",bv="MODAL",kv="MODAL_STYLED",dv="FULL",wc="WEB_HTML",bc="HTML",gv=500,kc="ab-show",ny="ab-hide",cf="ab-pause-scrolling";f.InAppMessage=p;f.InAppMessage.SlideFrom=sv;f.InAppMessage.ClickAction=hv;f.InAppMessage.DismissType=cv;f.InAppMessage.OpenTarget=lv;f.InAppMessage.ImageStyle=av;f.InAppMessage.TextAlignment=yv;f.InAppMessage.Orientation=vv;f.InAppMessage.CropType=pv;f.InAppMessage.fromJson=ro;f.InAppMessage.prototype.subscribeToClickedEvent=p.prototype.Vb;f.InAppMessage.prototype.subscribeToDismissedEvent=p.prototype.Wd;f.InAppMessage.prototype.removeSubscription=p.prototype.N;f.InAppMessage.prototype.removeAllSubscriptions=p.prototype.K;f.InAppMessage.prototype.closeMessage=p.prototype.Ye;hi.prototype.Vb=function(n){return lt(this.X,n)};hi.prototype.N=function(n){this.X.N(n)};hi.prototype.K=function(){this.X.K()};hi.prototype.fb=function(){return this.Wa?!1:(this.Wa=!0,nt(this.X),!0)};so=-1;f.InAppMessageButton=hi;f.InAppMessageButton.prototype.subscribeToClickedEvent=hi.prototype.Vb;f.InAppMessageButton.prototype.removeSubscription=hi.prototype.N;f.InAppMessageButton.prototype.removeAllSubscriptions=hi.prototype.K;f.ControlMessage=ar;pt(vr,p);vr.prototype.aa=function(n,t,i,r,u,f){return this.tc=document.activeElement,t=p.prototype.aa.call(this,n,i,r,u,f),t.className+=" ab-fullscreen ab-centered",nl(this,n,i,t,u),dc(t),gc(this.qd,t),t};vr.prototype.oa=function(){return p.prototype.oa.call(this)+" ab-effect-fullscreen"};nu.Object.defineProperties(vr.prototype,{Bd:{configurable:!0,enumerable:!0,get:function(){return lr}}});f.FullScreenMessage=vr;ho=new function(){this.$e=".ab-pause-scrolling,body.ab-pause-scrolling,html.ab-pause-scrolling{overflow:hidden;touch-action:none}.ab-centering-div,.ab-iam-root.v3{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:1050;-webkit-tap-highlight-color:transparent}.ab-centering-div:focus,.ab-iam-root.v3:focus{outline:0}.ab-centering-div.ab-effect-fullscreen,.ab-centering-div.ab-effect-html,.ab-centering-div.ab-effect-modal,.ab-iam-root.v3.ab-effect-fullscreen,.ab-iam-root.v3.ab-effect-html,.ab-iam-root.v3.ab-effect-modal{opacity:0}.ab-centering-div.ab-effect-fullscreen.ab-show,.ab-centering-div.ab-effect-html.ab-show,.ab-centering-div.ab-effect-modal.ab-show,.ab-iam-root.v3.ab-effect-fullscreen.ab-show,.ab-iam-root.v3.ab-effect-html.ab-show,.ab-iam-root.v3.ab-effect-modal.ab-show{opacity:1}.ab-centering-div.ab-effect-fullscreen.ab-show.ab-animate-in,.ab-centering-div.ab-effect-html.ab-show.ab-animate-in,.ab-centering-div.ab-effect-modal.ab-show.ab-animate-in,.ab-iam-root.v3.ab-effect-fullscreen.ab-show.ab-animate-in,.ab-iam-root.v3.ab-effect-html.ab-show.ab-animate-in,.ab-iam-root.v3.ab-effect-modal.ab-show.ab-animate-in{-webkit-transition:opacity .5s;-moz-transition:opacity .5s;-o-transition:opacity .5s;transition:opacity .5s}.ab-centering-div.ab-effect-fullscreen.ab-hide,.ab-centering-div.ab-effect-html.ab-hide,.ab-centering-div.ab-effect-modal.ab-hide,.ab-iam-root.v3.ab-effect-fullscreen.ab-hide,.ab-iam-root.v3.ab-effect-html.ab-hide,.ab-iam-root.v3.ab-effect-modal.ab-hide{opacity:0}.ab-centering-div.ab-effect-fullscreen.ab-hide.ab-animate-out,.ab-centering-div.ab-effect-html.ab-hide.ab-animate-out,.ab-centering-div.ab-effect-modal.ab-hide.ab-animate-out,.ab-iam-root.v3.ab-effect-fullscreen.ab-hide.ab-animate-out,.ab-iam-root.v3.ab-effect-html.ab-hide.ab-animate-out,.ab-iam-root.v3.ab-effect-modal.ab-hide.ab-animate-out{-webkit-transition:opacity .5s;-moz-transition:opacity .5s;-o-transition:opacity .5s;transition:opacity .5s}.ab-centering-div.ab-effect-slide .ab-in-app-message,.ab-iam-root.v3.ab-effect-slide .ab-in-app-message{-webkit-transform:translateX(535px);-moz-transform:translateX(535px);-ms-transform:translateX(535px);transform:translateX(535px)}.ab-centering-div.ab-effect-slide.ab-show .ab-in-app-message,.ab-iam-root.v3.ab-effect-slide.ab-show .ab-in-app-message{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}.ab-centering-div.ab-effect-slide.ab-show.ab-animate-in .ab-in-app-message,.ab-iam-root.v3.ab-effect-slide.ab-show.ab-animate-in .ab-in-app-message{-webkit-transition:transform .5s ease-in-out;-moz-transition:transform .5s ease-in-out;-o-transition:transform .5s ease-in-out;transition:transform .5s ease-in-out}.ab-centering-div.ab-effect-slide.ab-hide .ab-in-app-message,.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message{-webkit-transform:translateX(535px);-moz-transform:translateX(535px);-ms-transform:translateX(535px);transform:translateX(535px)}.ab-centering-div.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-left,.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-left{-webkit-transform:translateX(-535px);-moz-transform:translateX(-535px);-ms-transform:translateX(-535px);transform:translateX(-535px)}.ab-centering-div.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-up,.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-up{-webkit-transform:translateY(-535px);-moz-transform:translateY(-535px);-ms-transform:translateY(-535px);transform:translateY(-535px)}.ab-centering-div.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-down,.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-down{-webkit-transform:translateY(535px);-moz-transform:translateY(535px);-ms-transform:translateY(535px);transform:translateY(535px)}.ab-centering-div.ab-effect-slide.ab-hide.ab-animate-out .ab-in-app-message,.ab-iam-root.v3.ab-effect-slide.ab-hide.ab-animate-out .ab-in-app-message{-webkit-transition:transform .5s ease-in-out;-moz-transition:transform .5s ease-in-out;-o-transition:transform .5s ease-in-out;transition:transform .5s ease-in-out}.ab-centering-div .ab-ios-scroll-wrapper,.ab-iam-root.v3 .ab-ios-scroll-wrapper{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;pointer-events:all;touch-action:auto;-webkit-overflow-scrolling:touch}.ab-centering-div .ab-in-app-message,.ab-iam-root.v3 .ab-in-app-message{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:fixed;text-align:center;-webkit-box-shadow:0 0 4px rgba(0,0,0,.3);-moz-box-shadow:0 0 4px rgba(0,0,0,.3);box-shadow:0 0 4px rgba(0,0,0,.3);line-height:normal;letter-spacing:normal;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;z-index:1050;max-width:100%;overflow:hidden;display:inline-block;pointer-events:all;color:#333}.ab-centering-div .ab-in-app-message.ab-no-shadow,.ab-iam-root.v3 .ab-in-app-message.ab-no-shadow{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.ab-centering-div .ab-in-app-message :focus,.ab-centering-div .ab-in-app-message:focus,.ab-iam-root.v3 .ab-in-app-message :focus,.ab-iam-root.v3 .ab-in-app-message:focus{outline:0}.ab-centering-div .ab-in-app-message.ab-clickable,.ab-iam-root.v3 .ab-in-app-message.ab-clickable{cursor:pointer}.ab-centering-div .ab-in-app-message.ab-background,.ab-iam-root.v3 .ab-in-app-message.ab-background{background-color:#fff}.ab-centering-div .ab-in-app-message .ab-close-button,.ab-iam-root.v3 .ab-in-app-message .ab-close-button{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;background-color:transparent;background-size:15px;border:none;width:15px;min-width:15px;height:15px;cursor:pointer;display:block;font-size:15px;line-height:0;padding-top:15px;padding-right:15px;padding-left:15px;padding-bottom:15px;position:absolute;right:0;top:0;z-index:1060}.ab-centering-div .ab-in-app-message .ab-close-button svg,.ab-iam-root.v3 .ab-in-app-message .ab-close-button svg{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;fill:#9b9b9b}.ab-centering-div .ab-in-app-message .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message .ab-close-button svg.ab-chevron{display:none}.ab-centering-div .ab-in-app-message .ab-close-button:active,.ab-iam-root.v3 .ab-in-app-message .ab-close-button:active{background-color:transparent}.ab-centering-div .ab-in-app-message .ab-close-button:focus,.ab-iam-root.v3 .ab-in-app-message .ab-close-button:focus{background-color:transparent}.ab-centering-div .ab-in-app-message .ab-close-button:hover,.ab-iam-root.v3 .ab-in-app-message .ab-close-button:hover{background-color:transparent}.ab-centering-div .ab-in-app-message .ab-close-button:hover svg,.ab-iam-root.v3 .ab-in-app-message .ab-close-button:hover svg{fill-opacity:.8}.ab-centering-div .ab-in-app-message .ab-message-text,.ab-iam-root.v3 .ab-in-app-message .ab-message-text{float:none;line-height:1.5;margin:20px 25px;max-width:100%;overflow:hidden;overflow-y:auto;vertical-align:text-bottom;word-wrap:break-word;white-space:pre-wrap;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif}.ab-centering-div .ab-in-app-message .ab-message-text.start-aligned,.ab-iam-root.v3 .ab-in-app-message .ab-message-text.start-aligned{text-align:left;text-align:start}.ab-centering-div .ab-in-app-message .ab-message-text.end-aligned,.ab-iam-root.v3 .ab-in-app-message .ab-message-text.end-aligned{text-align:right;text-align:end}.ab-centering-div .ab-in-app-message .ab-message-text.center-aligned,.ab-iam-root.v3 .ab-in-app-message .ab-message-text.center-aligned{text-align:center}.ab-centering-div .ab-in-app-message .ab-message-text::-webkit-scrollbar,.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar{-webkit-appearance:none;width:14px}.ab-centering-div .ab-in-app-message .ab-message-text::-webkit-scrollbar-thumb,.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar-thumb{-webkit-appearance:none;border:4px solid transparent;background-clip:padding-box;-webkit-border-radius:7px;-moz-border-radius:7px;border-radius:7px;background-color:rgba(0,0,0,.2)}.ab-centering-div .ab-in-app-message .ab-message-text::-webkit-scrollbar-button,.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar-button{width:0;height:0;display:none}.ab-centering-div .ab-in-app-message .ab-message-text::-webkit-scrollbar-corner,.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar-corner{background-color:transparent}.ab-centering-div .ab-in-app-message .ab-message-header,.ab-iam-root.v3 .ab-in-app-message .ab-message-header{float:none;letter-spacing:0;margin:0;font-weight:700;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;display:block;font-size:20px;margin-bottom:10px;line-height:1.3}.ab-centering-div .ab-in-app-message .ab-message-header.start-aligned,.ab-iam-root.v3 .ab-in-app-message .ab-message-header.start-aligned{text-align:left;text-align:start}.ab-centering-div .ab-in-app-message .ab-message-header.end-aligned,.ab-iam-root.v3 .ab-in-app-message .ab-message-header.end-aligned{text-align:right;text-align:end}.ab-centering-div .ab-in-app-message .ab-message-header.center-aligned,.ab-iam-root.v3 .ab-in-app-message .ab-message-header.center-aligned{text-align:center}.ab-centering-div .ab-in-app-message.ab-fullscreen,.ab-centering-div .ab-in-app-message.ab-modal,.ab-centering-div .ab-in-app-message.ab-slideup,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message.ab-modal,.ab-iam-root.v3 .ab-in-app-message.ab-slideup{-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.ab-centering-div .ab-in-app-message.ab-slideup,.ab-iam-root.v3 .ab-in-app-message.ab-slideup{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;cursor:pointer;overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;font-size:14px;font-weight:700;margin:20px;margin-top:calc(constant(safe-area-inset-top,0) + 20px);margin-right:calc(constant(safe-area-inset-right,0) + 20px);margin-bottom:calc(constant(safe-area-inset-bottom,0) + 20px);margin-left:calc(constant(safe-area-inset-left,0) + 20px);margin-top:calc(env(safe-area-inset-top,0) + 20px);margin-right:calc(env(safe-area-inset-right,0) + 20px);margin-bottom:calc(env(safe-area-inset-bottom,0) + 20px);margin-left:calc(env(safe-area-inset-left,0) + 20px);max-height:150px;padding:10px;right:0;background-color:#efefef}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone{max-height:66px;margin:10px;margin-top:calc(constant(safe-area-inset-top,0) + 10px);margin-right:calc(constant(safe-area-inset-right,0) + 10px);margin-bottom:calc(constant(safe-area-inset-bottom,0) + 10px);margin-left:calc(constant(safe-area-inset-left,0) + 10px);margin-top:calc(env(safe-area-inset-top,0) + 10px);margin-right:calc(env(safe-area-inset-right,0) + 10px);margin-bottom:calc(env(safe-area-inset-bottom,0) + 10px);margin-left:calc(env(safe-area-inset-left,0) + 10px);max-width:90%;max-width:calc(100% - 40px);min-width:90%;min-width:calc(100% - 40px)}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-close-button,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-close-button{display:none}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-close-button svg:not(.ab-chevron),.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-close-button svg:not(.ab-chevron){display:none}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button{display:block;height:20px;padding:0 20px 0 18px;pointer-events:none;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:12px}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button svg.ab-chevron{display:inline}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-message-text{border-right-width:40px}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text{max-width:100%;border-right-width:10px}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text span,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text span{max-height:66px}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text.ab-with-icon,.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text.ab-with-image,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text.ab-with-image{max-width:80%;max-width:calc(100% - 50px - 5px - 10px - 25px)}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-image-area{width:50px;height:50px}.ab-centering-div .ab-in-app-message.ab-slideup.simulate-phone .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-image-area img{max-width:100%;max-height:100%;width:auto;height:auto}.ab-centering-div .ab-in-app-message.ab-slideup.ab-clickable:active .ab-message-text,.ab-centering-div .ab-in-app-message.ab-slideup.ab-clickable:focus .ab-message-text,.ab-centering-div .ab-in-app-message.ab-slideup.ab-clickable:hover .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:active .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:focus .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:hover .ab-message-text{opacity:.8}.ab-centering-div .ab-in-app-message.ab-slideup.ab-clickable:active .ab-close-button svg.ab-chevron,.ab-centering-div .ab-in-app-message.ab-slideup.ab-clickable:focus .ab-close-button svg.ab-chevron,.ab-centering-div .ab-in-app-message.ab-slideup.ab-clickable:hover .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:active .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:focus .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:hover .ab-close-button svg.ab-chevron{fill-opacity:.8}.ab-centering-div .ab-in-app-message.ab-slideup .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:table-cell;border-color:transparent;border-style:solid;border-width:5px 25px 5px 10px;max-width:430px;vertical-align:middle;margin:0}.ab-centering-div .ab-in-app-message.ab-slideup .ab-message-text span,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text span{display:block;max-height:150px;overflow:auto}.ab-centering-div .ab-in-app-message.ab-slideup .ab-message-text.ab-with-icon,.ab-centering-div .ab-in-app-message.ab-slideup .ab-message-text.ab-with-image,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-image{max-width:365px;border-top:0;border-bottom:0}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;background-color:transparent;background-size:15px;border:none;width:15px;min-width:15px;height:15px;cursor:pointer;display:block;font-size:15px;line-height:0;padding-top:15px;padding-right:15px;padding-left:15px;padding-bottom:15px;position:absolute;right:0;top:0;z-index:1060}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button svg,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button svg{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;fill:#9b9b9b}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button svg.ab-chevron{display:none}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button:active,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:active{background-color:transparent}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button:focus,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:focus{background-color:transparent}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button:hover,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:hover{background-color:transparent}.ab-centering-div .ab-in-app-message.ab-slideup .ab-close-button:hover svg,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:hover svg{fill-opacity:.8}.ab-centering-div .ab-in-app-message.ab-slideup .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area{float:none;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:table-cell;border-color:transparent;border-style:solid;border-width:5px 0 5px 5px;vertical-align:top;width:60px;margin:0}.ab-centering-div .ab-in-app-message.ab-slideup .ab-image-area.ab-icon-area,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area.ab-icon-area{width:auto}.ab-centering-div .ab-in-app-message.ab-slideup .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area img{float:none;width:100%}.ab-centering-div .ab-in-app-message.ab-fullscreen,.ab-centering-div .ab-in-app-message.ab-modal,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message.ab-modal{font-size:14px}.ab-centering-div .ab-in-app-message.ab-fullscreen .ab-image-area,.ab-centering-div .ab-in-app-message.ab-modal .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area{float:none;position:relative;display:block;overflow:hidden}.ab-centering-div .ab-in-app-message.ab-fullscreen .ab-image-area .ab-center-cropped-img,.ab-centering-div .ab-in-app-message.ab-modal .ab-image-area .ab-center-cropped-img,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area .ab-center-cropped-img,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area .ab-center-cropped-img{background-size:cover;background-repeat:no-repeat;background-position:50% 50%;position:absolute;top:0;right:0;bottom:0;left:0}.ab-centering-div .ab-in-app-message.ab-fullscreen .ab-icon,.ab-centering-div .ab-in-app-message.ab-modal .ab-icon,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-icon,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-icon{margin-top:20px}.ab-centering-div .ab-in-app-message.ab-fullscreen.graphic,.ab-centering-div .ab-in-app-message.ab-modal.graphic,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic{padding:0}.ab-centering-div .ab-in-app-message.ab-fullscreen.graphic .ab-message-text,.ab-centering-div .ab-in-app-message.ab-modal.graphic .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-message-text{display:none}.ab-centering-div .ab-in-app-message.ab-fullscreen.graphic .ab-message-buttons,.ab-centering-div .ab-in-app-message.ab-modal.graphic .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-message-buttons{bottom:0;left:0}.ab-centering-div .ab-in-app-message.ab-fullscreen.graphic .ab-image-area,.ab-centering-div .ab-in-app-message.ab-modal.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area{float:none;height:auto;margin:0}.ab-centering-div .ab-in-app-message.ab-fullscreen.graphic .ab-image-area img,.ab-centering-div .ab-in-app-message.ab-modal.graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area img{display:block;top:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none}.ab-centering-div .ab-in-app-message.ab-modal,.ab-iam-root.v3 .ab-in-app-message.ab-modal{padding-top:20px;width:450px;max-width:450px;max-height:720px}.ab-centering-div .ab-in-app-message.ab-modal.simulate-phone,.ab-iam-root.v3 .ab-in-app-message.ab-modal.simulate-phone{max-width:91%;max-width:calc(100% - 30px)}.ab-centering-div .ab-in-app-message.ab-modal.simulate-phone.graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal.simulate-phone.graphic .ab-image-area img{max-width:91vw;max-width:calc(100vw - 30px)}.ab-centering-div .ab-in-app-message.ab-modal .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text{max-height:660px}.ab-centering-div .ab-in-app-message.ab-modal .ab-message-text.ab-with-image,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-image{max-height:524.82758621px}.ab-centering-div .ab-in-app-message.ab-modal .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-icon{max-height:610px}.ab-centering-div .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons{margin-bottom:93px;max-height:587px}.ab-centering-div .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-image,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-image{max-height:451.82758621px}.ab-centering-div .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-icon{max-height:537px}.ab-centering-div .ab-in-app-message.ab-modal .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area{margin-top:-20px;max-height:155.17241379px}.ab-centering-div .ab-in-app-message.ab-modal .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area img{max-width:100%;max-height:155.17241379px}.ab-centering-div .ab-in-app-message.ab-modal .ab-image-area.ab-icon-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area.ab-icon-area{height:auto}.ab-centering-div .ab-in-app-message.ab-modal.graphic,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic{width:auto;overflow:hidden}.ab-centering-div .ab-in-app-message.ab-modal.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area{display:inline}.ab-centering-div .ab-in-app-message.ab-modal.graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area img{max-height:720px;max-width:450px}.ab-centering-div .ab-in-app-message.ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen{width:450px;max-height:720px}.ab-centering-div .ab-in-app-message.ab-fullscreen.landscape,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape{width:720px;max-height:450px}.ab-centering-div .ab-in-app-message.ab-fullscreen.landscape .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape .ab-image-area{height:225px}.ab-centering-div .ab-in-app-message.ab-fullscreen.landscape.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape.graphic .ab-image-area{height:450px}.ab-centering-div .ab-in-app-message.ab-fullscreen.landscape .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape .ab-message-text{max-height:112px}.ab-centering-div .ab-in-app-message.ab-fullscreen .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-message-text{max-height:247px}.ab-centering-div .ab-in-app-message.ab-fullscreen .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-message-text.ab-with-buttons{margin-bottom:93px}.ab-centering-div .ab-in-app-message.ab-fullscreen .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area{height:360px}.ab-centering-div .ab-in-app-message.ab-fullscreen.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-image-area{height:720px}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone{-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-close-button,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone .ab-image-area,.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-image-area{height:50%}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone:not(.graphic),.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone:not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone:not(.graphic) .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone:not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone.graphic,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.graphic{display:block}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.graphic .ab-image-area{height:100%}.ab-centering-div .ab-in-app-message.ab-fullscreen.simulate-phone.graphic .ab-message-button,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}.ab-centering-div .ab-in-app-message.ab-html-message,.ab-iam-root.v3 .ab-in-app-message.ab-html-message{background-color:transparent;border:none;height:100%;overflow:auto;position:relative;touch-action:auto;width:100%}.ab-centering-div .ab-in-app-message .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message .ab-message-buttons{position:absolute;bottom:0;width:100%;padding:17px 25px 30px 25px;z-index:inherit;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ab-centering-div .ab-in-app-message .ab-message-button,.ab-iam-root.v3 .ab-in-app-message .ab-message-button{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;cursor:pointer;display:inline-block;font-size:14px;font-weight:700;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;height:44px;line-height:normal;letter-spacing:normal;margin:0;max-width:100%;min-width:80px;padding:0 12px;position:relative;text-transform:none;width:48%;width:calc(50% - 5px);border:1px solid #1b78cf;-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;word-wrap:normal;white-space:nowrap}.ab-centering-div .ab-in-app-message .ab-message-button:first-of-type,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:first-of-type{float:left;background-color:#fff;color:#1b78cf}.ab-centering-div .ab-in-app-message .ab-message-button:last-of-type,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:last-of-type{float:right;background-color:#1b78cf;color:#fff}.ab-centering-div .ab-in-app-message .ab-message-button:first-of-type:last-of-type,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:first-of-type:last-of-type{float:none;width:auto}.ab-centering-div .ab-in-app-message .ab-message-button:after,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent}.ab-centering-div .ab-in-app-message .ab-message-button:after,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:after{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease}.ab-centering-div .ab-in-app-message .ab-message-button:hover,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:hover{opacity:.8}.ab-centering-div .ab-in-app-message .ab-message-button:active:after,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:active:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.08)}.ab-centering-div .ab-in-app-message .ab-message-button:focus:after,.ab-iam-root.v3 .ab-in-app-message .ab-message-button:focus:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.15)}.ab-centering-div .ab-in-app-message .ab-message-button a,.ab-iam-root.v3 .ab-in-app-message .ab-message-button a{color:inherit;text-decoration:inherit}.ab-centering-div .ab-in-app-message img,.ab-iam-root.v3 .ab-in-app-message img{float:none;display:inline-block}.ab-centering-div .ab-in-app-message .ab-icon,.ab-iam-root.v3 .ab-in-app-message .ab-icon{float:none;display:inline-block;padding:10px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.ab-centering-div .ab-in-app-message .ab-icon .fa,.ab-iam-root.v3 .ab-in-app-message .ab-icon .fa{float:none;font-size:30px;width:30px}.ab-centering-div .ab-start-hidden,.ab-iam-root.v3 .ab-start-hidden{visibility:hidden}.ab-centering-div .ab-centered,.ab-centering-div.ab-centering-div .ab-modal,.ab-iam-root.v3 .ab-centered,.ab-iam-root.v3.ab-centering-div .ab-modal{margin:auto;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ab-email-capture,.ab-iam-root.v3{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.ab-email-capture .ab-page-blocker,.ab-iam-root.v3 .ab-page-blocker{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1040;pointer-events:all;background-color:rgba(51,51,51,.75)}.ab-email-capture .ab-in-app-message.ab-modal .ab-email-capture-input{margin-bottom:30px}.ab-email-capture .ab-in-app-message.ab-modal .ab-message-buttons~.ab-message-text{max-height:541px;margin-bottom:160px}.ab-email-capture .ab-in-app-message.ab-modal .ab-message-buttons~.ab-message-text.with-explanatory-link{max-height:513px;margin-bottom:188px}.ab-email-capture .ab-in-app-message.ab-modal .ab-image-area~.ab-message-text{max-height:385.82758621px}.ab-email-capture .ab-in-app-message.ab-modal .ab-image-area~.ab-message-text.with-explanatory-link{max-height:357.82758621px}.ab-email-capture .ab-in-app-message.ab-modal .ab-email-validation-error{margin-top:62px}.ab-email-capture .ab-in-app-message.ab-modal .ab-explanatory-link{display:block}.ab-email-capture .ab-in-app-message.ab-modal .ab-background,.ab-email-capture .ab-in-app-message.ab-modal .ab-mask{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.ab-email-capture .ab-in-app-message.ab-modal .ab-close-button{line-height:normal}.ab-email-capture .ab-in-app-message.ab-modal .ab-html-close-button{right:3px;top:-1px;font-size:34px;padding-top:0}@media (max-width:600px){.ab-iam-root.v3 .ab-in-app-message.ab-slideup{max-height:66px;margin:10px;margin-top:calc(constant(safe-area-inset-top,0) + 10px);margin-right:calc(constant(safe-area-inset-right,0) + 10px);margin-bottom:calc(constant(safe-area-inset-bottom,0) + 10px);margin-left:calc(constant(safe-area-inset-left,0) + 10px);margin-top:calc(env(safe-area-inset-top,0) + 10px);margin-right:calc(env(safe-area-inset-right,0) + 10px);margin-bottom:calc(env(safe-area-inset-bottom,0) + 10px);margin-left:calc(env(safe-area-inset-left,0) + 10px);max-width:90%;max-width:calc(100% - 40px);min-width:90%;min-width:calc(100% - 40px)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button{display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button svg:not(.ab-chevron){display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-close-button{display:block;height:20px;padding:0 20px 0 18px;pointer-events:none;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:12px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-close-button svg.ab-chevron{display:inline}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-message-text{border-right-width:40px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text{max-width:100%;border-right-width:10px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text span{max-height:66px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-image{max-width:80%;max-width:calc(100% - 50px - 5px - 10px - 25px)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area{width:50px;height:50px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area img{max-width:100%;max-height:100%;width:auto;height:auto}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape{-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-close-button,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen .ab-image-area,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-image-area,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen .ab-message-text,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape:not(.graphic),.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen:not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape:not(.graphic) .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen:not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.graphic,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.graphic{display:block}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.graphic .ab-message-button,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}@media (max-width:480px){.ab-email-capture .ab-in-app-message.ab-modal:not(.force-desktop),.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop){max-width:91%;max-width:calc(100% - 30px)}.ab-email-capture .ab-in-app-message.ab-modal:not(.force-desktop).graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop).graphic .ab-image-area img{max-width:91vw;max-width:calc(100vw - 30px)}}@media (max-height:750px){.ab-email-capture .ab-in-app-message.ab-modal:not(.force-desktop),.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop){max-height:91%;max-height:calc(100% - 30px)}.ab-email-capture .ab-in-app-message.ab-modal:not(.force-desktop).graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop).graphic .ab-image-area img{max-height:91vh;max-height:calc(100vh - 30px)}.ab-email-capture .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text{max-height:65vh;max-height:calc(100vh - 30px - 60px)}.ab-email-capture .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-image,.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-image{max-height:45vh;max-height:calc(100vh - 30px - 155.17241379310346px - 40px)}.ab-email-capture .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-icon{max-height:45vh;max-height:calc(100vh - 30px - 70px - 40px)}.ab-email-capture .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-buttons{max-height:50vh;max-height:calc(100vh - 30px - 93px - 40px)}.ab-email-capture .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-buttons.ab-with-image,.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-buttons.ab-with-image{max-height:30vh;max-height:calc(100vh - 30px - 155.17241379310346px - 93px - 20px)}.ab-email-capture .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-buttons.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-buttons.ab-with-icon{max-height:30vh;max-height:calc(100vh - 30px - 70px - 93px - 20px)}}@media (min-width:601px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area img{max-height:100%;max-width:100%}}@media (max-height:750px) and (min-width:601px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop){-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important;width:450px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop) .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop) .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop) .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop):not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop):not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}@media (max-height:480px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop){-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}@media (max-width:750px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop){-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}body>.ab-feed{position:fixed;top:0;right:0;bottom:0;width:421px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}body>.ab-feed .ab-feed-body{position:absolute;top:0;left:0;right:0;border:none;border-left:1px solid #d0d0d0;padding-top:70px;min-height:100%}body>.ab-feed .ab-initial-spinner{float:none}body>.ab-feed .ab-no-cards-message{position:absolute;width:100%;margin-left:-20px;top:40%}.ab-feed{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 1px 7px 1px rgba(66,82,113,.15);-moz-box-shadow:0 1px 7px 1px rgba(66,82,113,.15);box-shadow:0 1px 7px 1px rgba(66,82,113,.15);width:402px;background-color:#eee;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;font-size:13px;line-height:130%;letter-spacing:normal;overflow-y:auto;overflow-x:visible;z-index:1050;-webkit-overflow-scrolling:touch}.ab-feed :focus,.ab-feed:focus{outline:0}.ab-feed .ab-feed-body{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #d0d0d0;border-top:none;padding:20px 20px 0 20px}.ab-feed.ab-effect-slide{-webkit-transform:translateX(450px);-moz-transform:translateX(450px);-ms-transform:translateX(450px);transform:translateX(450px);-webkit-transition:transform .5s ease-in-out;-moz-transition:transform .5s ease-in-out;-o-transition:transform .5s ease-in-out;transition:transform .5s ease-in-out}.ab-feed.ab-effect-slide.ab-show{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}.ab-feed.ab-effect-slide.ab-hide{-webkit-transform:translateX(450px);-moz-transform:translateX(450px);-ms-transform:translateX(450px);transform:translateX(450px)}.ab-feed .ab-card{position:relative;-webkit-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);-moz-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);box-shadow:0 2px 3px 0 rgba(178,178,178,.5);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;width:100%;border:1px solid #d0d0d0;margin-bottom:20px;overflow:hidden;background-color:#fff;-webkit-transition:height .4s ease-in-out,margin .4s ease-in-out;-moz-transition:height .4s ease-in-out,margin .4s ease-in-out;-o-transition:height .4s ease-in-out,margin .4s ease-in-out;transition:height .4s ease-in-out,margin .4s ease-in-out}.ab-feed .ab-card .ab-pinned-indicator{position:absolute;right:0;top:0;margin-right:-1px;width:0;height:0;border-style:solid;border-width:0 24px 24px 0;border-color:transparent #1676d0 transparent transparent}.ab-feed .ab-card .ab-pinned-indicator .fa-star{position:absolute;right:-21px;top:2px;font-size:9px;color:#fff}.ab-feed .ab-card.ab-effect-card.ab-hide{-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out;transition:all .5s ease-in-out}.ab-feed .ab-card.ab-effect-card.ab-hide.ab-swiped-left{-webkit-transform:translateX(-450px);-moz-transform:translateX(-450px);-ms-transform:translateX(-450px);transform:translateX(-450px)}.ab-feed .ab-card.ab-effect-card.ab-hide.ab-swiped-right{-webkit-transform:translateX(450px);-moz-transform:translateX(450px);-ms-transform:translateX(450px);transform:translateX(450px)}.ab-feed .ab-card.ab-effect-card.ab-hide:not(.ab-swiped-left):not(.ab-swiped-right){opacity:0}.ab-feed .ab-card .ab-close-button{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;background-color:transparent;background-size:15px;border:none;width:15px;min-width:15px;height:15px;cursor:pointer;display:block;font-size:15px;line-height:0;padding-top:15px;padding-right:15px;padding-left:15px;padding-bottom:15px;position:absolute;right:0;top:0;z-index:1060;opacity:0;-webkit-transition:.5s;-moz-transition:.5s;-o-transition:.5s;transition:.5s}.ab-feed .ab-card .ab-close-button svg{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;fill:#9b9b9b}.ab-feed .ab-card .ab-close-button svg.ab-chevron{display:none}.ab-feed .ab-card .ab-close-button:active{background-color:transparent}.ab-feed .ab-card .ab-close-button:focus{background-color:transparent}.ab-feed .ab-card .ab-close-button:hover{background-color:transparent}.ab-feed .ab-card .ab-close-button:hover svg{fill-opacity:.8}.ab-feed .ab-card .ab-close-button:hover{opacity:1}.ab-feed .ab-card .ab-close-button:focus{opacity:1}.ab-feed .ab-card a{float:none;color:inherit;text-decoration:none}.ab-feed .ab-card a:hover{text-decoration:underline}.ab-feed .ab-card .ab-image-area{float:none;display:inline-block;vertical-align:top;line-height:0;overflow:hidden;width:100%;-webkit-box-sizing:initial;-moz-box-sizing:initial;box-sizing:initial}.ab-feed .ab-card .ab-image-area img{float:none;height:auto;width:100%}.ab-feed .ab-card.ab-banner .ab-card-body{display:none}.ab-feed .ab-card .ab-card-body{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:inline-block;width:100%;position:relative}.ab-feed .ab-card .ab-unread-indicator{position:absolute;bottom:0;margin-right:-1px;width:100%;height:5px;background-color:#1676d0}.ab-feed .ab-card .ab-unread-indicator.read{background-color:transparent}.ab-feed .ab-card .ab-title{float:none;letter-spacing:0;margin:0;font-weight:700;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;display:block;overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;font-size:18px;line-height:130%;padding:20px 25px 0 25px}.ab-feed .ab-card .ab-description{float:none;color:#545454;padding:15px 25px 20px 25px;word-wrap:break-word;white-space:pre-wrap}.ab-feed .ab-card .ab-description.ab-no-title{padding-top:20px}.ab-feed .ab-card .ab-url-area{float:none;color:#1676d0;margin-top:12px;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif}.ab-feed .ab-card.ab-classic-card .ab-card-body{min-height:40px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.ab-feed .ab-card.ab-classic-card.with-image .ab-card-body{min-height:100px;padding-left:72px}.ab-feed .ab-card.ab-classic-card.with-image .ab-image-area{width:60px;height:60px;padding:20px 0 25px 25px;position:absolute}.ab-feed .ab-card.ab-classic-card.with-image .ab-image-area img{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;max-width:100%;max-height:100%;width:auto;height:auto}.ab-feed .ab-card.ab-classic-card.with-image .ab-title{background-color:transparent;font-size:16px}.ab-feed .ab-card.ab-classic-card.with-image .ab-description{padding-top:10px}.ab-feed .ab-card.ab-control-card{height:0;width:0;margin:0;border:0}.ab-feed .ab-feed-buttons-wrapper{float:none;position:relative;background-color:#282828;height:50px;-webkit-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);-moz-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);box-shadow:0 2px 3px 0 rgba(178,178,178,.5);z-index:1}.ab-feed .ab-feed-buttons-wrapper .ab-close-button,.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button{float:none;cursor:pointer;color:#fff;font-size:18px;padding:16px;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;transition:.2s}.ab-feed .ab-feed-buttons-wrapper .ab-close-button:hover,.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button:hover{font-size:22px}.ab-feed .ab-feed-buttons-wrapper .ab-close-button{float:right}.ab-feed .ab-feed-buttons-wrapper .ab-close-button:hover{padding-top:12px;padding-right:14px}.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button{padding-left:17px}.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button:hover{padding-top:13px;padding-left:14px}.ab-feed .ab-no-cards-message{text-align:center;margin-bottom:20px}@media (max-width:600px){body>.ab-feed{width:100%}}"};pt(yi,p);yi.prototype.xf=function(){return!1};yi.prototype.fb=function(n){if(this.nf===wc){if(this.Wa)return!1;this.Wa=!0}return nt(this.X,n),!0};yi.prototype.aa=function(n,t,i,r,u,f){function s(n,t,i){return(i=n.match(new RegExp("([\\w]+)\\s*=\\s*document.createElement\\(['\"]"+i+"['\"]\\)")))?n.slice(0,i.index+i[0].length)+";"+(i[1]+'.setAttribute("nonce", "'+t+'");')+n.slice(i.index+i[0].length):null}function h(t){var i=t.getAttribute("href"),r=t.onclick;return function(f){var s,h,c;if(null==r||"function"!=typeof r||!1!==r())return s=ty(i).abButtonId,(null==s||""===s)&&(s=t.getAttribute("id")),null!=i&&""!==i&&0!==i.indexOf("#")?(h="blank"===(t.getAttribute("target")||"").toLowerCase().replace("_",""),c=u||o.openTarget===sf||h,h=function(){n.Pb(o,s,i);at.openUri(i,f,c)},c?h():vi(o,e,h)):n.Pb(o,s,i),f.stopPropagation(),!1}}var o=this,e;return this.tc=document.activeElement,e=document.createElement("iframe"),e.setAttribute("title","Modal Message"),f&&(e.style.zIndex=f+1),e.onload=function(){function y(n){return function(){var i=arguments;vi(o,e,function(){t.display[n].apply(t.display,Array.prototype.slice.call(i))})}}function p(n){return function(){var i=t.getUser();i[n].apply(i,Array.prototype.slice.call(arguments))}}function v(n){return function(){t[n].apply(t,Array.prototype.slice.call(arguments))}}var u=null,f=n.ih(),i,c,l,a;if(null!=f){for(u=document.createElement("html"),u.innerHTML=o.message,i=u.getElementsByTagName("style"),c=0;c<i.length;c++)i[c].setAttribute("nonce",f);for(i=u.getElementsByTagName("script"),c=0;c<i.length;c++)i[c].setAttribute("nonce",f),i[c].innerHTML=i[c].innerHTML.replace(/<style>/g,"<style nonce='"+f+"'>"),l=s(i[c].innerHTML,f,"script"),l&&(i[c].innerHTML=l),(l=s(i[c].innerHTML,f,"style"))&&(i[c].innerHTML=l)}for(e.contentWindow.focus(),e.contentWindow.document.write(u?u.innerHTML:o.message),u=e.contentWindow.document.getElementsByTagName("head")[0],null!=u&&(i=document.createElement("style"),i.innerHTML=ho.$e,null!=f&&i.setAttribute("nonce",f),u.appendChild(i),si(o)&&(i=document.createElement("style"),i.innerHTML=o.css,i.id=ff(o),null!=f&&i.setAttribute("nonce",f),u.appendChild(i)),f=e.contentWindow.document.createElement("base"),f.setAttribute("target","_parent"),u.appendChild(f)),f=e.contentWindow.document.getElementsByTagName("title"),0<f.length&&e.setAttribute("title",f[0].textContent),f={closeMessage:function(){vi(o,e)},logClick:function(){var n=[o];0<arguments.length&&n.push(arguments[0]);t.logInAppMessageHtmlClick.apply(t,n)},display:{},web:{}},u=["requestImmediateDataFlush","logCustomEvent","logPurchase","unregisterAppboyPushMessages"],i=0;i<u.length;i++)f[u[i]]=v(u[i]);for(u="setFirstName setLastName setEmail setGender setDateOfBirth setCountry setHomeCity setEmailNotificationSubscriptionType setLanguage addAlias setPushNotificationSubscriptionType setPhoneNumber setCustomUserAttribute addToCustomAttributeArray removeFromCustomAttributeArray incrementCustomUserAttribute setCustomLocationAttribute addToSubscriptionGroup removeFromSubscriptionGroup".split(" "),a={},i=0;i<u.length;i++)a[u[i]]=p(u[i]);for(f.getUser=function(){return a},u=["showFeed"],i=0;i<u.length;i++)f.display[u[i]]=y(u[i]);for(u=["registerAppboyPushMessages","trackLocation"],i=0;i<u.length;i++)f.web[u[i]]=v(u[i]);if(e.contentWindow.appboyBridge=f,e.contentWindow.brazeBridge=f,o.nf!==bc){for(u=e.contentWindow.document.getElementsByTagName("a"),i=0;i<u.length;i++)u[i].onclick=h(u[i]);for(u=e.contentWindow.document.getElementsByTagName("button"),i=0;i<u.length;i++)u[i].onclick=h(u[i])}u=e.contentWindow.document.body;null!=u&&(uf(o)&&(u.id=o.htmlId),i=document.createElement("hidden"),i.onclick=f.closeMessage,i.className="ab-programmatic-close-button",u.appendChild(i));e.contentWindow.dispatchEvent(new CustomEvent("ab.BridgeReady"));-1!==e.className.indexOf("ab-start-hidden")&&(e.className=e.className.replace("ab-start-hidden",""),r(e));document.activeElement!==e&&e.focus()},e.className="ab-in-app-message ab-start-hidden ab-html-message ab-modal-interactions","iOS"===yt.ga?(i=document.createElement("div"),i.className="ab-ios-scroll-wrapper",i.appendChild(e),this.sc=i):this.sc=e};yi.prototype.oa=function(){return p.prototype.oa.call(this)+" ab-effect-html"};f.HtmlMessage=yi;pt(yr,p);yr.prototype.aa=function(n,t,i,r,u,f){return this.tc=document.activeElement,t=p.prototype.aa.call(this,n,i,r,u,f),t.className+=" ab-modal ab-centered",nl(this,n,i,t,u),dc(t),gc(this.qd,t),t};yr.prototype.oa=function(){return p.prototype.oa.call(this)+" ab-effect-modal"};nu.Object.defineProperties(yr.prototype,{Bd:{configurable:!0,enumerable:!0,get:function(){return lr}}});f.ModalMessage=yr;pt(pr,p);r=pr.prototype;r.Ja=function(){return!1};r.aa=function(n,t,i,r,u,f){var e=p.prototype.aa.call(this,n,i,r,u,f),o,s;return e.className+=" ab-slideup",o=e.getElementsByClassName("ab-close-button")[0],null!=o&&(n=rc("0 0 11.38 19.44","M11.38 9.72l-9.33 9.72L0 17.3l7.27-7.58L0 2.14 2.05 0l9.33 9.72z",si(this)?void 0:fi(this.closeButtonColor)),n.setAttribute("class","ab-chevron"),o.appendChild(n)),ou(e,to,function(n){e.className+=" ab-swiped-left";o.onclick(n)}),ou(e,io,function(n){e.className+=" ab-swiped-right";o.onclick(n)}),"TOP"===this.slideFrom?(n=uc,s=" ab-swiped-up"):(n=fc,s=" ab-swiped-down"),ou(e,n,function(n){e.className+=s;o.onclick(n)}),e};r.Xe=function(){var n=document.createElement("span");return n.appendChild(document.createTextNode(this.message)),n};r.Kc=function(n){var t=n.getElementsByClassName("ab-in-app-message")[0];no(t,!0,!0)||("TOP"===this.slideFrom?t.style.top="0px":t.style.bottom="0px");p.prototype.Kc.call(this,n)};r.oa=function(){return p.prototype.oa.call(this)+" ab-effect-slide"};nu.Object.defineProperties(pr.prototype,{Bd:{configurable:!0,enumerable:!0,get:function(){return"START"}}});f.SlideUpMessage=pr;r=ci.prototype;r.ff=function(){for(var t=0,n=0;n<this.cards.length;n++)this.cards[n].viewed||this.cards[n]instanceof wi||t++;return t};r.Ma=function(n,t){n.Ma(t)};r.La=function(n,t){n.La(t)};r.Se=function(n){n.Nc()};r.aa=function(n,t){function e(t){ao(s,n,i);t.stopPropagation()}function o(t){wr(n,i);t.stopPropagation()}var s=this,i=document.createElement("div"),f,u,r;return i.className="ab-feed ab-hide ab-effect-slide",i.setAttribute("role","dialog"),i.setAttribute("tabindex","-1"),f=document.createElement("div"),f.className="ab-feed-buttons-wrapper",f.setAttribute("role","group"),i.appendChild(f),u=document.createElement("i"),u.className="fa fa-times ab-close-button",u.setAttribute("aria-label","Close Feed"),u.setAttribute("tabindex","0"),u.setAttribute("role","button"),u.addEventListener("keydown",function(n){32!==n.keyCode&&13!==n.keyCode||o(n)}),u.onclick=o,r=document.createElement("i"),r.className="fa fa-refresh ab-refresh-button",null==this.lastUpdated&&(r.className+=" fa-spin"),r.setAttribute("aria-label","Refresh Feed"),r.setAttribute("tabindex","0"),r.setAttribute("role","button"),r.addEventListener("keydown",function(n){32!==n.keyCode&&13!==n.keyCode||e(n)}),r.onclick=e,f.appendChild(r),f.appendChild(u),i.appendChild(tl(this,n,t)),i.onscroll=function(){lf(s,n,i)},i};var il=500,vo="data-update-subscription-id",vf="data-last-requested-refresh",ry=1e4;f.Feed=ci;f.Feed.prototype.getUnreadCardCount=ci.prototype.ff;pt(ni,ci);ni.prototype.jh=function(){return ci.prototype.ff.call(this)};ni.prototype.Ma=function(n,t){n.Ma(t,!0)};ni.prototype.La=function(n,t){n.La(t,!0)};ni.prototype.Se=function(n){n.Na()};f.ContentCards=ni;f.ContentCards.prototype.getUnviewedCardCount=ni.prototype.jh;yf.prototype.fa=function(n){return null==this.bb||this.bb===n[0]};yf.prototype.A=function(){return this.bb};pf.prototype.fa=function(n){var t=null;null!=n&&(t=n[this.lf]);switch(this.nb){case uy:return null!=t&&t.valueOf()===this.I.valueOf();case fy:return null==t||t.valueOf()!==this.I.valueOf();case ey:return typeof t==typeof this.I&&t>this.I;case rl:return this.Mc===yo?null!=t&&ii(t)&&((new Date).valueOf()-t.valueOf())/1e3<=this.I:typeof t==typeof this.I&&t>=this.I;case oy:return typeof t==typeof this.I&&t<this.I;case ul:return this.Mc===yo?null!=t&&ii(t)&&((new Date).valueOf()-t.valueOf())/1e3>=this.I:typeof t==typeof this.I&&t<=this.I;case sy:return null!=t&&"string"==typeof t&&typeof t==typeof this.I&&null!=t.match(this.I);case hy:return null!=t;case cy:return null==t;case fl:return null!=t&&ii(t)&&(t.valueOf()-(new Date).valueOf())/1e3<this.I;case el:return null!=t&&ii(t)&&(t.valueOf()-(new Date).valueOf())/1e3>this.I;case ly:return null==t||typeof t!=typeof this.I||"string"!=typeof t||null==t.match(this.I)}return!1};pf.prototype.A=function(){var n=this.I;return ii(this.I)&&(n=tu(n.valueOf())),{k:this.lf,t:this.Mc,c:this.nb,v:n}};var uy=1,fy=2,ey=3,rl=4,oy=5,ul=6,sy=10,hy=11,cy=12,fl=15,el=16,ly=17,yo="date";wf.prototype.fa=function(n){for(var i=!0,t=0;t<this.filters.length;t++){for(var u=this.filters[t],f=!1,r=0;r<u.length;r++)if(u[r].fa(n)){f=!0;break}if(!f){i=!1;break}}return i};wf.prototype.A=function(){for(var t=[],n=0;n<this.filters.length;n++){for(var r=this.filters[n],u=[],i=0;i<r.length;i++)u.push(r[i].A());t.push(u)}return t};bf.prototype.fa=function(n){if(null==this.bb||null==this.eb)return!1;var t=n[1];return n[0]===this.bb&&this.eb.fa(t)};bf.prototype.A=function(){return{e:this.bb,pf:this.eb.A()}};kf.prototype.fa=function(n){var i,r,t;if(null==this.Za||(i=cl(n[0],this.Za),!i))return!1;if(r=null==this.Gb||0===this.Gb.length,null!=this.Gb)for(t=0;t<this.Gb.length;t++)if(this.Gb[t]===n[1]){r=!0;break}return i&&r};kf.prototype.A=function(){return this.Za};df.prototype.fa=function(n){return null==this.cb||n[0]===this.cb};df.prototype.A=function(){return this.cb};gf.prototype.fa=function(n){if(null==this.cb||null==this.eb)return!1;var t=n[1];return n[0]===this.cb&&this.eb.fa(t)};gf.prototype.A=function(){return{id:this.cb,pf:this.eb.A()}};ne.prototype.fa=function(n){return null==this.Za?!0:cl(n[0],this.Za)};ne.prototype.A=function(){return this.Za};it={OPEN:"open",fd:"purchase",ne:"push_click",Tc:"custom_event",ec:"iam_click",V:"test"};po.prototype.A=function(){return{t:this.type,d:this.data?this.data.A():null}};var wo="open",bo="purchase",ko="purchase_property",go="push_click",ns="custom_event",ts="custom_event_property",is="iam_click",rs="test",pi={};pi[wo]=it.OPEN;pi[bo]=it.fd;pi[ko]=it.fd;pi[go]=it.ne;pi[ns]=it.Tc;pi[ts]=it.Tc;pi[is]=it.ec;pi[rs]=it.V;us.prototype.A=function(){for(var t=[],n=0;n<this.ob.length;n++)t.push(this.ob[n].A());return{i:this.id,c:t,s:this.startTime,e:this.endTime,p:this.priority,t:this.type,da:this.data,d:this.ab,r:this.Rb,tm:this.Oa,ss:this.kf,ld:this.Ca}};te=-1;tr={Xc:"inapp",we:"templated_iam"};r=vl.prototype;r.Na=function(n,t,r,u,f){var s=this,e=es(this,{}),o;e.last_full_sync_at=n;e.last_card_updated_at=t;n=this.f.o();null!=n&&(e.user_id=n);o=[["X-Braze-Api-Key",this.$],["X-Braze-DataRequest","true"],["X-Braze-ContentCardsRequest","true"]];this.W.Db&&(n=l(this.W.b,i.jb),null!=n&&o.push(["X-Braze-Auth-Signature",n]));ss(e,function(){fs({url:""+s.Bb+"/content_cards/sync",data:e,headers:o,h:function(n){os(s,e,n,o)?(s.Va=0,r(n),"function"==typeof u&&u()):"function"==typeof f&&f()},error:function(n){yl(n,"retrieving content cards");"function"==typeof f&&f()}})})};r.Hd=function(){this.Ce=!1;cu(this)};r.Jb=function(){this.sd.K();this.W.td.K();fe(this);this.Ce=!0;bi(this,null,null,!1);this.qc=null};r.Lc=function(n){var f=this,r=this.D.Kb(),e=tt(this.D),u;(r=r!==e)&&(bh(this.b,ot.Uc),bh(this.b,ot.lc));bi(this,null,!1,null,null,null);kl(this);r&&null!=n&&(n.Mb()||n.Ka())&&(u=function(){n.Hg?t.info("Push token maintenance is disabled, not refreshing token for backend."):n.subscribe()},r=wt.ba,fh(new ct(r),r.G.gd,function(n,t){t&&u()},function(){var n=l(f.b,i.kc);(null==n||n)&&u()}))};r.$a=function(n,r,u,f){var a=this.f.o(),e,o,s,h,c;if(a!==n){if(e=this.D,o=nr(e.b,ot.Ta),null!=o&&(e.b.rc.remove(ot.Ta),o=fa(e,(new Date).valueOf(),o),null==o||d(e.b,[o])),null!=a&&bi(this,null,!1,null,null,null),e=this.f,o=null==e.o(),er(e.b,ot.lc,new fr(n)),o&&(e=e.b,o=e.R.Z(i.Qa),null!=o&&(s=i.Qc,h=o[s],null!=h&&(o[s]=void 0,e.R.store(i.Qa,o),h.user_id=n,dh(e,h))),s=nr(e,ot.Ta),o=null,null!=s&&(o=s.ia),s=kh(e),null!=s))for(h=0;h<s.length;h++)c=s[h],null==c.gb&&c.sessionId==o&&(c.gb=n),null==c||d(e,[c]);for(f?this.W.Tb(f):(f=this.W,b(f.b,i.jb),e=wt.ba,pu(new ct(e),e.G.qe,f.ye)),f=0;f<r.length;f++)r[f].$a(null==a);null!=a&&b(this.b,i.vb);b(this.b,i.cc);this.Lc(u);t.info('Changed user to "'+n+'".')}else r="Doing nothing.",f&&l(this.W.b,i.jb)!==f&&(this.W.Tb(f),r="Updated SDK authentication signature"),t.info("Current user is already "+n+". "+r)};r.rb=function(){return new w(this.f,this)};r.tb=function(n){fe(this);tt(this.D);bi(this,null,null,null,null,null,n,!0)};r.Nc=function(){tt(this.D);bi(this,!0)};r.Jd=function(n,i){var r=new vt,u=tt(this.D);return-1!==kt(this.J).cf.indexOf(n)?(t.info('Custom Event "'+n+'" is blocklisted, ignoring.'),r):(r.j.push(new y(this.f.o(),a.CustomEvent,(new Date).valueOf(),u,{n:n,p:i})),r.h=d(this.b,r.j),r)};r.Kd=function(n,i,r,u,f){var e=new vt,o=tt(this.D);return-1!==kt(this.J).mf.indexOf(n)?(t.info('Purchase "'+n+'" is blocklisted, ignoring.'),e):(e.j.push(new y(this.f.o(),a.eg,(new Date).valueOf(),o,{pid:n,c:r,p:i,q:u,pr:f})),e.h=d(this.b,e.j),e)};r.Oc=function(n,t,i,r,u,f){var e=new vt,o=tt(this.D);return t={latitude:t,longitude:i},null!=r&&(t.altitude=r),null!=u&&(t.ll_accuracy=u),null!=f&&(t.alt_accuracy=f),e.j.push(new y(n,a.lg,(new Date).valueOf(),o,t)),e.h=d(this.b,e.j),e};r.Qb=function(n){var i=new vt,r=tt(this.D);if(n instanceof ar)i.j.push(new y(this.f.o(),a.Mf,(new Date).valueOf(),r,{trigger_ids:[n.triggerId]}));else{if(!n.Od())return t.info("This in-app message has already received an impression. Ignoring analytics event."),i;if(n=re(n),null==n)return i;i.j.push(new y(this.f.o(),a.dg,(new Date).valueOf(),r,n))}return i.h=d(this.b,i.j),i};r.Jc=function(n){var i=new vt,r=tt(this.D);return n.fb()?(n=re(n),null==n)?i:(i.j.push(new y(this.f.o(),a.ke,(new Date).valueOf(),r,n)),i.h=d(this.b,i.j),i):(t.info("This in-app message has already received a click. Ignoring analytics event."),i)};r.Ic=function(n,i){var r=new vt,u=tt(this.D);return n.fb()?(i=re(i),null==i)?r:n.id===so?(t.info("This in-app message button does not have a tracking id. Not logging event to Braze servers."),r):(null!=n.id&&(i.bid=n.id),r.j.push(new y(this.f.o(),a.je,(new Date).valueOf(),u,i)),r.h=d(this.b,r.j),r):(t.info("This in-app message button has already received a click. Ignoring analytics event."),r)};r.Pb=function(n,i,r){var u=new vt,f=tt(this.D);return n.fb(r)?(n=re(n),null==n)?u:(r=a.ke,null!=i&&(n.bid=i,r=a.je),u.j.push(new y(this.f.o(),r,(new Date).valueOf(),f,n)),u.h=d(this.b,u.j),u):(t.info("This in-app message has already received a click. Ignoring analytics event."),u)};r.M=function(n,t){var i=new vt,r=tt(this.D);return n={trigger_ids:[n],error_code:t},i.j.push(new y(this.f.o(),a.cg,(new Date).valueOf(),r,n)),i.h=d(this.b,i.j),i};r.Ma=function(n,t){for(var u=new vt,o=tt(this.D),s=[],f=[],e=t?l(this.b,i.ib)||{}:l(this.b,i.vb)||{},r=0;r<n.length;r++)n[r].Od(),n[r]instanceof wi?f.push(n[r]):s.push(n[r]),e[n[r].id]=!0;return(n=ue(s),f=ue(f),null==n&&null==f)?u:(t?v(this.b,i.ib,e):v(this.b,i.vb,e),null!=n&&u.j.push(new y(this.f.o(),t?a.Jf:a.Gf,(new Date).valueOf(),o,n)),null!=f&&t&&u.j.push(new y(this.f.o(),a.Lf,(new Date).valueOf(),o,f)),u.h=d(this.b,u.j),u)};r.La=function(n,r){var u=new vt,e=tt(this.D),f;return(n.fb(),null==n.url||""===n.url)?(t.info("Card "+n.id+" has no url. Not logging click to Braze servers."),u):(r&&(f=l(this.b,i.hb)||{},f[n.id]=!0,v(this.b,i.hb,f)),n=ue([n]),null==n)?u:(u.j.push(new y(this.f.o(),r?a.Hf:a.Ff,(new Date).valueOf(),e,n)),u.h=d(this.b,u.j),u)};r.Hc=function(n){var r=new vt,f=tt(this.D),u;return n.Nd()?(u=l(this.b,i.ua)||{},u[n.id]=!0,v(this.b,i.ua,u),n=ue([n]),null==n)?r:(r.j.push(new y(this.f.o(),a.If,(new Date).valueOf(),f,n)),r.h=d(this.b,r.j),r):(t.info("Card "+n.id+" refused this dismissal. Ignoring analytics event."),r)};r.zd=function(n){n=rt(n);for(var t=n.next();!t.done;t=n.next())t=t.value,-1===this.Eb.indexOf(t)&&this.Eb.push(t)};oe={BROWSER:"browser",BROWSER_VERSION:"browserVersion",OS:"os",RESOLUTION:"resolution",LANGUAGE:"language",TIME_ZONE:"timeZone",USER_AGENT:"userAgent"};f.DeviceProperties=oe;gl.prototype.Ac=function(){var n={};return null!=this.browser&&(n.browser=this.browser),null!=this.browserVersion&&(n.browser_version=this.browserVersion),null!=this.os&&(n.os_version=this.os),null!=this.resolution&&(n.resolution=this.resolution),null!=this.language&&(n.locale=this.language),null!=this.timeZone&&(n.time_zone=this.timeZone),null!=this.userAgent&&(n.user_agent=this.userAgent),n};he.prototype.Ng=function(n){var i=this,t;document.hidden&&(cs(this),t=function(){document.hidden||(document.removeEventListener("visibilitychange",t,!1),i.watchPosition())},document.addEventListener("visibilitychange",t,!1));this.Fa.Oc(n.coords.latitude,n.coords.longitude,n.coords.accuracy,n.coords.altitude,n.coords.altitudeAccuracy)};he.prototype.Mg=function(n){n.code===n.PERMISSION_DENIED?t.info(n.message):t.error("Could not detect user location: "+n.code+" - "+n.message)};he.prototype.watchPosition=function(){this.Re?(cs(this),this.wc=navigator.geolocation.watchPosition(this.Ng.bind(this),this.Mg.bind(this)),t.info("Requested Geolocation")):t.info(this.ed)};ls.prototype.A=function(){return{e:this.endpoint,c:this.Ze,p:this.publicKey,u:this.Wh,v:this.ra}};r=na.prototype;r.qa=function(){return this.vc||this.vd};r.Ka=function(){var n=this.qa()&&"Notification"in window&&null!=window.Notification&&null!=window.Notification.permission&&"denied"===window.Notification.permission,t=this.qa()&&(!("Notification"in window)||null==window.Notification);return n||t};r.Mb=function(){return this.qa()&&"Notification"in window&&null!=window.Notification&&null!=window.Notification.permission&&"granted"===window.Notification.permission};r.Id=function(n,i,r){var u=this;r=this.Ne||r;this.qa()?this.vc?ra(this).then(function(t){u.Ka()?i():null==t?i():t.pushManager.getSubscription().then(function(t){t?n():i()}).catch(function(){i()})}).catch(function(){i()}):null==r||""===r?t.error("You must supply the safariWebsitePushId argument in order to use isPushGranted on Safari"):"granted"===window.safari.pushNotification.permission(r).permission?n():i():i()};r.subscribe=function(n,r,u){var f=this,e,o;if(n=this.Ne||n,this.qa())if(this.vc){if(!this.rd&&null!=window.location&&(e=this.Pe,-1===e.indexOf(window.location.host)&&(e=window.location.host+e),-1===e.indexOf(window.location.protocol)&&(e=window.location.protocol+"//"+e),0!==window.location.href.indexOf(e.substr(0,e.lastIndexOf("/")+1)))){t.error("Cannot subscribe to push from a path higher than the service worker location (tried to subscribe from "+window.location.pathname+" but service worker is at "+e+")");return}this.Ka()?vs(this,"Notifications from this site are blocked. This may be a temporary embargo or a permanent denial.",u):this.J&&!kt(this.J).ra&&0===kt(this.J).Nb?(t.info("Waiting for VAPID key from server config before subscribing to push."),np(this.J,function(){f.subscribe(n,r,u)})):(o=this.Mb(),dy(function(){o||f.Fa.Ud("opted_in");ra(f).then(function(n){null==n?(t.error("No service worker registration. Set the `manageServiceWorkerExternally` initialization option to false or ensure that your service worker is registered before calling registerAppboyPushMessages."),"function"==typeof u&&u()):n.pushManager.getSubscription().then(function(e){var o=null,h;if(f.J&&null!=kt(f.J).ra&&(o=uh.Vh(kt(f.J).ra)),e){var c=null,a=null,s=l(f.b,i.kc);if(s&&!ft(s)){try{h=new ls(s.e,gi(s.c),s.p,s.u,s.v).Ze}catch(v){h=null}null==h||isNaN(h.getTime())||0===h.getTime()||(c=h,a=new Date(c),a.setMonth(c.getMonth()+6))}null!=o&&e.options&&e.options.applicationServerKey&&e.options.applicationServerKey.byteLength&&0<e.options.applicationServerKey.byteLength&&!di(o,new Uint8Array(e.options.applicationServerKey))?(12<e.options.applicationServerKey.byteLength?t.info("Device was already subscribed to push using a different VAPID provider, creating new subscription."):t.info("Attempting to upgrade a gcm_sender_id-based push registration to VAPID - depending on the browser this may or may not result in the same gcm_sender_id-based subscription."),lu(f,e,n,o,r,u)):e.expirationTime&&new Date(e.expirationTime)<=(new Date).valueOf()?(t.info("Push subscription is expired, creating new subscription."),lu(f,e,n,o,r,u)):s&&ft(s)?lu(f,e,n,o,r,u):null==a?(t.info("No push subscription creation date found, creating new subscription."),lu(f,e,n,o,r,u)):a<=(new Date).valueOf()?(t.info("Push subscription older than 6 months, creating new subscription."),lu(f,e,n,o,r,u)):(t.info("Device already subscribed to push, sending existing subscription to backend."),as(f,e,r,c))}else ia(f,n,o,r,u)}).catch(function(n){t.error("Error checking current push subscriptions: "+n)})}).catch(function(n){t.error("ServiceWorker registration failed: "+n)})},function(){var n="Permission for push notifications was ignored.";f.Ka()&&(n+=" The browser has automatically blocked further permission requests for a period (probably 1 week).");t.info(n);"function"==typeof u&&u(!0)},function(){t.info("Permission for push notifications was denied.");"function"==typeof u&&u(!1)}))}else this.vd&&(null==n||""===n?t.error("You must supply the safariWebsitePushId argument in order to use registerAppboyPushMessages on Safari"):(e=window.safari.pushNotification.permission(n),ta(this,n,e,r,u)));else t.info(this.ed)};r.unsubscribe=function(n,i){var r=this;this.qa()?this.vc?navigator.serviceWorker.getRegistration().then(function(u){u&&u.pushManager.getSubscription().then(function(f){f&&(r.Fa.Sb(!0),f.unsubscribe().then(function(f){f?(t.info("Device successfully unsubscribed from push."),"function"==typeof n&&n()):(t.error("Failed to unsubscribe device from push."),"function"==typeof i&&i());r.rd||(u.unregister(),t.info("Service worker successfully unregistered."))}).catch(function(n){t.error("Push unsubscription error: "+n);"function"==typeof i&&i()}))}).catch(function(n){t.error("Error unsubscribing from push: "+n);"function"==typeof i&&i()})}):this.vd&&(this.Fa.Sb(!0),t.info("Device unsubscribed from push."),"function"==typeof n&&n()):t.info(this.ed)};ce.prototype.A=function(){return{s:"3.5.0",l:this.Nb,e:this.cf,a:this.Ve,p:this.mf,m:this.Ld,v:this.ra,c:this.Hb}};ua.prototype.Kb=function(){var n=nr(this.b,ot.Ta);return null==n?null:n.ia};au.prototype.o=function(){var t=nr(this.b,ot.lc),n,i;if(null==t)return null;if(n=t.ia,i=ku(n),997<i){for(;997<i;)n=n.slice(0,n.length-1),i=ku(n);t.ia=n;er(this.b,ot.lc,t)}return n};au.prototype.Sd=function(n,i){if(ys(this.J,n))return t.info('Custom Attribute "'+n+'" is blocklisted, ignoring.'),!1;var r={};return r[n]=i,g(this,"custom",r)};au.prototype.Pd=function(n,t,r,u,f){g(this,"push_token",n);g(this,"custom_push_public_key",r);g(this,"custom_push_user_auth",u);g(this,"custom_push_vapid_public_key",f);var e=wt.ba,o=new ct(e);v(this.b,i.kc,new ls(n,t,r,u,f).A());o.setItem(e.G.gd,e.kb,!0)};au.prototype.Sb=function(n){if(g(this,"push_token",null),g(this,"custom_push_public_key",null),g(this,"custom_push_user_auth",null),g(this,"custom_push_vapid_public_key",null),n){n=wt.ba;var t=new ct(n);v(this.b,i.kc,!1);t.setItem(n.G.gd,n.kb,!1)}};ps.prototype.Tb=function(n){var r=l(this.b,i.jb),t;v(this.b,i.jb,n);t=wt.ba;new ct(t).setItem(t.G.qe,this.ye,n);r!==n&&nt(this.td)};ps.prototype.Xd=function(n){return lt(this.ze,n)};br.prototype.Lb=function(){};br.prototype.$a=function(){};br.prototype.clearData=function(){};pt(ws,br);r=ws.prototype;r.Ga=function(){for(var t,r=l(this.b,i.wb)||[],u=[],n=0;n<r.length;n++)t=sc(r[n]),null!=t&&u.push(t);this.B=le(this,bs(this,u,!1));this.Da=l(this.b,i.ac)||this.Da;this.Aa=l(this.b,i.$b)||this.Aa};r.Lb=function(n){var e,s,h,u,f,t,r,o;if(ks(this)&&null!=n&&n.cards){if(e=n.full_sync,e||this.Ga(),s=n.cards,h=n.last_full_sync_at,n=n.last_card_updated_at,e)for(u=[],f=rt(this.B),t=f.next();!t.done;t=f.next())t=t.value,t.test&&u.push(t);else u=this.B.slice();for(f=0;f<s.length;f++){for(t=s[f],r=null,o=0;o<this.B.length;o++)if(t.id===this.B[o].id){r=this.B[o];break}if(e)t=rf(t),null!=r&&r.viewed&&(t.viewed=!0),null!=t&&u.push(t);else if(null==r)t=rf(t),null!=t&&u.push(t);else if(!oc(r,t))for(r=0;r<u.length;r++)if(t.id===u[r].id){u.splice(r,1);break}}this.B=le(this,bs(this,u,e));this.yc();this.Da=h||0;v(this.b,i.ac,this.Da);this.Aa=n||0;v(this.b,i.$b,this.Aa);nt(this.ha,this.pb(!0))}};r.yc=function(){for(var t=[],n=0;n<this.B.length;n++)t.push(this.B[n].A());v(this.b,i.wb,t)};r.Na=function(n,t){if(ks(this))return this.H.Na(this.Da,this.Aa,this.Lb.bind(this),n,t)};r.pb=function(n){n||this.Ga();n=le(this,this.B);n.sort(function(n,t){return n.pinned&&!t.pinned?-1:t.pinned&&!n.pinned?1:n.updated>t.updated?-1:t.updated>n.updated?1:0});var t=Math.max(this.Aa||0,this.Da||0);return 0===t&&(t=void 0),new ni(n,ri(t))};r.$a=function(n){n||(this.B=[],nt(this.ha,new ni(this.B.slice(),null)),b(this.b,i.wb),b(this.b,i.hb),b(this.b,i.ib),b(this.b,i.ua));this.Aa=this.Da=0;b(this.b,i.ac);b(this.b,i.$b)};r.clearData=function(n){this.Aa=this.Da=0;this.B=[];nt(this.ha,new ni(this.B.slice(),null));n&&(b(this.b,i.wb),b(this.b,i.hb),b(this.b,i.ib),b(this.b,i.ua),b(this.b,i.ac),b(this.b,i.$b))};pt(ds,br);r=ds.prototype;r.Ga=function(){for(var t,r=l(this.b,i.dd)||[],u=[],n=0;n<r.length;n++)t=sc(r[n]),null!=t&&u.push(t);this.B=u;this.mb=gi(l(this.b,i.bd))};r.yc=function(){for(var t=[],n=0;n<this.B.length;n++)t.push(this.B[n].A());v(this.b,i.dd,t)};r.Lb=function(n){if(null!=n&&n.feed){this.Ga();n=n.feed;for(var b=[],t,tt=l(this.b,i.vb)||{},k={},f=0;f<n.length;f++){t=n[f];var r=t.id,u=t.type,e=t.viewed,d=t.title,o=t.image,g=t.description,s=ri(t.created),h=ri(t.updated),c=t.categories,a=ri(t.expires_at),y=t.url,p=t.domain,w=t.aspect_ratio;t=t.extras;r=u===ht.xe||u===ht.ic?new cr(r,e,d,o,g,s,h,c,a,y,p,w,t,!1,!1):u===ht.Yb?new hr(r,e,d,o,g,s,h,c,a,y,p,w,t,!1,!1):u===ht.Xb?new sr(r,e,o,s,h,c,a,y,p,w,t,!1,!1):null;null!=r&&(tt[r.id]&&(r.viewed=!0,k[r.id]=!0),b.push(r))}v(this.b,i.vb,k);this.B=b;this.yc();this.mb=new Date;v(this.b,i.bd,this.mb);nt(this.ha,new ci(this.B.slice(),this.mb))}};r.Fc=function(){this.Ga();for(var t=[],i=new Date,n=0;n<this.B.length;n++)(null==this.B[n].expiresAt||this.B[n].expiresAt>=i)&&t.push(this.B[n]);return new ci(t,this.mb)};r.clearData=function(n){null==n&&(n=!1);this.B=[];this.mb=null;n&&(b(this.b,i.dd),b(this.b,i.bd));nt(this.ha,new ci(this.B.slice(),this.mb))};pt(kr,br);kr.prototype.Lb=function(n){var o=!1,f,h,c;if(null!=n&&n.triggers){for(ir(this),f={},h={},this.T=[],c=0;c<n.triggers.length;c++){for(var r=n.triggers[c],u=r.id,e=[],s=0;s<r.trigger_condition.length;s++)e.push(ay(r.trigger_condition[s]));s=ri(r.start_time);var a=ri(r.end_time),y=r.priority,l=r.type,p=r.delay,w=r.re_eligibility,b=r.timeout,k=r.data;for(r=r.min_seconds_since_last_trigger,u=ti(tr,l,"Could not construct Trigger from server data","Trigger.Types")?new us(u,e,s,a,y,l,k,p,w,b,r):null,null!=this.Y[u.id]&&(u.Ca=this.Y[u.id],f[u.id]=this.Y[u.id]),null!=this.L[u.id]&&(h[u.id]=this.L[u.id]),e=0;e<u.ob.length;e++)if(hl(u.ob[e],it.V,null)){o=!0;break}null!=u&&this.T.push(u)}for(di(this.Y,f)||(this.Y=f,v(this.b,i.fc,this.Y)),di(this.L,h)||(this.L=h,v(this.b,i.zb,this.L)),n=[],f=0;f<this.T.length;f++)n.push(this.T[f].A());for(this.wd=(new Date).valueOf(),v(this.b,i.kd,n),v(this.b,i.md,this.wd),o&&(t.info("Trigger with test condition found, firing test."),this.pa(it.V)),this.pa(it.OPEN),o=this.oc,this.oc=[],n=0;n<o.length;n++)this.pa.apply(this,o[n])}};kr.prototype.pa=function(n,r,u){var w=this,f,a,v,h,e;if(ti(it,n,"Cannot fire trigger action.","TriggerEvents"))if(0<this.H.lb)t.info("Trigger sync is currently in progress, awaiting sync completion before firing trigger event."),this.oc.push(arguments);else{(l(this.b,i.md)||0)>this.wd?ea(this):ir(this);for(var o=(new Date).valueOf(),b=o-this.Ba,y=!0,p=!0,s=[],c=0;c<this.T.length;c++)if(f=this.T[c],a=o+1e3*f.ab,(null==f.Ca||f.Rb!==te&&a-f.Ca>=1e3*f.Rb)&&(null==f.startTime||f.startTime<=o)&&(null==f.endTime||f.endTime>=o)){for(v=!1,h=0;h<f.ob.length;h++)if(hl(f.ob[h],n,r)){v=!0;break}v&&(y=!1,oa(this,f,a,n)&&(p=!1,s.push(f)))}y?t.info("Trigger event "+n+" did not match any trigger conditions."):p?t.info("Ignoring "+n+" trigger event because a trigger was displayed "+b/1e3+"s ago."):(s.sort(function(n,t){return n.priority-t.priority}),e=s.pop(),null!=e&&(t.info("Firing "+e.type+" trigger action "+e.id+" from trigger event "+n+"."),sa(this,e,o,n,u,s),0===e.ab?vu(this,e,o,n,u,s):this.na.push(setTimeout(function(){vu(w,e,o,n,u,s)},1e3*e.ab))))}};kr.prototype.$a=function(n){if(this.T=[],b(this.b,i.kd),!n){for(this.oc=[],this.Ba=null,this.Y={},this.L={},n=0;n<this.na.length;n++)clearTimeout(this.na[n]);this.na=[];b(this.b,i.ad);b(this.b,i.fc);b(this.b,i.zb);b(this.b,i.hg);b(this.b,i.gg);b(this.b,i.ig)}};kr.prototype.clearData=function(){this.T=[];this.Ba=null;this.Y={};this.L={};for(var n=0;n<this.na.length;n++)clearTimeout(this.na[n]);this.na=[]};gs={GOOGLE_TAG_MANAGER:"gg",MPARTICLE:"mp",SEGMENT:"sg",TEALIUM:"tl",MANUAL:"manu",NPM:"npm",CDN:"wcd"};f.BrazeSdkMetadata=gs;"undefined"==typeof console&&(window.console={log:function(){}});dr=window.Element.prototype;"function"!=typeof dr.matches&&(dr.matches=dr.msMatchesSelector||dr.mozMatchesSelector||dr.webkitMatchesSelector||function(n){n=(this.document||this.ownerDocument).querySelectorAll(n);for(var t=0;n[t]&&n[t]!==this;)++t;return!!n[t]});Element.prototype.closest||(Element.prototype.closest=function(n){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});"function"!=typeof CustomEvent&&(nh=function(n,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i},nh.prototype=window.Event.prototype,window.CustomEvent=nh);n.exports?th=n.exports:(window.appboy||(window.appboy={}),th=window.appboy);var ha=th,h=new function(n){function o(n,i,r){n="The '"+n+"' "+i+" is deprecated.";r&&(n+=" Please use '"+r+"' instead.");t.warn(n)}function k(){t.Jb();v&&(nt(at),at.K(),h.clearData(!1),h=null,f.clearData(!1),f=null,y.K(),y=null,l.K(),l=null,w.K(),w=null,g.K(),g=null,r.Jb(),e=r=null,cs(ht),d=tt=u=ht=null,a=[],vt=null);b=v=!1}function i(){if(b)return!1;if(!v)throw Error("Appboy must be initialized before calling methods.");return!0}var kt={Ug:function(n,t,i){return new ps(n,t,i)},Wg:function(n,t){return new ky(n,t)},$g:function(n,t,i,r,u,f,e,o,s,h){null==u&&(u={});var l=new au(s,e),a=new ua(e,l,s,u[c.xg]);return new vl(n,i,r,u[c.Cf],t,a,o,l,s,e,f,h)},Bc:function(){return new bt},Xg:function(n,t){return new ds(n,t)},Vg:function(n,t,i,r){return new ws(n,t,i,r)},ah:function(n,t,i,r){return new kr(n,t,i,r)},Zg:function(n,t,i,r,u,f,e){return null==u&&(u={}),new na(n,t,i,r+"/safari/"+t,u[c.wg],u[c.ug],f,u[c.mg],u[c.Wf],e)},Yg:function(n){return new he(n)}};null==n&&(n=kt);var tt,et,u,vt,r,d,g,ot,y,h,w,s,f,l,e,ht,pt=new bt,at=new bt,a=[],v=!1,b=!1;return{Oh:function(n){return lt(pt,n)},Nh:function(n){return lt(at,n)},Hd:function(i,p){var it,k,st,ut,ct;if(v)return t.info("Braze has already been initialized with an API key."),!0;if(t.Gd(null!=p&&p[c.Yf]),null==i||""===i||"string"!=typeof i)return t.error("Braze requires a valid API key to be initialized."),!1;if(tt=i,u=p||{},yt.lh&&!u[c.Af])return t.info("Ignoring activity from crawler bot "+navigator.userAgent),b=!0,!1;if(et=p=rp(i,u[c.ng]||!1),it=new ui(null,!0),it.Z("ab.optOut"))return t.info("Ignoring all activity due to previous opt out"),it.store("ab.optOut","This-cookie-will-expire-in-"+ge(it)),b=!0,!1;for(it=rt(ki(u)),k=it.next();!k.done;k=it.next())k=k.value,-1===wu(c).indexOf(k)&&t.warn("Ignoring unknown initialization option '"+k+"'.");if(it=["mparticle","wordpress","tealium"],null!=u[c.re]&&(k=u[c.re],-1!==it.indexOf(k)?vt=k:t.error("Invalid sdk flavor passed: "+k)),st=[],y=n.Bc(),a.push(y),h=n.Xg(y,p),st.push(h),l=n.Bc(),a.push(l),it=u[c.Rc],null==it||""===it||"string"!=typeof it)return t.error("Braze requires a valid SDK Endpoint to be initialized. Please set the 'baseUrl' initialization option to the value of your SDK Endpoint."),!1;if(it=it.replace(/(\.[a-z]+)[^\.]*$/i,"$1/api/v3"),0!==it.indexOf("http")&&(it="https://"+it),k=u[c.ee]||u[c.Vc],u[c.Vc]&&o(c.Vc,"initialization option",c.ee),null!=k)if(ft(k)){for(ut=[],ct=0;ct<k.length;ct++)ti(oe,k[ct],"devicePropertyAllowlist contained an invalid value.","DeviceProperties")&&ut.push(k[ct]);k=ut}else t.error("devicePropertyAllowlist must be an array. Defaulting to all properties."),k=null;return ot=n.Wg(p,k),k=new gy(p),g=n.Bc(),d=n.Ug(p,u[c.Zf],g),a.push(g),r=n.$g(tt,it,"3.5.0",vt,u,function(n){if(v)for(var t=0;t<st.length;t++)st[t].Lb(n)},p,ot,k,d),ut=u[c.ag],null==ut&&(ut=30),f=n.ah(ut,l,p,r),st.push(f),ut=!0===u[c.Zd]||!0===u[c.fe],null!=u.enableHtmlInAppMessages&&o("enableHtmlInAppMessages","initialization option","allowUserSuppliedJavascript"),w=n.Bc(),a.push(w),s=n.Vg(w,r,p,k,ut),st.push(s),tp(k,function(){s.Na()}),py(r,function(){s.Na()}),r.Hd(),e=n.Zg(r.rb(),tt,ot,it,u,k,p),ht=n.Yg(r.rb()),p="Initialized ",u&&u[c.Rc]&&(p+='for the Braze backend at "'+u[c.Rc]+'" '),t.info(p+('with API key "'+i+'".')),i=yt.language,p=!1,u&&(u[c.$c]&&(o(c.$c,"initialization option",c.cd),i=u[c.$c],p=!0),u[c.cd]&&(i=u[c.cd],p=!0)),iy(i,p),nt(pt,u),v=!0},Jb:function(){t.info("Destroying appboy instance");et=null;k()},gh:function(n){i()&&(null==n&&t.error("getDeviceId must be supplied with a callback. e.g., appboy.getDeviceId(function(deviceId) {console.log('the device id is ' + deviceId)})"),"function"==typeof n&&n(se(ot).id))},Yd:function(){t.Yd()},Td:function(n){t.Td(n)},Lc:function(){if(i()){r.Lc(e);var n=wt.ba,u=new ct(n);fh(u,n.G.oe,function(i,e){function s(){f.pa(it.ne,[o],c)}var h=e.lastClick,o=e.trackingString,c;t.info("Firing push click trigger from "+o+" push click at "+h);c=by(r,h,o);wy(r,s,s);pu(u,n.G.oe,i)});eh(u,n.G.Ef,function(n){fp(s,n)});eh(u,n.G.me,function(n){var u=r,t,i;for(n=rt(n),t=n.next();!t.done;t=n.next())(t=t.value,t.api_key!==u.$)?(i=wt.ba,new ct(i).setItem(i.G.me,ai.Ia(),t)):ie(u,t)})}},$a:function(n,u){if(i())if(null==n||0===n.length||n!==n)t.error("changeUser requires a non-empty userId.");else if(997<ku(n))t.error('Rejected user id "'+n+'" because it is longer than 997 bytes.');else{if(null!=u&&!dt(u,"set signature for new user","signature",!1))return!1;r.$a(n.toString(),[h,s,f],e,u)}},rb:function(){if(i())return r.rb()},ih:function(){if(i())return u[c.be]},tb:function(n){i()&&r.tb(n)},Nc:function(){i()&&r.Nc()},uf:function(n){if(i())return lt(y,n)},Fc:function(){if(i())return h.Fc()},Na:function(n,t){if(i())return s.Na(n,t)},tf:function(n){if(i())return lt(w,n)},pb:function(){if(i())return s.pb(!1)},Ph:function(n){if(i())return o("subscribeToNewInAppMessages","method","subscribeToInAppMessage"),lt(l,n)},vf:function(n){if(i())return"function"!=typeof n?null:lt(l,function(t){return n(t[0]),t.slice(1)})},Qb:function(n){if(i())return n instanceof p||n instanceof ar?r.Qb(n).h:(t.error("inAppMessage must be an InAppMessage object"),!1)},Jc:function(n){var u,e;if(i()){if(!(n instanceof p))return t.error("inAppMessage must be an InAppMessage object"),!1;if(u=r.Jc(n),u.h)for(e=0;e<u.j.length;e++)f.pa(it.ec,[n.triggerId],u.j[e]);return u.h}},Ic:function(n,u){var e,o;if(i()){if(!(n instanceof hi))return t.error("button must be an InAppMessageButton object"),!1;if(!(u instanceof p))return t.error("inAppMessage must be an InAppMessage object"),!1;if(e=r.Ic(n,u),e.h)for(o=0;o<e.j.length;o++)f.pa(it.ec,[u.triggerId,n.id],e.j[o]);return e.h}},Pb:function(n,u,e){if(i()){if(!(n instanceof yi))return t.error("inAppMessage argument to logInAppMessageHtmlClick must be an HtmlMessage object."),!1;if(e=r.Pb(n,u,e),e.h)for(var o=0;o<e.j.length;o++)f.pa(it.ec,[n.triggerId,u],e.j[o]);return e.h}},M:function(n,u){if(i())return n instanceof p||n instanceof ar?ti(st,u,u+" is not a valid in-app message display failure","InAppMessage.DisplayFailures")?r.M(n.triggerId,u).h:!1:(t.error("inAppMessage must be an InAppMessage object"),!1)},Ma:function(n,u){if(i()){if(!ft(n))return t.error("cards must be an array"),!1;for(var f=0;f<n.length;f++)if(!(n[f]instanceof ut))return t.error("Each card in cards must be a Card object"),!1;return r.Ma(n,u).h}},La:function(n,u){if(i())return n instanceof ut?r.La(n,u).h:(t.error("card must be a Card object"),!1)},Hc:function(n){if(i())return n instanceof ut?r.Hc(n).h:(t.error("card must be a Card object"),!1)},jf:function(){if(i())return bl(r,oh.$f).h},hf:function(){if(i())return bl(r,oh.Kf).h},N:function(n){if(i()){for(var r=rt(a),t=r.next();!t.done;t=r.next())t.value.N(n);pt.N(n);at.N(n)}},K:function(){if(i())for(var t=rt(a),n=t.next();!n.done;n=t.next())n.value.K()},Jd:function(n,u){if(i()){if(null==n||0>=n.length)return t.error('logCustomEvent requires a non-empty eventName, got "'+n+'". Ignoring event.'),!1;if(!gt(n,"log custom event","the event name"))return!1;var e=rt(ch(u,"logCustomEvent","eventProperties",'log custom event "'+n+'"',"event")),o=e.next().value;if(e=e.next().value,!o)return!1;if(o=r.Jd(n,e),o.h)for(t.info('Logged custom event "'+n+'".'),e=0;e<o.j.length;e++)f.pa(it.Tc,[n,u],o.j[e]);return o.h}},Kd:function(n,u,e,o,s){var h,c;if(i()){if(null==e&&(e="USD"),null==o&&(o=1),null==n||0>=n.length)return t.error('logPurchase requires a non-empty productId, got "'+n+'", ignoring.'),!1;if(!gt(n,"log purchase","the purchase name"))return!1;if(h=parseFloat(u),isNaN(h))return t.error("logPurchase requires a numeric price, got "+u+", ignoring."),!1;if(h=h.toFixed(2),u=parseInt(o),isNaN(u))return t.error("logPurchase requires an integer quantity, got "+o+", ignoring."),!1;if(1>u||100<u)return t.error("logPurchase requires a quantity >1 and <100, got "+u+", ignoring."),!1;if(e=e.toUpperCase(),-1==="AED AFN ALL AMD ANG AOA ARS AUD AWG AZN BAM BBD BDT BGN BHD BIF BMD BND BOB BRL BSD BTC BTN BWP BYR BZD CAD CDF CHF CLF CLP CNY COP CRC CUC CUP CVE CZK DJF DKK DOP DZD EEK EGP ERN ETB EUR FJD FKP GBP GEL GGP GHS GIP GMD GNF GTQ GYD HKD HNL HRK HTG HUF IDR ILS IMP INR IQD IRR ISK JEP JMD JOD JPY KES KGS KHR KMF KPW KRW KWD KYD KZT LAK LBP LKR LRD LSL LTL LVL LYD MAD MDL MGA MKD MMK MNT MOP MRO MTL MUR MVR MWK MXN MYR MZN NAD NGN NIO NOK NPR NZD OMR PAB PEN PGK PHP PKR PLN PYG QAR RON RSD RUB RWF SAR SBD SCR SDG SEK SGD SHP SLL SOS SRD STD SVC SYP SZL THB TJS TMT TND TOP TRY TTD TWD TZS UAH UGX USD UYU UZS VEF VND VUV WST XAF XAG XAU XCD XDR XOF XPD XPF XPT YER ZAR ZMK ZMW ZWL".split(" ").indexOf(e))return t.error("logPurchase requires a valid currencyCode, got "+e+", ignoring."),!1;if(c=rt(ch(s,"logPurchase","purchaseProperties",'log purchase "'+n+'"',"purchase")),o=c.next().value,c=c.next().value,!o)return!1;if(o=r.Kd(n,h,e,u,c),o.h)for(t.info("Logged "+u+" purchase"+(1<u?"s":"")+' of "'+n+'" for '+e+" "+h+"."),e=0;e<o.j.length;e++)f.pa(it.fd,[n,s],o.j[e]);return o.h}},qa:function(){if(i())return e.qa()},Ka:function(){if(i())return e.Ka()},Id:function(n,t,r){i()&&(o("isPushGranted","method","isPushPermissionGranted"),e.Id(n,t,r))},Mb:function(){if(i())return e.Mb()},ph:function(n,t,u){if(i())return e.subscribe(u,function(t,i,u){r.tb();"function"==typeof n&&n(t,i,u)},t)},Uh:function(n,t){if(i())return e.unsubscribe(n,t)},Tb:function(n){if(i())return""===n||!dt(n,"set signature","signature",!1)?!1:(d.Tb(n),!0)},Xd:function(n){if(i())return d.Xd(n)},Sh:function(){i()&&(o("trackLocation","method"),ht.watchPosition())},zd:function(n){if(i()){if(!ft(n))return t.error("Cannot set SDK metadata because metadata is not an array."),!1;for(var f=rt(n),u=f.next();!u.done;u=f.next())if(!ti(gs,u.value,"sdkMetadata contained an invalid value.","BrazeSdkMetadata"))return!1;return r.zd(n),!0}},Mh:function(){o("stopWebTracking","method","disableSDK");null!=r&&r.tb();var n=new ui(null,!0);n.store("ab.optOut","This-cookie-will-expire-in-"+ge(n));n=wt.ba;new ct(n).setItem(n.G.xb,n.kb,!0);k();b=!0},bh:function(){null!=r&&r.tb();var n=new ui(null,!0);n.store("ab.optOut","This-cookie-will-expire-in-"+ge(n));n=wt.ba;new ct(n).setItem(n.G.xb,n.kb,!0);k();b=!0},vh:function(){o("resumeWebTracking","method","enableSDK");new ui(null,!0).remove("ab.optOut");var n=wt.ba;pu(new ct(n),n.G.xb,n.kb);k()},dh:function(){new ui(null,!0).remove("ab.optOut");var n=wt.ba;pu(new ct(n),n.G.xb,n.kb);k()},mh:function(){return!!new ui(null,!0).Z("ab.optOut")},Xh:function(){if(null==et)throw Error("Appboy must be initialized before calling methods.");et.clearData();for(var t=ki(wt),n=0;n<t.length;n++)new ct(wt[t[n]]).clearData();v&&(h.clearData(!0),f.clearData(!0))}}},o={};for(var ca in f)o[ca]=f[ca];o.initialize=h.Hd;o.destroy=h.Jb;o.getDeviceId=h.gh;o.toggleAppboyLogging=h.Yd;o.setLogger=h.Td;o.openSession=h.Lc;o.changeUser=h.$a;o.getUser=h.rb;o.requestImmediateDataFlush=h.tb;o.requestFeedRefresh=h.Nc;o.getCachedFeed=h.Fc;o.subscribeToFeedUpdates=h.uf;o.requestContentCardsRefresh=h.Na;o.getCachedContentCards=h.pb;o.subscribeToContentCardsUpdates=h.tf;o.logCardImpressions=h.Ma;o.logCardClick=h.La;o.logCardDismissal=h.Hc;o.logFeedDisplayed=h.jf;o.logContentCardsDisplayed=h.hf;o.logInAppMessageImpression=h.Qb;o.logInAppMessageClick=h.Jc;o.logInAppMessageButtonClick=h.Ic;o.logInAppMessageHtmlClick=h.Pb;o.subscribeToNewInAppMessages=h.Ph;o.subscribeToInAppMessage=h.vf;o.removeSubscription=h.N;o.removeAllSubscriptions=h.K;o.logCustomEvent=h.Jd;o.logPurchase=h.Kd;o.isPushSupported=h.qa;o.isPushBlocked=h.Ka;o.isPushGranted=h.Id;o.isPushPermissionGranted=h.Mb;o.registerAppboyPushMessages=h.ph;o.unregisterAppboyPushMessages=h.Uh;o.setSdkAuthenticationSignature=h.Tb;o.subscribeToSdkAuthenticationFailures=h.Xd;o.trackLocation=h.Sh;o.addSdkMetadata=h.zd;o.stopWebTracking=h.Mh;o.disableSDK=h.bh;o.resumeWebTracking=h.vh;o.enableSDK=h.dh;o.wipeData=h.Xh;o.isDisabled=h.mh;for(yu in o)"object"==typeof gr?gr[yu]=o[yu]:ha[yu]=o[yu];return oi="object"==typeof gr?gr:ha,li=new function(n,i){var l=!1,r=!1,f=!1,o=!1,s=null,h=null,e=null,u=null;return n.Oh(function(t){function h(n){var i,t,r;if(27===n.keyCode&&!f&&0<document.querySelectorAll(".ab-modal-interactions").length){for(n=document.getElementsByClassName("ab-html-message"),i=!1,t=0;t<n.length;t++)r=n[t].contentWindow.document.getElementsByClassName("ab-programmatic-close-button")[0],null!=r&&(ic(r),i=!0);i||(n=document.querySelectorAll(".ab-modal-interactions > .ab-close-button")[0],null!=n&&ic(n))}}if(l=t[c.pg]||!1,r=t[c.og]||t[c.qg]||!1,f=t[c.tg]||!1,o=t[c.fe]||!1,!0===t[c.Zd]&&(o=!0),s=null,e=t[c.be]||null,u=t[c.bg]||null,t[c.Xf]||null!==document.querySelector('link[rel=stylesheet][href="https://use.fontawesome.com/7f85a56ba4.css"]')||(t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("href","https://use.fontawesome.com/7f85a56ba4.css"),document.getElementsByTagName("head")[0].appendChild(t)),t="ab-css-definitions-"+"3.5.0".replace(/\./g,"-"),null==document.getElementById(t)){var i=document.createElement("style");i.innerHTML=ho.$e;i.id=t;null!=e&&i.setAttribute("nonce",e);document.getElementsByTagName("head")[0].appendChild(i)}f||(document.addEventListener("keydown",h,!1),n.Nh(function(){document.removeEventListener("keydown",h)}))}),{Tg:function(){return null==s&&(s=n.vf(function(t){n.display.sf(t)})),s},sf:function(r,s,h){var y,a,w,v,c,b;if(null==r)return!1;if(r instanceof ar)return t.info("User received control for a multivariate test, logging to Braze servers."),n.Qb(r),!0;if(!(r instanceof p))return!1;if(y=r instanceof yi,y&&!r.Th&&!o)return t.error('HTML in-app messages are disabled. Use the "allowUserSuppliedJavascript" option for appboy.initialize to enable these messages.'),n.M(r,st.ge),!1;if(null==s&&(s=document.body),r.Ja()&&0<s.querySelectorAll(".ab-modal-interactions").length)return t.info("Cannot show in-app message '"+r.message+"' because another message is being shown."),n.M(r,st.Bf),!1;if(at.nh()&&(a=at.hh(),a===at.Sa.jc&&r.orientation===hf||a===at.Sa.Zc&&"PORTRAIT"===r.orientation))return t.info("Not showing "+("PORTRAIT"===r.orientation?"portrait":"landscape")+" in-app message '"+r.message+"' because the screen is currently "+(a===at.Sa.jc?"portrait":"landscape")),n.M(r,st.rg),!1;if(!o){if(a=!1,r.buttons&&0<r.buttons.length)for(w=r.buttons,v=0;v<w.length;v++)w[v].clickAction===su&&(a=co(w[v].uri));else r.clickAction===su&&(a=co(r.uri));if(a)return t.error('Javascript click actions are disabled. Use the "allowUserSuppliedJavascript" option for appboy.initialize to enable these actions.'),n.M(r,st.ge),!1}return c=document.createElement("div"),c.className="ab-iam-root v3",c.className+=r.oa(),c.setAttribute("role","complementary"),uf(r)&&(c.id=r.htmlId),u&&(c.style.zIndex=u+1),s.appendChild(c),si(r)&&(s=document.createElement("style"),s.innerHTML=r.css,s.id=ff(r),null!=e&&s.setAttribute("nonce",e),document.getElementsByTagName("head")[0].appendChild(s)),b=r instanceof pr,s=r.aa(n,i,function(){n.display.Vd()},function(t){var i,s,e,o;if(r.Ja()&&r.xf())i=document.createElement("div"),i.className="ab-page-blocker",si(r)||(i.style.backgroundColor=fi(r.frameColor)),u&&(i.style.zIndex=u),c.appendChild(i),f||(s=(new Date).valueOf(),i.onclick=function(n){200<(new Date).valueOf()-s&&(vi(r,t),n.stopPropagation())}),c.appendChild(t),t.focus(),r.Kc(c);else if(b){for(e=document.querySelectorAll(".ab-slideup"),i=null,o=e.length-1;0<=o;o--)if(e[o]!==t){i=e[o];break}"TOP"===r.slideFrom?(e=0,null!=i&&(e=i.offsetTop+i.offsetHeight),t.style.top=Math.max(e,0)+"px"):(e=0,null!=i&&(e=(window.innerHeight||document.documentElement.clientHeight)-i.offsetTop),t.style.bottom=Math.max(e,0)+"px")}else y&&!f&&t.contentWindow.addEventListener("keydown",function(n){27===n.keyCode&&r.Ye()});n.Qb(r);r.dismissType===fo&&setTimeout(function(){c.contains(t)&&vi(r,t)},r.duration);"function"==typeof h&&h()},l,u),(y||b)&&(c.appendChild(s),r.Kc(c)),!0},Vd:function(i,u,f){function c(t){for(var u=t.querySelectorAll(".ab-feed"),i=null,r=0;r<u.length;r++)u[r].parentNode===t&&(i=u[r]);null!=i?(wr(n,i),i.parentNode.replaceChild(o,i)):t.appendChild(o);setTimeout(function(){o.className=o.className.replace("ab-hide","ab-show")},0);l&&o.focus();n.jf();lf(e,n,o)}function s(n,t){var u,i,f,r;if(null==t)return n;for(u=[],i=0;i<t.length;i++)u.push(t[i].toLowerCase());for(t=[],i=0;i<n.length;i++){for(f=[],r=0;r<n[i].categories.length;r++)f.push(n[i].categories[r].toLowerCase());0<pa(f,u).length&&t.push(n[i])}return t}var l=!1,h,e,o,a;null==i&&(i=document.body,l=!0);h=!1;e=null;null==u?(e=n.Fc(),af(e,s(e.cards,f),e.lastUpdated,null,n,r),h=!0):e=new ci(s(u,f),new Date);o=e.aa(n,r);h&&((null==e.lastUpdated||6e4<(new Date).valueOf()-e.lastUpdated.valueOf())&&(t.info("Cached feed was older than max TTL of 60000 ms, requesting an update from the server."),ao(e,n,o)),a=(new Date).valueOf(),u=n.uf(function(t){var u=o.querySelectorAll(".ab-refresh-button")[0],i,h;null!=u&&(i=500,h=parseInt(o.getAttribute(vf)),i=isNaN(h)?i-((new Date).valueOf()-a):i-((new Date).valueOf()-h),setTimeout(function(){u.className=u.className.replace(/fa-spin/g,"")},Math.max(i,0)));af(e,s(t.cards,f),t.lastUpdated,o,n,r)}),o.setAttribute(vo,u));null!=i?c(i):window.onload=function(n){return function(){"function"==typeof n&&n();c(document.body)}}(window.onload)},af:function(){for(var i=document.querySelectorAll(".ab-feed"),t=0;t<i.length;t++)wr(n,i[t])},Rh:function(t,i,r){0<document.querySelectorAll(".ab-feed").length?n.display.af():n.display.Vd(t,i,r)},rf:function(i,u){function o(t){for(var u=t.querySelectorAll(".ab-feed"),i=null,r=0;r<u.length;r++)u[r].parentNode===t&&(i=u[r]);null!=i?(wr(n,i),i.parentNode.replaceChild(f,i)):t.appendChild(f);setTimeout(function(){f.className=f.className.replace("ab-hide","ab-show")},0);s&&f.focus();n.hf();lf(e,n,f)}var s=!1,e,f,c,l;null==i&&(i=document.body,s=!0);e=null;e=n.pb();"function"==typeof u&&af(e,u(e.cards.slice()),e.lastUpdated,null,n,r);f=e.aa(n,r);(null==e.lastUpdated||6e4<(new Date).valueOf()-e.lastUpdated.valueOf())&&(null==h||6e4<(new Date).valueOf()-h.valueOf())&&(t.info("Cached content cards were older than max TTL of 60000 ms, requesting a sync from the server."),ao(e,n,f),h=(new Date).valueOf());c=(new Date).valueOf();l=n.tf(function(t){var o=f.querySelectorAll(".ab-refresh-button")[0],i,s;null!=o&&(i=500,s=parseInt(f.getAttribute(vf)),i=isNaN(s)?i-((new Date).valueOf()-c):i-((new Date).valueOf()-s),setTimeout(function(){o.className=o.className.replace(/fa-spin/g,"")},Math.max(i,0)));i=t.cards;"function"==typeof u&&(i=u(i.slice()));af(e,i,t.lastUpdated,f,n,r)});f.setAttribute(vo,l);null!=i?o(i):window.onload=function(n){return function(){"function"==typeof n&&n();o(document.body)}}(window.onload)},gf:function(t){for(var r=document.querySelectorAll(".ab-feed"),i=0;i<r.length;i++)(null==t||null!=t&&r[i].parentNode===t)&&wr(n,r[i])},Qh:function(t,i){0<document.querySelectorAll(".ab-feed").length?n.display.gf():n.display.rf(t,i)}}}(h,oi),oi.display={},oi.display.automaticallyShowNewInAppMessages=li.Tg,oi.display.showInAppMessage=li.sf,oi.display.showFeed=li.Vd,oi.display.destroyFeed=li.af,oi.display.toggleFeed=li.Rh,oi.display.showContentCards=li.rf,oi.display.hideContentCards=li.gf,oi.display.toggleContentCards=li.Qh,h.display=li,gr})}).call(window)});window.appboy=l;var t="Appboy",r="v3",u=28,a="3.0.8",i={PageView:3,PageEvent:4,Commerce:16},h={"01":"sdk.iad-01.braze.com","02":"sdk.iad-02.braze.com","03":"sdk.iad-03.braze.com","04":"sdk.iad-04.braze.com","05":"sdk.iad-05.braze.com","06":"sdk.iad-06.braze.com","08":"sdk.iad-08.braze.com",EU:"sdk.fra-01.braze.eu",EU02:"sdk.fra-02.braze.eu"},f=function(){function nt(t){var i=!1;return t.ProductAction.ProductList&&t.ProductAction.ProductList.forEach(function(r){var u,h,e,o;if(r.Attributes==null&&(r.Attributes={}),r.Attributes.Sku=r.Sku,u=n.forwardSkuAsProductName==="True"?s(String(r.Sku)):s(String(r.Name)),h=p(r.Attributes,{"Transaction Id":t.ProductAction.TransactionId}),e=y(h),e==null)return"Properties did not pass validation for "+u;o=parseFloat(r.Price);f("appboy.logPurchase",u,o,t.CurrencyCode,r.Quantity,e);i=appboy.logPurchase(u,o,t.CurrencyCode,r.Quantity,e)}),i===!0}function tt(t){var i,r,e,u=t.EventAttributes||{},o;return u.hostname=window.location.hostname,u.title=window.document.title,e=n.setEventNameForPageView==="True"?t.EventName:window.location.pathname,i=s(e),r=y(u),f("appboy.logCustomEvent",i,r),o=appboy.logCustomEvent(i,r),o===!0}function w(n,i){var u,r,e;if(n==="dob")if(i instanceof Date)f("appoy.getUser().setDateOfBirth",i.getFullYear(),i.getMonth()+1,i.getDate()),appboy.getUser().setDateOfBirth(i.getFullYear(),i.getMonth()+1,i.getDate());else return"Can't call removeUserAttribute or setUserAttribute on forwarder "+t+", removeUserAttribute or setUserAttribute must set 'dob' to a date";else if(n==="$Age")if(typeof i=="number")u=(new Date).getFullYear()-i,f("appboy.getUser().setDateOfBirth",u,1,1),appboy.getUser().setDateOfBirth(u,1,1);else return"$Age must be a number";else{if(i==null&&(i=""),!(typeof i=="string"))return"Can't call removeUserAttribute or setUserAttribute on forwarder "+t+", removeUserAttribute or setUserAttribute must set this value to a string";if(r=[],r.push(i),f("appboy.getUser()."+l[n],r),e=appboy.getUser(),!e[l[n]].apply(e,r))return"removeUserAttribute or setUserAttribute on forwarder "+t+" failed to call, an invalid attribute value was passed in"}}function b(n){var t=s(n.EventName),i=y(n.EventAttributes),r;return i==null?"Properties did not pass validation for "+t:(f("appboy.logCustomEvent",t,i),r=appboy.logCustomEvent(t,i),r===!0)}function it(r){var u=!1,f,e,o;if(r.EventDataType==i.Commerce&&r.EventCategory==mParticle.CommerceEventType.ProductPurchase)u=nt(r);else if(r.EventDataType==i.Commerce){if(f=mParticle.eCommerce.expandCommerceEvent(r),f!=null){for(e=0;e<f.length;e++){o=!1;try{u=b(f[e]);u===!0&&(o=!0)}catch(s){return"Error logging page event"+s.message}}u=o===!0}}else if(r.EventDataType==i.PageEvent)u=b(r);else if(r.EventDataType==i.PageView)n.forwardScreenViews=="True"&&(u=tt(r));else return"Can't send event type to forwarder "+t+", event type is not supported";u===!0&&v&&v(c,r)}function rt(n){if(n in l)return w(n,null);var t=s(n);f("appboy.getUser().setCustomUserAttribute",t,null);appboy.getUser().setCustomUserAttribute(t,null)}function ut(n,t){if(n in l)return w(n,t);var r=s(n),i=s(t);if(t!=null&&i==null)return"Value did not pass validation for "+n;f("appboy.getUser().setCustomUserAttribute",r,i);appboy.getUser().setCustomUserAttribute(r,i)}function ft(n,i){if(window.mParticle.getVersion().split(".")[0]==="1")if(i==window.mParticle.IdentityType.CustomerId)f("appboy.changeUser",n),appboy.changeUser(n);else if(i==window.mParticle.IdentityType.Email)f("appboy.getUser().setEmail",n),appboy.getUser().setEmail(n);else return"Can't call setUserIdentity on forwarder "+t+", identity type not supported."}function et(t){var r,i=t.getUserIdentities().userIdentities;r=n.userIdentificationType==="MPID"?t.getMPID():i[n.userIdentificationType.toLowerCase()];f("appboy.changeUser",r);appboy.changeUser(r);i.email&&(f("appboy.getUser().setEmail",i.email),appboy.getUser().setEmail(i.email))}function ot(){appboy.subscribeToInAppMessage(function(t){var r=!0,i=!1,u;t instanceof appboy.InAppMessage&&(u=t.extras["msg-id"],u=="push-primer"&&(i=!0,(!appboy.isPushSupported()||appboy.isPushPermissionGranted()||appboy.isPushBlocked())&&(r=!1),t.buttons[0]!=null&&t.buttons[0].subscribeToClickedEvent(function(){appboy.registerAppboyPushMessages()})));(i&&r||!i&&n.register_inapp==="True")&&appboy.display.showInAppMessage(t)})}function st(n){appboy.openSession();n.softPushCustomEventName&&(f("appboy.logCustomEvent",n.softPushCustomEventName),appboy.logCustomEvent(n.softPushCustomEventName))}function ht(i,r,f,e,s,l,y,p,w){var b,g,nt;console.warn("mParticle now supports V4 of the Braze SDK. This is an opt-in update, and we recommend you opt in to get the latest bug fixes and features from Braze.  Please see https://docs.mparticle.com/integrations/braze/event for more information and necessary upgrade steps when you decide to opt in.");c.logger||(c.logger={verbose:function(){}});a=w;try{if(n=i,v=r,o.sessionTimeoutInSeconds=n.ABKSessionTimeoutKey||1800,o.sdkFlavor="mparticle",o.enableHtmlInAppMessages=n.enableHtmlInAppMessages=="True",o.doNotLoadFontAwesome=n.doNotLoadFontAwesome=="True",n.safariWebsitePushId&&(o.safariWebsitePushId=n.safariWebsitePushId),n.serviceWorkerLocation&&(o.serviceWorkerLocation=n.serviceWorkerLocation),b=n.cluster||n.dataCenterLocation,h.hasOwnProperty(b)?o.baseUrl=h[b]:(g=d(b),g&&(o.baseUrl=g)),a&&a[u.toString()]&&(nt=a[u.toString()],typeof nt.initOptions=="function"&&nt.initOptions(o)),f!==!0)appboy.initialize(n.apiKey,o),k(n);else{if(!appboy.initialize(n.apiKey,o))return"Failed to initialize: "+t;k(n)}return"Successfully initialized: "+t}catch(tt){return"Failed to initialize: "+t+" with error: "+tt.message}}function k(n){appboy.addSdkMetadata(["mp"]);ot();st(n)}function d(n){var i,t;if(n){i=n.replace(/&amp;/g,"&");i=n.replace(/&quot;/g,'"');try{if(t=JSON.parse(i),t&&t.JS)return"https://"+t.JS+"/api/v3"}catch(r){console.log("Unable to configure custom Appboy cluster: "+r.toString())}}}function g(n){return typeof n=="string"?n.substr(0,1)==="$"?n.replace(/^\$+/g,""):n:null}function s(n){var t,r,u,i;if(typeof n=="string")return g(n);if(Array.isArray(n)){t=[];for(r in n){if(u=n[r],i=g(u),i==null)return null;t.push(i)}return t}return n}function y(n){var r={},t,u,f,i;if(n==null&&(n={}),typeof n!="object")return null;for(i in n)t=n[i],u=s(i),f=typeof t=="string"?s(t):t,r[u]=f;return r}function f(n){var t="mParticle - Braze Web Kit log:",i=Array.prototype.slice.call(arguments,1);t+="\n"+n+":\n";i.forEach(function(n){t+=e(n)||Array.isArray(n)?JSON.stringify(n):n;t+=",\n"});c.logger.verbose(t)}var c=this,n,o={},v,a,l;c.name=t;c.suffix=r;l={$LastName:"setLastName",$FirstName:"setFirstName",Email:"setEmail",$Gender:"setGender",$Country:"setCountry",$City:"setHomeCity",$Mobile:"setPhoneNumber",$Age:"setDateOfBirth",last_name:"setLastName",first_name:"setFirstName",email:"setEmail",gender:"setGender",country:"setCountry",home_city:"setHomeCity",email_subscribe:"setEmailNotificationSubscriptionType",push_subscribe:"setPushNotificationSubscriptionType",phone:"setPhoneNumber",image_url:"setAvatarImageUrl",dob:"setDateOfBirth"};this.init=ht;this.process=it;this.setUserIdentity=ft;this.setUserAttribute=ut;this.onUserIdentified=et;this.removeUserAttribute=rt;this.decodeClusterSetting=d};window&&window.mParticle&&window.mParticle.addForwarder&&window.mParticle.addForwarder({name:t,constructor:f,getId:v,suffix:r});var o={register:y,getVersion:function(){return a}},w=o.register,b=o.getVersion;return n.default=o,n.getVersion=b,n.register=w,n}({}) ;;
; var mpBrazeKitV4=function(n){function nc(n){var i=n.default,t;return typeof i=="function"?(t=function(){return i.apply(this,arguments)},t.prototype=i.prototype):t={},Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}function gr(n){const i=[];let t;for(const r in n)t=r,Object.prototype.hasOwnProperty.call(n,t)&&void 0!==n[t]&&i.push(n[t]);return i}function ri(n,t,r,u){const f=gr(n);return-1!==f.indexOf(t)||(i.error(`${r} Valid values from ${u} are "${f.join('"/"')}".`),!1)}function d(n){return Array.isArray?Array.isArray(n):"[object Array]"===Object.prototype.toString.call(n)}function lt(n){return"[object Date]"===Object.prototype.toString.call(n)}function lr(n){return"[object Object]"===Object.prototype.toString.call(n)}function uc(n){null==n&&(n=[]);const t=[],i=arguments.length;for(let r=0,u=n.length;r<u;r++){const u=n[r];if(-1===t.indexOf(u)){let f=1;for(f=1;f<i&&-1!==arguments[f].indexOf(u);f++);f===i&&t.push(u)}}return t}function ft(n){const t=[];for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(i);return t}function tr(n,t){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;const u=n.toString();if(u!==t.toString())return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!=+n?+t!=+t:0==+n?1/+n==1/t:+n==+t;case"[object Date]":case"[object Boolean]":return+n==+t}const e="[object Array]"===u;if(!e){if("object"!=typeof n||"object"!=typeof t)return!1;const i=n.constructor,r=t.constructor;if(i!==r&&!("function"==typeof i&&i instanceof i&&"function"==typeof r&&r instanceof r)&&"constructor"in n&&"constructor"in t)return!1}const r=[],f=[];let i=r.length;for(;i--;)if(r[i]===n)return f[i]===t;if(r.push(n),f.push(t),e){if(i=n.length,i!==t.length)return!1;for(;i--;)if(!tr(n[i],t[i]))return!1}else{const u=ft(n);let r;if(i=u.length,ft(t).length!==i)return!1;for(;i--;)if(r=u[i],!Object.prototype.hasOwnProperty.call(t,r)||!tr(n[r],t[r]))return!1}return r.pop(),f.pop(),!0}function ar(n,t=!1){let i=n/1e3;return t&&(i=Math.floor(i)),i}function fc(n){return 1e3*n}function at(n){if(null==n)return null;const t=parseInt(n.toString());return isNaN(t)?null:new Date(1e3*t)}function nu(n){return null!=n&&lt(n)?n.toISOString().replace(/\.[0-9]{3}Z$/,""):n}function ir(n){return null==n||""===n?null:new Date(n)}function ec(n){return null==n||""===n?(new Date).valueOf():n}function pe(n){return((new Date).valueOf()-n.valueOf())/1e3}function we(n){return(n.valueOf()-(new Date).valueOf())/1e3}function nf(n){const t=null==n?void 0:n.j(r.C._E);let i;return t&&(i={label:t.l,name:t.a}),i}function tu(n){let t=n.length;for(let i=n.length-1;i>=0;i--){const r=n.charCodeAt(i);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2);r>=56320&&r<=57343&&i--}return t}function vc(n){try{n=n.replace(/-/g,"+").replace(/_/g,"/");const t=window.atob(n),i=new Uint8Array(t.length);for(let n=0;n<t.length;n++)i[n]=t.charCodeAt(n);const r=new Uint16Array(i.buffer);return String.fromCharCode(...r)}catch(n){return i.error("Unable to decode Base64: "+n),null}}function rf(n){try{const u=n.match(pr),t=u?u[0].length:null,r=t?n.substring(t):null;if(null==t||t>n.length-1||!r)return void i.error(`Did not find base64 encoded brazeAction in url to process : ${n}`);const f=vc(r);return f?JSON.parse(f):void i.error(`Failed to decode base64 encoded brazeAction: ${r}`)}catch(t){return void i.error(`Failed to process brazeAction URL ${n} : ${yt(t)}`)}}function to(n,t){let i=!1;if(t)for(const r of t)if(i=i||n(r),i)return!0;return!1}function uf(n){const t=s.properties.type,i=s.properties.oo;try{if(null==n)return!0;const r=n[t];return r===s.types.ro?to(uf,n[i]):!nl(r)}catch(n){return!0}}function io(n){if(!n||!ro(n))return!1;const i=s.properties.type,r=s.properties.oo,t=n[i];return t===s.types.ro?to(io,n[r]):t===s.types.requestPushPermission}function ot(n,t,r){const u=null!=n&&"string"==typeof n&&(""===n||null!=n.match(yc));return u||i.error(`Cannot ${t} because ${r} "${n}" is invalid.`),u}function ff(n){return null!=n&&n.match(pc)&&-1===wc.indexOf(n)&&i.warn("Custom attribute keys cannot contain '$' or '.'"),ot(n,"set custom user attribute","the given key")}function ef(n){const t=typeof n;return null==n||"number"===t||"boolean"===t||lt(n)||"string"===t}function sf(n,t,r){const u=-1!==r;if(u&&r>50)return i.error("Nested attributes cannot be more than 50 levels deep."),!1;const f=u?r+1:-1;if(d(n)&&d(t)){for(let i=0;i<n.length&&i<t.length;i++)if(lt(n[i])&&(t[i]=nu(n[i])),!sf(n[i],t[i],f))return!1}else{if(!lr(n))return ef(n);for(const i of ft(n)){const r=n[i];if(u&&!ff(i)||(lt(r)&&(t[i]=nu(r)),!sf(r,t[i],f)))return!1}}return!0}function kc(n,t,r,u,f){let e;return e=lr(n)||d(n)?sf(n,t,f?1:-1):ef(n),e||i.error(`Cannot ${r} because ${u} "${n}" is invalid.`),e}function st(n,t,r,u=!1){const f="string"==typeof n||null===n&&u;return f||i.error(`Cannot ${t} because ${r} "${n}" is invalid.`),f}function iu(n,t,r,u,f){if(null==n&&(n={}),"object"!=typeof n||d(n))return i.error(`${t} requires that ${r} be an object. Ignoring ${f}.`),[!1,null];let o,s;t===or?(o=76800,s="75KB"):(o=51200,s="50KB");const h=JSON.stringify(n);if(tu(h)>o)return i.error(`Could not ${u} because ${r} was greater than the max size of ${s}.`),[!1,null];let e;try{e=JSON.parse(h)}catch(n){return i.error(`Could not ${u} because ${r} did not contain valid JSON.`),[!1,null]}for(const i in n){if(t===or&&!ff(i))return[!1,null];if(!ot(i,u,`the ${f} property name`))return[!1,null];const r=n[i];if(t!==or&&null==r){delete n[i];delete e[i];continue}if(lt(r)&&(e[i]=nu(r)),!kc(r,e[i],u,`the ${f} property "${i}"`,t===or))return[!1,null]}return[!0,e]}function dc(n,t){let r=!1,u=!1;const f=()=>{i.error("Custom attribute arrays must be either string arrays or object arrays.")};for(const i of t)if("string"==typeof i){if(u)return f(),[!1,!1];if(!ot(i,`set custom user attribute "${n}"`,"the element in the given array"))return[!1,!1];r=!0}else{if(!lr(i))return f(),[!1,!1];if(r)return f(),[!1,!1];if(!iu(i,or,"attribute value",`set custom user attribute "${n}"`,"custom user attribute"))return[!1,!1];u=!0}return[r,u]}function gc(n){return"string"==typeof n&&null!=n.toLowerCase().match(bc)}function ro(n){if(!(s.properties.type in n))return!1;switch(n[s.properties.type]){case s.types.ro:if(s.properties.oo in n)return!0;break;case s.types.logCustomEvent:case s.types.setEmailNotificationSubscriptionType:case s.types.setPushNotificationSubscriptionType:case s.types.setCustomUserAttribute:case s.types.addToSubscriptionGroup:case s.types.removeFromSubscriptionGroup:case s.types.addToCustomAttributeArray:case s.types.removeFromCustomAttributeArray:case s.types.no:case s.types.ao:if(s.properties.eo in n)return!0;break;case s.types.requestPushPermission:return!0;default:return!1}return!1}function nl(n){let t=!1;return Object.keys(s.types).forEach(i=>{s.types[i]!==n.toString()||(t=!0)}),t}function hl(n,t=!1,i=!1,r=!1){if(null==n)return!1;t=t||!1;i=i||!1;const u=n.getBoundingClientRect();return null!=u&&(u.top>=0&&u.top<=(window.innerHeight||document.documentElement.clientHeight)||!t)&&(u.left>=0||!r)&&(u.bottom>=0&&u.bottom<=(window.innerHeight||document.documentElement.clientHeight)||!i)&&(u.right<=(window.innerWidth||document.documentElement.clientWidth)||!r)}function oo(){if(null==rr.dc){rr.dc=!1;try{const n=Object.defineProperty({},"passive",{get:()=>{rr.dc=!0}});window.addEventListener("testPassive",()=>{},n);window.removeEventListener("testPassive",()=>{},n)}catch(n){i.error(yt(n))}}return rr.dc}function br(n,t,i=()=>{}){n.addEventListener(t,i,!!oo()&&{passive:!0})}function cl(n){return rr.po(n,!0,!1,!1)}function ll(n){return rr.po(n,!1,!0,!1)}function so(n){if(n.onclick){const t=document.createEvent("MouseEvents");t.initEvent("click",!0,!0);n.onclick.apply(n,[t])}}function kr(n,t,i){let r=null,u=null;br(n,"touchstart",n=>{r=n.touches[0].clientX,u=n.touches[0].clientY});br(n,"touchmove",f=>{if(null!=r&&null!=u){const e=r-f.touches[0].clientX,o=u-f.touches[0].clientY;Math.abs(e)>Math.abs(o)&&Math.abs(e)>=25?((e>0&&t===ei.U||e<0&&t===ei.V)&&i(f),r=null,u=null):Math.abs(o)>=25&&((o>0&&t===ei.Oe&&n.scrollTop===n.scrollHeight-n.offsetHeight||o<0&&t===ei.Qe&&0===n.scrollTop)&&i(f),r=null,u=null)}})}function ho(n,t,i){const u="http://www.w3.org/2000/svg",r=document.createElementNS(u,"svg");r.setAttribute("viewBox",n);r.setAttribute("xmlns",u);const f=document.createElementNS(u,"path");return f.setAttribute("d",t),null!=i&&f.setAttribute("fill",i),r.appendChild(f),r}function lo(n){if(!n)return null;if(n.is_control)return vi.fromJson(n);let r=n.type;null!=r&&(r=r.toUpperCase());const o=n.message,w=n.text_align_message,yt=n.slide_from,s=n.extras,h=n.trigger_id,b=n.click_action,k=n.uri,d=n.open_target,c=n.message_close,l=n.duration,g=n.icon,nt=n.image_url,st=n.image_style,tt=n.icon_color,it=n.icon_bg_color,rt=n.bg_color,ut=n.text_color,ft=n.close_btn_color,ct=n.header,lt=n.text_align_header,at=n.header_text_color,et=n.frame_color,ot=[];let a=n.btns;null==a&&(a=[]);for(let n=0;n<a.length;n++)ot.push(di.fromJson(a[n]));const vt=n.crop_type,pt=n.orientation,v=n.animate_in,y=n.animate_out;let u=n.html_id,f=n.css;null!=u&&""!==u&&null!=f&&""!==f||(u=void 0,f=void 0);const p=n.message_extras;let e;if(r===pi.it||r===t.Be.Ue)e=new pi(o,w,s,h,b,k,d,c,l,g,nt,st,tt,it,rt,ut,ft,v,y,ct,lt,at,et,ot,vt,u,f,p);else if(r===oi.it)e=new oi(o,w,s,h,b,k,d,c,l,g,nt,st,tt,it,rt,ut,ft,v,y,ct,lt,at,et,ot,vt,pt,u,f,p);else if(r===si.it)e=new si(o,w,yt,s,h,b,k,d,c,l,g,nt,tt,it,rt,ut,ft,v,y,u,f,p);else{if(r!==ht.it&&r!==t.Be.Me&&r!==t.Be.Ve)return void i.error("Ignoring message with unknown type "+r);{const t=n.message_fields;e=new ht(o,s,h,c,l,v,y,et,u,f,t,p);e.trusted=n.trusted||!1}}return e.xe=r,e}function ao(n){const t=[];for(const i of n)t.push(new di(i.text,i.backgroundColor,i.textColor,i.borderColor,i.clickAction,i.uri,i.id));return t}function vo(n,t,i){const r=n||document.querySelector("head"),f=`ab-${t}-css-definitions-${"5.5.0".replace(/\./g,"-")}`;if(r){const e=r.ownerDocument||document;if(null==e.getElementById(f)){const n=e.createElement("style");n.innerHTML=i||"";n.id=f;const t=u.nn(h.bo);null!=t&&n.setAttribute("nonce",t);r.appendChild(n)}}}function yo(){if(!u.nn(h.Mo)){const n="https://use.fontawesome.com/7f85a56ba4.css";if(!(null!==document.querySelector('link[rel=stylesheet][href="'+n+'"]'))){const t=document.createElement("link");t.setAttribute("rel","stylesheet");t.setAttribute("href",n);document.getElementsByTagName("head")[0].appendChild(t)}}}function al(n){vo(n,"feed","body>.ab-feed{position:fixed;top:0;right:0;bottom:0;width:421px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}body>.ab-feed .ab-feed-body{position:absolute;top:0;left:0;right:0;border:none;border-left:1px solid #d0d0d0;padding-top:70px;min-height:100%}body>.ab-feed .ab-initial-spinner{float:none}body>.ab-feed .ab-no-cards-message{position:absolute;width:100%;margin-left:-20px;top:40%}.ab-feed{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 1px 7px 1px rgba(66,82,113,.15);-moz-box-shadow:0 1px 7px 1px rgba(66,82,113,.15);box-shadow:0 1px 7px 1px rgba(66,82,113,.15);width:402px;background-color:#eee;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;font-size:13px;line-height:130%;letter-spacing:normal;overflow-y:auto;overflow-x:visible;z-index:9011;-webkit-overflow-scrolling:touch}.ab-feed :focus,.ab-feed:focus{outline:0}.ab-feed .ab-feed-body{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border:1px solid #d0d0d0;border-top:none;padding:20px 20px 0 20px}.ab-feed.ab-effect-slide{-webkit-transform:translateX(450px);-moz-transform:translateX(450px);-ms-transform:translateX(450px);transform:translateX(450px);-webkit-transition:transform .5s ease-in-out;-moz-transition:transform .5s ease-in-out;-o-transition:transform .5s ease-in-out;transition:transform .5s ease-in-out}.ab-feed.ab-effect-slide.ab-show{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}.ab-feed.ab-effect-slide.ab-hide{-webkit-transform:translateX(450px);-moz-transform:translateX(450px);-ms-transform:translateX(450px);transform:translateX(450px)}.ab-feed .ab-card{position:relative;-webkit-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);-moz-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);box-shadow:0 2px 3px 0 rgba(178,178,178,.5);-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;width:100%;border:1px solid #d0d0d0;margin-bottom:20px;overflow:hidden;background-color:#fff;-webkit-transition:height .4s ease-in-out,margin .4s ease-in-out;-moz-transition:height .4s ease-in-out,margin .4s ease-in-out;-o-transition:height .4s ease-in-out,margin .4s ease-in-out;transition:height .4s ease-in-out,margin .4s ease-in-out}.ab-feed .ab-card .ab-pinned-indicator{position:absolute;right:0;top:0;margin-right:-1px;width:0;height:0;border-style:solid;border-width:0 24px 24px 0;border-color:transparent #1676d0 transparent transparent}.ab-feed .ab-card .ab-pinned-indicator .fa-star{position:absolute;right:-21px;top:2px;font-size:9px;color:#fff}.ab-feed .ab-card.ab-effect-card.ab-hide{-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out;transition:all .5s ease-in-out}.ab-feed .ab-card.ab-effect-card.ab-hide.ab-swiped-left{-webkit-transform:translateX(-450px);-moz-transform:translateX(-450px);-ms-transform:translateX(-450px);transform:translateX(-450px)}.ab-feed .ab-card.ab-effect-card.ab-hide.ab-swiped-right{-webkit-transform:translateX(450px);-moz-transform:translateX(450px);-ms-transform:translateX(450px);transform:translateX(450px)}.ab-feed .ab-card.ab-effect-card.ab-hide:not(.ab-swiped-left):not(.ab-swiped-right){opacity:0}.ab-feed .ab-card .ab-close-button{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;background-color:transparent;background-size:15px;border:none;width:15px;min-width:15px;height:15px;cursor:pointer;display:block;font-size:15px;line-height:0;padding-top:15px;padding-right:15px;padding-left:15px;padding-bottom:15px;position:absolute;top:0;z-index:9021;opacity:0;-webkit-transition:.5s;-moz-transition:.5s;-o-transition:.5s;transition:.5s}.ab-feed .ab-card .ab-close-button[dir=rtl]{left:0}.ab-feed .ab-card .ab-close-button[dir=ltr]{right:0}.ab-feed .ab-card .ab-close-button svg{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;fill:#9b9b9b;height:auto;width:100%}.ab-feed .ab-card .ab-close-button svg.ab-chevron{display:none}.ab-feed .ab-card .ab-close-button:active{background-color:transparent}.ab-feed .ab-card .ab-close-button:focus{background-color:transparent}.ab-feed .ab-card .ab-close-button:hover{background-color:transparent}.ab-feed .ab-card .ab-close-button:hover svg{fill-opacity:.8}.ab-feed .ab-card .ab-close-button:hover{opacity:1}.ab-feed .ab-card .ab-close-button:focus{opacity:1}.ab-feed .ab-card a{float:none;color:inherit;text-decoration:none}.ab-feed .ab-card a:hover{text-decoration:underline}.ab-feed .ab-card .ab-image-area{float:none;display:inline-block;vertical-align:top;line-height:0;overflow:hidden;width:100%;-webkit-box-sizing:initial;-moz-box-sizing:initial;box-sizing:initial}.ab-feed .ab-card .ab-image-area img{float:none;height:auto;width:100%}.ab-feed .ab-card.ab-image-only .ab-card-body{display:none}.ab-feed .ab-card .ab-card-body{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:inline-block;width:100%;position:relative}.ab-feed .ab-card .ab-unread-indicator{position:absolute;bottom:0;margin-right:-1px;width:100%;height:5px;background-color:#1676d0}.ab-feed .ab-card .ab-unread-indicator.read{background-color:transparent}.ab-feed .ab-card .ab-title{float:none;letter-spacing:0;margin:0;font-weight:700;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;display:block;overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;font-size:18px;line-height:130%;padding:20px 25px 0 25px}.ab-feed .ab-card .ab-description{float:none;color:#545454;padding:15px 25px 20px 25px;word-wrap:break-word;white-space:pre-wrap}.ab-feed .ab-card .ab-description.ab-no-title{padding-top:20px}.ab-feed .ab-card .ab-url-area{float:none;color:#1676d0;margin-top:12px;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif}.ab-feed .ab-card.ab-classic-card .ab-card-body{min-height:40px;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.ab-feed .ab-card.ab-classic-card.with-image .ab-card-body{min-height:100px}.ab-feed .ab-card.ab-classic-card.with-image .ab-card-body[dir=ltr]{padding-left:72px}.ab-feed .ab-card.ab-classic-card.with-image .ab-card-body[dir=rtl]{padding-right:72px}.ab-feed .ab-card.ab-classic-card.with-image .ab-image-area{width:60px;height:60px;padding:20px 0 25px 25px;position:absolute}.ab-feed .ab-card.ab-classic-card.with-image .ab-image-area[dir=rtl]{padding:20px 25px 25px 0}.ab-feed .ab-card.ab-classic-card.with-image .ab-image-area img{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;max-width:100%;max-height:100%;width:auto;height:auto}.ab-feed .ab-card.ab-classic-card.with-image .ab-title{background-color:transparent;font-size:16px}.ab-feed .ab-card.ab-classic-card.with-image .ab-description{padding-top:10px}.ab-feed .ab-card.ab-control-card{height:0;width:0;margin:0;border:0}.ab-feed .ab-feed-buttons-wrapper{float:none;position:relative;background-color:#282828;height:50px;-webkit-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);-moz-box-shadow:0 2px 3px 0 rgba(178,178,178,.5);box-shadow:0 2px 3px 0 rgba(178,178,178,.5);z-index:1}.ab-feed .ab-feed-buttons-wrapper .ab-close-button,.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button{float:none;cursor:pointer;color:#fff;font-size:18px;padding:16px;-webkit-transition:.2s;-moz-transition:.2s;-o-transition:.2s;transition:.2s}.ab-feed .ab-feed-buttons-wrapper .ab-close-button:hover,.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button:hover{font-size:22px}.ab-feed .ab-feed-buttons-wrapper .ab-close-button{float:right}.ab-feed .ab-feed-buttons-wrapper .ab-close-button:hover{padding-top:12px;padding-right:14px}.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button{padding-left:17px}.ab-feed .ab-feed-buttons-wrapper .ab-refresh-button:hover{padding-top:13px;padding-left:14px}.ab-feed .ab-no-cards-message{text-align:center;margin-bottom:20px}@media (max-width:600px){body>.ab-feed{width:100%}}")}function po(){al();yo()}function vl(n){vo(n,"iam",".ab-pause-scrolling,body.ab-pause-scrolling,html.ab-pause-scrolling{overflow:hidden;touch-action:none}.ab-iam-root.v3{position:fixed;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:9011;-webkit-tap-highlight-color:transparent}.ab-iam-root.v3:focus{outline:0}.ab-iam-root.v3.ab-effect-fullscreen,.ab-iam-root.v3.ab-effect-html,.ab-iam-root.v3.ab-effect-modal{opacity:0}.ab-iam-root.v3.ab-effect-fullscreen.ab-show,.ab-iam-root.v3.ab-effect-html.ab-show,.ab-iam-root.v3.ab-effect-modal.ab-show{opacity:1}.ab-iam-root.v3.ab-effect-fullscreen.ab-show.ab-animate-in,.ab-iam-root.v3.ab-effect-html.ab-show.ab-animate-in,.ab-iam-root.v3.ab-effect-modal.ab-show.ab-animate-in{-webkit-transition:opacity .5s;-moz-transition:opacity .5s;-o-transition:opacity .5s;transition:opacity .5s}.ab-iam-root.v3.ab-effect-fullscreen.ab-hide,.ab-iam-root.v3.ab-effect-html.ab-hide,.ab-iam-root.v3.ab-effect-modal.ab-hide{opacity:0}.ab-iam-root.v3.ab-effect-fullscreen.ab-hide.ab-animate-out,.ab-iam-root.v3.ab-effect-html.ab-hide.ab-animate-out,.ab-iam-root.v3.ab-effect-modal.ab-hide.ab-animate-out{-webkit-transition:opacity .5s;-moz-transition:opacity .5s;-o-transition:opacity .5s;transition:opacity .5s}.ab-iam-root.v3.ab-effect-slide .ab-in-app-message{-webkit-transform:translateX(535px);-moz-transform:translateX(535px);-ms-transform:translateX(535px);transform:translateX(535px)}.ab-iam-root.v3.ab-effect-slide.ab-show .ab-in-app-message{-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);transform:translateX(0)}.ab-iam-root.v3.ab-effect-slide.ab-show.ab-animate-in .ab-in-app-message{-webkit-transition:transform .5s ease-in-out;-moz-transition:transform .5s ease-in-out;-o-transition:transform .5s ease-in-out;transition:transform .5s ease-in-out}.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message{-webkit-transform:translateX(535px);-moz-transform:translateX(535px);-ms-transform:translateX(535px);transform:translateX(535px)}.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-left{-webkit-transform:translateX(-535px);-moz-transform:translateX(-535px);-ms-transform:translateX(-535px);transform:translateX(-535px)}.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-up{-webkit-transform:translateY(-535px);-moz-transform:translateY(-535px);-ms-transform:translateY(-535px);transform:translateY(-535px)}.ab-iam-root.v3.ab-effect-slide.ab-hide .ab-in-app-message.ab-swiped-down{-webkit-transform:translateY(535px);-moz-transform:translateY(535px);-ms-transform:translateY(535px);transform:translateY(535px)}.ab-iam-root.v3.ab-effect-slide.ab-hide.ab-animate-out .ab-in-app-message{-webkit-transition:transform .5s ease-in-out;-moz-transition:transform .5s ease-in-out;-o-transition:transform .5s ease-in-out;transition:transform .5s ease-in-out}.ab-iam-root.v3 .ab-ios-scroll-wrapper{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;pointer-events:all;touch-action:auto;-webkit-overflow-scrolling:touch}.ab-iam-root.v3 .ab-in-app-message{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:fixed;text-align:center;-webkit-box-shadow:0 0 4px rgba(0,0,0,.3);-moz-box-shadow:0 0 4px rgba(0,0,0,.3);box-shadow:0 0 4px rgba(0,0,0,.3);line-height:normal;letter-spacing:normal;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;z-index:9011;max-width:100%;overflow:hidden;display:inline-block;pointer-events:all;color:#333;color-scheme:normal}.ab-iam-root.v3 .ab-in-app-message.ab-no-shadow{-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.ab-iam-root.v3 .ab-in-app-message :focus,.ab-iam-root.v3 .ab-in-app-message:focus{outline:0}.ab-iam-root.v3 .ab-in-app-message.ab-clickable{cursor:pointer}.ab-iam-root.v3 .ab-in-app-message.ab-background{background-color:#fff}.ab-iam-root.v3 .ab-in-app-message .ab-close-button{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;background-color:transparent;background-size:15px;border:none;width:15px;min-width:15px;height:15px;cursor:pointer;display:block;font-size:15px;line-height:0;padding-top:15px;padding-right:15px;padding-left:15px;padding-bottom:15px;position:absolute;top:0;z-index:9021}.ab-iam-root.v3 .ab-in-app-message .ab-close-button[dir=rtl]{left:0}.ab-iam-root.v3 .ab-in-app-message .ab-close-button[dir=ltr]{right:0}.ab-iam-root.v3 .ab-in-app-message .ab-close-button svg{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;fill:#9b9b9b;height:auto;width:100%}.ab-iam-root.v3 .ab-in-app-message .ab-close-button svg.ab-chevron{display:none}.ab-iam-root.v3 .ab-in-app-message .ab-close-button:active{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message .ab-close-button:focus{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message .ab-close-button:hover{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message .ab-close-button:hover svg{fill-opacity:.8}.ab-iam-root.v3 .ab-in-app-message .ab-message-text{float:none;line-height:1.5;margin:20px 25px;max-width:100%;overflow:hidden;overflow-y:auto;vertical-align:text-bottom;word-wrap:break-word;white-space:pre-wrap;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif}.ab-iam-root.v3 .ab-in-app-message .ab-message-text.start-aligned{text-align:start}.ab-iam-root.v3 .ab-in-app-message .ab-message-text.end-aligned{text-align:end}.ab-iam-root.v3 .ab-in-app-message .ab-message-text.center-aligned{text-align:center}.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar{-webkit-appearance:none;width:14px}.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar-thumb{-webkit-appearance:none;border:4px solid transparent;background-clip:padding-box;-webkit-border-radius:7px;-moz-border-radius:7px;border-radius:7px;background-color:rgba(0,0,0,.2)}.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar-button{width:0;height:0;display:none}.ab-iam-root.v3 .ab-in-app-message .ab-message-text::-webkit-scrollbar-corner{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message .ab-message-header{float:none;letter-spacing:0;margin:0;font-weight:700;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;display:block;font-size:20px;margin-bottom:10px;line-height:1.3}.ab-iam-root.v3 .ab-in-app-message .ab-message-header.start-aligned{text-align:start}.ab-iam-root.v3 .ab-in-app-message .ab-message-header.end-aligned{text-align:end}.ab-iam-root.v3 .ab-in-app-message .ab-message-header.center-aligned{text-align:center}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message.ab-modal,.ab-iam-root.v3 .ab-in-app-message.ab-slideup{-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;cursor:pointer;overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;font-size:14px;font-weight:700;margin:20px;margin-top:calc(constant(safe-area-inset-top,0) + 20px);margin-right:calc(constant(safe-area-inset-right,0) + 20px);margin-bottom:calc(constant(safe-area-inset-bottom,0) + 20px);margin-left:calc(constant(safe-area-inset-left,0) + 20px);margin-top:calc(env(safe-area-inset-top,0) + 20px);margin-right:calc(env(safe-area-inset-right,0) + 20px);margin-bottom:calc(env(safe-area-inset-bottom,0) + 20px);margin-left:calc(env(safe-area-inset-left,0) + 20px);max-height:150px;padding:10px;right:0;background-color:#efefef}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone{max-height:66px;margin:10px;margin-top:calc(constant(safe-area-inset-top,0) + 10px);margin-right:calc(constant(safe-area-inset-right,0) + 10px);margin-bottom:calc(constant(safe-area-inset-bottom,0) + 10px);margin-left:calc(constant(safe-area-inset-left,0) + 10px);margin-top:calc(env(safe-area-inset-top,0) + 10px);margin-right:calc(env(safe-area-inset-right,0) + 10px);margin-bottom:calc(env(safe-area-inset-bottom,0) + 10px);margin-left:calc(env(safe-area-inset-left,0) + 10px);max-width:90%;max-width:calc(100% - 40px);min-width:90%;min-width:calc(100% - 40px)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-close-button{display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-close-button svg:not(.ab-chevron){display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button{display:block;height:20px;padding:0 20px 0 18px;pointer-events:none;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:12px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-close-button svg.ab-chevron{display:inline}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone.ab-clickable .ab-message-text{border-right-width:40px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text{max-width:100%;border-right-width:10px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text span{max-height:66px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-message-text.ab-with-image{max-width:80%;max-width:calc(100% - 50px - 5px - 10px - 25px)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-image-area{width:50px;height:50px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.simulate-phone .ab-image-area img{max-width:100%;max-height:100%;width:auto;height:auto}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:active .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:focus .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:hover .ab-message-text{opacity:.8}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:active .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:focus .ab-close-button svg.ab-chevron,.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable:hover .ab-close-button svg.ab-chevron{fill-opacity:.8}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:table-cell;border-color:transparent;border-style:solid;border-width:5px 25px 5px 10px;max-width:430px;vertical-align:middle;margin:0}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text[dir=rtl]{border-width:5px 10px 5px 25px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text span{display:block;max-height:150px;overflow:auto}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-image{max-width:365px;border-top:0;border-bottom:0}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;background-color:transparent;background-size:15px;border:none;width:15px;min-width:15px;height:15px;cursor:pointer;display:block;font-size:15px;line-height:0;padding-top:15px;padding-right:15px;padding-left:15px;padding-bottom:15px;position:absolute;top:0;z-index:9021}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button[dir=rtl]{left:0}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button[dir=ltr]{right:0}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button svg{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;fill:#9b9b9b;height:auto;width:100%}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button svg.ab-chevron{display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:active{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:focus{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:hover{background-color:transparent}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button:hover svg{fill-opacity:.8}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area{float:none;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:table-cell;border-color:transparent;border-style:solid;border-width:5px 0 5px 5px;vertical-align:top;width:60px;margin:0}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area.ab-icon-area{width:auto}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area img{float:none;width:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message.ab-modal{font-size:14px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area{float:none;position:relative;display:block;overflow:hidden}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area .ab-center-cropped-img,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area .ab-center-cropped-img{background-size:cover;background-repeat:no-repeat;background-position:50% 50%;position:absolute;top:0;right:0;bottom:0;left:0}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-icon,.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-icon{margin-top:20px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic{padding:0}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-message-text,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-message-text{display:none}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-message-buttons{bottom:0;left:0}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area{float:none;height:auto;margin:0}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-image-area img,.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area img{display:block;top:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none}.ab-iam-root.v3 .ab-in-app-message.ab-modal{padding-top:20px;width:450px;max-width:450px;max-height:720px}.ab-iam-root.v3 .ab-in-app-message.ab-modal.simulate-phone{max-width:91%;max-width:calc(100% - 30px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal.simulate-phone.graphic .ab-image-area img{max-width:91vw;max-width:calc(100vw - 30px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text{max-height:660px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-image{max-height:524.82758621px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-icon{max-height:610px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons{margin-bottom:93px;max-height:587px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-image{max-height:451.82758621px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-message-text.ab-with-buttons.ab-with-icon{max-height:537px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area{margin-top:-20px;max-height:155.17241379px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area img{max-width:100%;max-height:155.17241379px}.ab-iam-root.v3 .ab-in-app-message.ab-modal .ab-image-area.ab-icon-area{height:auto}.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic{width:auto;overflow:hidden}.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area{display:inline}.ab-iam-root.v3 .ab-in-app-message.ab-modal.graphic .ab-image-area img{width:auto;max-height:720px;max-width:450px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen{width:450px;max-height:720px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape{width:720px;max-height:450px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape .ab-image-area{height:225px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape.graphic .ab-image-area{height:450px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape .ab-message-text{max-height:112px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-message-text{max-height:247px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-message-text.ab-with-buttons{margin-bottom:93px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area{height:360px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.graphic .ab-image-area{height:720px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone{-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone:not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone:not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.simulate-phone.graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-html-message{background-color:transparent;border:none;height:100%;overflow:auto;position:relative;touch-action:auto;width:100%}.ab-iam-root.v3 .ab-in-app-message .ab-message-buttons{position:absolute;bottom:0;width:100%;padding:17px 25px 30px 25px;z-index:inherit;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ab-iam-root.v3 .ab-in-app-message .ab-message-button{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;cursor:pointer;display:inline-block;font-size:14px;font-weight:700;font-family:'Helvetica Neue Light','Helvetica Neue',Helvetica,Arial,'Lucida Grande',sans-serif;height:44px;line-height:normal;letter-spacing:normal;margin:0;max-width:100%;min-width:80px;padding:0 12px;position:relative;text-transform:none;width:48%;width:calc(50% - 5px);border:1px solid #1b78cf;-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease;overflow:hidden;word-wrap:break-word;text-overflow:ellipsis;word-wrap:normal;white-space:nowrap}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:first-of-type{float:left;background-color:#fff;color:#1b78cf}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:last-of-type{float:right;background-color:#1b78cf;color:#fff}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:first-of-type:last-of-type{float:none;width:auto}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:after{-webkit-transition:.2s ease;-moz-transition:.2s ease;-o-transition:.2s ease;transition:.2s ease}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:hover{opacity:.8}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:active:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.08)}.ab-iam-root.v3 .ab-in-app-message .ab-message-button:focus:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.15)}.ab-iam-root.v3 .ab-in-app-message .ab-message-button a{color:inherit;text-decoration:inherit}.ab-iam-root.v3 .ab-in-app-message img{float:none;display:inline-block}.ab-iam-root.v3 .ab-in-app-message .ab-icon{float:none;display:inline-block;padding:10px;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px}.ab-iam-root.v3 .ab-in-app-message .ab-icon .fa{float:none;font-size:30px;width:30px}.ab-iam-root.v3 .ab-start-hidden{visibility:hidden}.ab-iam-root.v3 .ab-centered{margin:auto;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.ab-iam-root.v3{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.ab-iam-root.v3 .ab-page-blocker{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9001;pointer-events:all;background-color:rgba(51,51,51,.75)}@media (max-width:600px){.ab-iam-root.v3 .ab-in-app-message.ab-slideup{max-height:66px;margin:10px;margin-top:calc(constant(safe-area-inset-top,0) + 10px);margin-right:calc(constant(safe-area-inset-right,0) + 10px);margin-bottom:calc(constant(safe-area-inset-bottom,0) + 10px);margin-left:calc(constant(safe-area-inset-left,0) + 10px);margin-top:calc(env(safe-area-inset-top,0) + 10px);margin-right:calc(env(safe-area-inset-right,0) + 10px);margin-bottom:calc(env(safe-area-inset-bottom,0) + 10px);margin-left:calc(env(safe-area-inset-left,0) + 10px);max-width:90%;max-width:calc(100% - 40px);min-width:90%;min-width:calc(100% - 40px)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button{display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-close-button svg:not(.ab-chevron){display:none}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-close-button{display:block;height:20px;padding:0 20px 0 18px;pointer-events:none;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:12px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-close-button svg.ab-chevron{display:inline}.ab-iam-root.v3 .ab-in-app-message.ab-slideup.ab-clickable .ab-message-text{border-right-width:40px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text{max-width:100%;border-right-width:10px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text span{max-height:66px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-icon,.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-message-text.ab-with-image{max-width:80%;max-width:calc(100% - 50px - 5px - 10px - 25px)}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area{width:50px;height:50px}.ab-iam-root.v3 .ab-in-app-message.ab-slideup .ab-image-area img{max-width:100%;max-height:100%;width:auto;height:auto}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape{-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-close-button,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen .ab-image-area,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-image-area,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen .ab-message-text,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape .ab-message-text.ab-with-buttons,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape:not(.graphic),.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen:not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape:not(.graphic) .ab-message-buttons,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen:not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.graphic,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.graphic{display:block}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.graphic .ab-image-area,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.graphic .ab-message-button,.ab-iam-root.v3 .ab-in-app-message:not(.force-desktop).ab-fullscreen.landscape.graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}@media (max-width:480px){.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop){max-width:91%;max-width:calc(100% - 30px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop).graphic .ab-image-area img{max-width:91vw;max-width:calc(100vw - 30px)}}@media (max-height:750px){.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop){max-height:91%;max-height:calc(100% - 30px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop).graphic .ab-image-area img{max-height:91vh;max-height:calc(100vh - 30px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text{max-height:65vh;max-height:calc(100vh - 30px - 60px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-image{max-height:45vh;max-height:calc(100vh - 30px - 155.17241379310346px - 40px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-icon{max-height:45vh;max-height:calc(100vh - 30px - 70px - 40px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-buttons{max-height:50vh;max-height:calc(100vh - 30px - 93px - 40px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-buttons.ab-with-image{max-height:30vh;max-height:calc(100vh - 30px - 155.17241379310346px - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-modal:not(.force-desktop) .ab-message-text.ab-with-buttons.ab-with-icon{max-height:30vh;max-height:calc(100vh - 30px - 70px - 93px - 20px)}}@media (min-width:601px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen .ab-image-area img{max-height:100%;max-width:100%}}@media (max-height:750px) and (min-width:601px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop){-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important;width:450px}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop) .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop) .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop) .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop):not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop):not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen:not(.landscape):not(.force-desktop).graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}@media (max-height:480px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop){-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}@media (max-width:750px){.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop){-webkit-transition:top none;-moz-transition:top none;-o-transition:top none;transition:top none;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-transform:none;-moz-transform:none;-ms-transform:none;transform:none;height:auto!important}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-close-button{margin-right:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-right:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0));margin-left:calc(constant(safe-area-inset-bottom,0) + constant(safe-area-inset-top,0));margin-left:calc(env(safe-area-inset-bottom,0) + env(safe-area-inset-top,0))}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-image-area,.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-image-area{height:50%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text{max-height:48%;max-height:calc(50% - 20px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop) .ab-message-text.ab-with-buttons{margin-bottom:20px;max-height:30%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).landscape .ab-message-text.ab-with-buttons{max-height:20%;max-height:calc(50% - 93px - 20px)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic){padding-bottom:0;padding-bottom:constant(safe-area-inset-bottom,0);padding-bottom:env(safe-area-inset-bottom,0)}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop):not(.graphic) .ab-message-buttons{padding-top:0;position:relative}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic{display:block}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-image-area{height:100%}.ab-iam-root.v3 .ab-in-app-message.ab-fullscreen.landscape:not(.force-desktop).graphic .ab-message-button{margin-bottom:0;margin-bottom:constant(safe-area-inset-bottom,0);margin-bottom:env(safe-area-inset-bottom,0)}}")}function wo(){vl();yo()}function yl(n){let t="";return n.animateIn&&(t+=" ab-animate-in"),n.animateOut&&(t+=" ab-animate-out"),n instanceof oi?t+=" ab-effect-fullscreen":n instanceof ht?t+=" ab-effect-html":n instanceof pi?t+=" ab-effect-modal":n instanceof si&&(t+=" ab-effect-slide"),t}function bo(n,t,i,r="ltr"){const u=document.createElement("button");u.setAttribute("aria-label",n);u.setAttribute("tabindex","0");u.setAttribute("role","button");u.dir=r;br(u,"touchstart");u.className="ab-close-button";const f=ho("0 0 15 15","M15 1.5L13.5 0l-6 6-6-6L0 1.5l6 6-6 6L1.5 15l6-6 6 6 1.5-1.5-6-6 6-6z",t);return u.appendChild(f),u.addEventListener("keydown",n=>{n.keyCode!==yi.Fo&&n.keyCode!==yi.To||(i(),n.stopPropagation())}),u.onclick=n=>{i(),n.stopPropagation()},u}function pl(n){return null!=n&&(n=parseInt(n.toString()),!isNaN(n)&&(4278190080&n)>>>24==0)}function bt(n,t){return null==n?"":(n=parseInt(n.toString()),isNaN(n))?"":(t&&!isNaN(parseFloat(t.toString()))||(t=1),"rgba("+[(16711680&(n>>>=0))>>>16,(65280&n)>>>8,255&n,((4278190080&n)>>>24)/255*t,].join(",")+")")}function ou(n){if(!u.X())return!1;if(!(n instanceof t||n instanceof vi))return i.error(du),!1;const r=n instanceof vi?c.mo:c.Xi;return kt.m().q(n,r).L}function ko(n){if(!u.X())return!1;if(!(n instanceof t))return i.error(du),!1;const r=kt.m().q(n,c.$i);if(r){n.Wr()||ou(n);for(let t=0;t<r.ge.length;t++)b.rr().fe(w.Vr,[n.triggerId],r.ge[t])}return r.L}function wl(){return screen.width<=600}function bl(){if("orientation"in window)return 90===Math.abs(window.orientation)||270===window.orientation?gi.LANDSCAPE:gi.PORTRAIT;const n=window;if("screen"in n){let t=n.screen.orientation||screen.mozOrientation||screen.msOrientation;return null!=t&&"object"==typeof t&&(t=t.type),"landscape-primary"===t||"landscape-secondary"===t?gi.LANDSCAPE:gi.PORTRAIT}return gi.PORTRAIT}function kl(n,t,i){n&&(t||null!=i&&i.metaKey?window.open(n):window.location=n)}function dl(){return window.location.href}function wf(){if(u.X())return u.pr()}function su(n,t,r){if(u.X())if(pr.test(n)){const t=rf(n);if(!t)return;const r=n=>{if(!ro(n))return void i.error(`Decoded Braze Action json is invalid: ${JSON.stringify(n,null,2)}`);const f=s.properties.type,e=s.properties.oo,o=s.properties.eo,t=n[f];if(t===s.types.ro){const t=n[e];for(const n of t)r(n)}else{const f=n[o];let e,r;switch(t){case s.types.logCustomEvent:Promise.resolve().then(function(){return ue}).then(({logCustomEvent:n})=>{u.so()?(r=Array.prototype.slice.call(f),n(...r)):i.error(vt)});break;case s.types.requestPushPermission:Promise.resolve().then(function(){return ee}).then(({requestPushPermission:n})=>{u.so()?"Safari"===rt.browser&&rt.OS===fi.io?window.navigator.standalone&&n():n():i.error(vt)});break;case s.types.setEmailNotificationSubscriptionType:case s.types.setPushNotificationSubscriptionType:case s.types.setCustomUserAttribute:case s.types.addToSubscriptionGroup:case s.types.removeFromSubscriptionGroup:case s.types.addToCustomAttributeArray:case s.types.removeFromCustomAttributeArray:(e=wf(),e)&&e[t](...Array.prototype.slice.call(f));break;case s.types.no:case s.types.ao:r=Array.prototype.slice.call(f);ur.openUri(...r);break;default:i.info(`Ignoring unknown Braze Action: ${t}`)}}};r(t)}else ur.openUri(n,t,r)}function gl(n,t){su(n,t)}function go(n){null==n&&(n="");const t=n.split("?").slice(1).join("?"),i={};if(null!=t){const n=t.split("&");for(let t=0;t<n.length;t++){const r=n[t].split("=");""!==r[0]&&(i[r[0]]=r[1])}}return i}function bf(n){return!(!n||0!==(n=n.toString().toLowerCase()).lastIndexOf("javascript:",0)&&0!==n.lastIndexOf("data:",0))}function hu(n,t,r){if(!u.X())return!1;if(!(n instanceof ht))return i.error("inAppMessage argument to logInAppMessageHtmlClick must be an HtmlMessage object."),!1;let e=c.$i;null!=t&&(e=c.Oi);const f=kt.m().q(n,e,t,r);if(f.L)for(let i=0;i<f.ge.length;i++)b.rr().fe(w.Vr,[n.triggerId,t],f.ge[i]);return f.L}function ta(n,i,r,u,f,e){const o=document.createElement("iframe");o.setAttribute("title","Modal Message");f&&(o.style.zIndex=(f+1).toString());let s=null;if(null!=e){s=document.createElement("html");s.innerHTML=n.message||"";const i=s.getElementsByTagName("style");for(let n=0;n<i.length;n++)i[n].setAttribute("nonce",e);const t=s.getElementsByTagName("script");for(let n=0;n<t.length;n++){t[n].setAttribute("nonce",e);t[n].innerHTML=t[n].innerHTML.replace(/<style>/g,`<style nonce='${e}'>`);const i=ts(t[n].innerHTML,e,"script");i&&(t[n].innerHTML=i);const r=ts(t[n].innerHTML,e,"style");r&&(t[n].innerHTML=r)}}if(o.srcdoc=s?s.innerHTML:n.message||"",o.onload=()=>{const f=o.contentWindow;f.focus();const s=f.document.getElementsByTagName("head")[0];if(null!=s){if(n.ve()){const t=document.createElement("style");t.innerHTML=n.css||"";t.id=n.we()||"";null!=e&&t.setAttribute("nonce",e);s.appendChild(t)}const t=f.document.createElement("base");null!=t&&(t.setAttribute("target","_parent"),s.appendChild(t))}const h=f.document.getElementsByTagName("title");h&&h.length>0&&o.setAttribute("title",h[0].textContent||"");const c=na(n,o,i);if(f.appboyBridge=c,f.brazeBridge=c,n.xe!==t.Be.Me){const t=f.document.getElementsByTagName("a");for(let i=0;i<t.length;i++)t[i].onclick=ns(n,o,t[i],u);const i=f.document.getElementsByTagName("button");for(let t=0;t<i.length;t++)i[t].onclick=ns(n,o,i[t],u)}const l=f.document.body;if(null!=l){n.Ce()&&(l.id=n.htmlId||"");const t=document.createElement("hidden");t.onclick=c.closeMessage;t.className="ab-programmatic-close-button";l.appendChild(t)}f.dispatchEvent(new CustomEvent("ab.BridgeReady"));-1!==o.className.indexOf("ab-start-hidden")&&(o.className=o.className.replace("ab-start-hidden",""),r(o))},o.className="ab-in-app-message ab-start-hidden ab-html-message ab-modal-interactions",rt.OS===fi.io){const t=document.createElement("div");return t.className="ab-ios-scroll-wrapper",t.appendChild(o),n.Re=t,t}return n.Re=o,o}function is(n,r){var e;if(!u.X())return!1;if(!(n instanceof di))return i.error("button must be an InAppMessageButton object"),!1;if(!(r instanceof t))return i.error(du),!1;const f=kt.m().Ji(n,r);if(f.L)for(let t=0;t<f.ge.length;t++)b.rr().fe(w.Vr,[r.triggerId,null===(e=n.id)||void 0===e?void 0:e.toString(),],f.ge[t]);return f.L}function ia(n,r,u,f,e,o,s,h=document.body,c="ltr"){if(n.ke=document.activeElement,n instanceof ht)return ta(n,r,u,e,o,s);const l=function(n,r,u,f,e,o,s=document.body,h="ltr"){let v=null;const c=document.createElement("div");c.dir=h;c.className="ab-in-app-message ab-start-hidden ab-background";o&&(c.style.zIndex=(o+1).toString());n.$e()&&(c.className+=" ab-modal-interactions",c.setAttribute("tabindex","-1"));n.ve()||(c.style.color=bt(n.textColor),c.style.backgroundColor=bt(n.backgroundColor),pl(n.backgroundColor)&&(c.className+=" ab-no-shadow"));const p=()=>{-1!==c.className.indexOf("ab-start-hidden")&&(c.className=c.className.replace("ab-start-hidden",""),document.querySelectorAll(".ab-iam-img-loading").length>0?f(`Cannot show in-app message ${n.message} because another message is being shown.`,t.Le.ze):u(c))},y=(t=!0)=>{let r=document.querySelectorAll(".ab-iam-root");r&&0!==r.length||(r=s.querySelectorAll(".ab-iam-root"));r&&r.length>0&&(r[0].classList.remove("ab-iam-img-loading"),v&&(clearTimeout(v),v=null),t?p():i.error(`Cannot show in-app message ${n.message} because the image failed to load.`))};n.imageStyle===t.ImageStyle.GRAPHIC&&(c.className+=" graphic");n.orientation===t.Orientation.LANDSCAPE&&(c.className+=" landscape");null!=n.buttons&&0===n.buttons.length&&(n.clickAction!==t.ClickAction.NONE&&(c.className+=" ab-clickable"),c.onclick=i=>(n.Cr(c,()=>{ko(n),n.clickAction===t.ClickAction.URI?su(n.uri||"",e||n.openTarget===t.OpenTarget.BLANK,i):n.clickAction===t.ClickAction.NEWS_FEED&&r()}),i.stopPropagation(),!1));const w=bo("Close Message",n.ve()?void 0:bt(n.closeButtonColor),()=>{n.Cr(c)},h);c.appendChild(w);o&&(w.style.zIndex=(o+2).toString());const l=document.createElement("div");l.className="ab-message-text";l.dir=h;const k=(n.messageAlignment||n.qe).toLowerCase();l.className+=" "+k+"-aligned";let b=!1;const a=document.createElement("div");if(a.className="ab-image-area",n.imageUrl){if(n.cropType===t.CropType.CENTER_CROP){const t=document.createElement("span");t.className="ab-center-cropped-img";t.style.backgroundImage="url("+n.imageUrl+")";t.setAttribute("role","img");t.setAttribute("aria-label","Modal Image");n.Ae(t);a.appendChild(t)}else{const t=document.createElement("img");if(t.setAttribute("src",n.imageUrl),n.Ae(t),0===document.querySelectorAll(".ab-iam-img-loading").length){b=!0;const n=document.querySelectorAll(".ab-iam-root");n&&n.length>0&&n[0].classList.add("ab-iam-img-loading");v=window.setTimeout(()=>{y(!1)},6e4);t.onload=()=>{y()};t.onerror=()=>{y(!1)}}a.appendChild(t)}c.appendChild(a);l.className+=" ab-with-image"}else if(n.icon){a.className+=" ab-icon-area";const t=document.createElement("span");t.className="ab-icon";n.ve()||(t.style.backgroundColor=bt(n.iconBackgroundColor),t.style.color=bt(n.iconColor));const i=document.createElement("i");i.className="fa";i.appendChild(document.createTextNode(n.icon));i.setAttribute("aria-hidden","true");t.appendChild(i);a.appendChild(t);c.appendChild(a);l.className+=" ab-with-icon"}if(br(l,"touchstart"),n.header&&n.header.length>0){const i=document.createElement("h1");i.className="ab-message-header";n.De=ii.W();i.id=n.De;const r=(n.headerAlignment||t.TextAlignment.CENTER).toLowerCase();i.className+=" "+r+"-aligned";n.ve()||(i.style.color=bt(n.headerTextColor));i.appendChild(document.createTextNode(n.header));l.appendChild(i)}return l.appendChild(n.Ge()),c.appendChild(l),b||p(),n.Re=c,c}(n,r,u,f,e,o,h,c);if(n instanceof oi||n instanceof pi){const t=n instanceof oi?"ab-fullscreen":"ab-modal";l.className+=` ${t} ab-centered`;kf.He(n,r,l,e);kf.Je(l);kf.Ke(n.De,l)}else if(n instanceof si){l.className+=" ab-slideup";const i=l.getElementsByClassName("ab-close-button")[0];if(null!=i){const t=ho("0 0 11.38 19.44","M11.38 9.72l-9.33 9.72L0 17.3l7.27-7.58L0 2.14 2.05 0l9.33 9.72z",n.ve()?void 0:bt(n.closeButtonColor));t.setAttribute("class","ab-chevron");i.appendChild(t)}let r,u;kr(l,ei.U,n=>{l.className+=" ab-swiped-left",null!=i&&null!=i.onclick&&i.onclick(n)});kr(l,ei.V,n=>{l.className+=" ab-swiped-right",null!=i&&null!=i.onclick&&i.onclick(n)});n.slideFrom===t.SlideFrom.TOP?(r=ei.Oe,u=" ab-swiped-up"):(r=ei.Qe,u=" ab-swiped-down");kr(l,r,n=>{l.className+=u,null!=i&&null!=i.onclick&&i.onclick(n)})}return l}function rs(n,r,f){if(u.X()){if(wo(),null==n)return!1;if(n instanceof vi)return i.info("User received control for a multivariate test, logging to Braze servers."),ou(n),!0;if(!(n instanceof t)||n.constructor===t)return!1;n.Nh();const o=n instanceof ht;if(o&&!n.trusted&&!u.tr())return i.error('HTML in-app messages are disabled. Use the "allowUserSuppliedJavascript" option for braze.initialize to enable these messages.'),!1;if((null==r&&(r=document.body),n.$e())&&r.querySelectorAll(".ab-modal-interactions").length>0)return i.info(`Cannot show in-app message ${n.message} because another message is being shown.`),!1;if(ur.fo()){const r=ur.co();if(r===gi.PORTRAIT&&n.orientation===t.Orientation.LANDSCAPE||r===gi.LANDSCAPE&&n.orientation===t.Orientation.PORTRAIT){const u=r===gi.PORTRAIT?"portrait":"landscape",f=n.orientation===t.Orientation.PORTRAIT?"portrait":"landscape";return i.info(`Not showing ${f} in-app message ${n.message} because the screen is currently ${u}`),!1}}if(!u.tr()){let r=!1;if(n.buttons&&n.buttons.length>0){const i=n.buttons;for(let n=0;n<i.length;n++)if(i[n].clickAction===t.ClickAction.URI){const t=i[n].uri;r=bf(t)}}else n.clickAction===t.ClickAction.URI&&(r=bf(n.uri));if(r)return i.error('Javascript click actions are disabled. Use the "allowUserSuppliedJavascript" option for braze.initialize to enable these actions.'),!1}const e=document.createElement("div");if(e.className="ab-iam-root v3",e.className+=yl(n),e.setAttribute("role","complementary"),n.Ce()&&(e.id=n.htmlId),u.nn(h.jo)&&(e.style.zIndex=(u.nn(h.jo)+1).toString()),r.appendChild(e),n.ve()){const t=document.createElement("style");t.innerHTML=n.css;t.id=n.we();null!=u.nn(h.bo)&&t.setAttribute("nonce",u.nn(h.bo));document.getElementsByTagName("head")[0].appendChild(t)}const s=n instanceof si,c=ia(n,()=>{Promise.resolve().then(function(){return sh}).then(n=>{u.so()?n.showFeed():i.error(vt)})},i=>{if(n.$e()&&n.do()){const r=document.createElement("div");if(r.className="ab-page-blocker",n.ve()||(r.style.backgroundColor=bt(n.frameColor)),u.nn(h.jo)&&(r.style.zIndex=u.nn(h.jo).toString()),e.appendChild(r),!u.nn(h.Lh)){const u=(new Date).valueOf();r.onclick=r=>{(new Date).valueOf()-u>t.fh&&(n.Cr(i),r.stopPropagation())}}e.appendChild(i);i.focus();n.Oh(e)}else if(s){const u=document.querySelectorAll(".ab-slideup");let r=null;for(let n=u.length-1;n>=0;n--)if(u[n]!==i){r=u[n];break}if(n.slideFrom===t.SlideFrom.TOP){let n=0;null!=r&&(n=r.offsetTop+r.offsetHeight);i.style.top=Math.max(n,0)+"px"}else{let n=0;null!=r&&(n=(window.innerHeight||document.documentElement.clientHeight)-r.offsetTop);i.style.bottom=Math.max(n,0)+"px"}}else if(o&&!u.nn(h.Lh)){const t=n;co(i)&&i.contentWindow&&i.contentWindow.addEventListener("keydown",function(n){n.keyCode===yi.mh&&t.closeMessage()})}ou(n);n.dismissType===t.DismissType.AUTO_DISMISS&&setTimeout(()=>{e.contains(i)&&n.Cr(i)},n.duration);"function"==typeof f&&f()},n=>{i.info(n)},u.nn(h.ho),u.nn(h.jo),u.nn(h.bo),r,ct.m().wo());return(o||s)&&(e.appendChild(c),n.Oh(e)),!0}}function us(n){if(u.X())return"function"!=typeof n?null:kt.m().Mi(function(t){return n(t[0]),t.slice(1)})}function ua(){if(u.X()){wo();const n=kt.m();if(null==n._i()){const t=us(n=>rs(n));n.Pi(t)}return n._i()}}function fa(n){if(u.X())return n instanceof vi?(i.info("Not deferring since this is a ControlMessage."),!1):n instanceof t?kt.m().je(n):(i.info("Not an instance of InAppMessage, ignoring."),!1)}function ea(){if(u.X())return kt.m().Se()}function au(n,t){return!!u.X()&&(n instanceof f?lu.m().h(n,t).L:(i.error("card "+gu),!1))}function es(n){return!!u.X()&&(n instanceof f?lu.m().B(n).L:(i.error("card "+gu),!1))}function vu(n,t){if(!u.X())return!1;if(!d(n))return i.error("cards must be an array"),!1;for(const t of n)if(!(t instanceof f))return i.error(`Each card in cards ${gu}`),!1;return lu.m().G(n,t).L}function va(n){return vu(n,!0)}function ya(n){return au(n,!0)}function gf(n,t,r,u,e,o,s,h,c,l,a,v,y,p,w,b,k,d){let g;if(t===f.it.Pt||t===f.it.Ut)g=new no(n,r,u,e,o,s,h,c,l,a,v,y,p,w,b,k);else if(t===f.it.st)g=new ge(n,r,u,e,o,s,h,c,l,a,v,y,p,w,b,k);else if(t===f.it.Gt)g=new de(n,r,e,s,h,c,l,a,v,y,p,w,b,k);else{if(t!==f.it.Xt)return i.error("Ignoring card with unknown type "+t),null;g=new vr(n,r,h,l,p,w)}return d&&(g.test=d),g}function ne(n){if(n[f._t.Ot])return null;const r=n[f._t.ht],u=n[f._t.Z],e=n[f._t.et],o=n[f._t.rt],s=n[f._t.ot],h=n[f._t.ct],t=at(n[f._t.nt]),c=t;let i;return i=n[f._t.lt]===f.Mt?null:at(n[f._t.lt]),gf(r,u,e,o,s,h,c,t,null,i,n[f._t.URL],n[f._t.ft],n[f._t.xt],n[f._t.bt],n[f._t.gt],n[f._t.jt],n[f._t.zt],n[f._t.kt]||!1)}function pa(n){return gf(n.id,n.type,n.viewed,n.title,n.image,n.description,at(n.created),at(n.updated),n.categories,at(n.expires_at),n.url,n.domain,n.aspect_ratio,n.extras,!1,!1)}function os(n){return gf(n[f.tt.ht],n[f.tt.Z],n[f.tt.et],n[f.tt.rt],n[f.tt.ot],n[f.tt.ct],ir(n[f.tt.dt]),ir(n[f.tt.nt]),n[f.tt.ut],ir(n[f.tt.lt]),n[f.tt.URL],n[f.tt.ft],n[f.tt.xt],n[f.tt.bt],n[f.tt.gt],n[f.tt.jt],n[f.tt.zt],n[f.tt.kt]||!1)||void 0}function ss(n,t){if(u.X())return hr.rr().qs(n,t)}function ba(){if(u.X())return hr.rr().As(!1)}function ka(n){return null!=n&&!!n.getAttribute("data-ab-had-top-impression")}function da(n){null!=n&&n.setAttribute("data-ab-had-top-impression","true")}function ga(n){return null!=n&&!!n.getAttribute("data-ab-had-bottom-impression")}function nv(n){null!=n&&n.setAttribute("data-ab-had-bottom-impression","true")}function hs(n){if(null!=n){const t=n.querySelectorAll(".ab-unread-indicator")[0];null!=t&&(t.className+=" read")}}function tv(n){return n.getAttribute("data-ab-card-id")}function iv(n,t){let i="";n.title||n.description||(i="Feed Image");t.setAttribute("alt",i)}function cs(n,t){const r=t.querySelectorAll(".ab-image-area");let i,u=0;r.length>0&&(u=r[0].offsetWidth);for(const t of n)if(i=t.T,i&&t.imageUrl&&"number"==typeof t.aspectRatio){const n=u/t.aspectRatio;n&&(i.style.height=`${n}px`)}}function rv(n,t,i,r="ltr"){const u=document.createElement("div");u.dir=r;u.className="ab-card ab-effect-card "+n._;n.id&&(u.setAttribute("data-ab-card-id",n.id),u.setAttribute("id",n.id));u.setAttribute("role","article");u.setAttribute("tabindex","0");let o="",s=!1;n.url&&""!==n.url&&(o=n.url,s=!0);const h=r=>(hs(u),s&&(t(n),su(o,i,r)),!1);if(n.pinned){const n=document.createElement("div");n.className="ab-pinned-indicator";const t=document.createElement("i");t.className="fa fa-star";n.appendChild(t);u.appendChild(n)}if(n.imageUrl&&""!==n.imageUrl){const t=document.createElement("div");t.dir=r;t.className="ab-image-area";const i=document.createElement("img");if(i.setAttribute("src",n.imageUrl),i.onload=()=>{u.style.height="auto"},iv(n,i),t.appendChild(i),u.className+=" with-image",s&&!n.S){const n=document.createElement("a");n.setAttribute("href",o);n.onclick=h;n.appendChild(t);u.appendChild(n)}else u.appendChild(t)}const f=document.createElement("div");if(f.className="ab-card-body",f.dir=r,n.dismissible){n.logCardDismissal=()=>es(n);const t=bo("Dismiss Card",void 0,n.dismissCard.bind(n),r);u.appendChild(t);kr(f,ei.U,n=>{u.className+=" ab-swiped-left",t.onclick(n)});kr(f,ei.V,n=>{u.className+=" ab-swiped-right",t.onclick(n)})}let c="",l=!1;if(n.title&&""!==n.title&&(c=n.title,l=!0),l){const n=document.createElement("h1");if(n.className="ab-title",n.id=ii.W(),u.setAttribute("aria-labelledby",n.id),s){const t=document.createElement("a");t.setAttribute("href",o);t.onclick=h;t.appendChild(document.createTextNode(c));n.appendChild(t)}else n.appendChild(document.createTextNode(c));f.appendChild(n)}const e=document.createElement("div");if(e.className=l?"ab-description":"ab-description ab-no-title",e.id=ii.W(),u.setAttribute("aria-describedby",e.id),n.description&&e.appendChild(document.createTextNode(n.description)),s){const i=document.createElement("div");i.className="ab-url-area";const t=document.createElement("a");t.setAttribute("href",o);n.linkText&&t.appendChild(document.createTextNode(n.linkText));t.onclick=h;i.appendChild(t);e.appendChild(i)}f.appendChild(e);u.appendChild(f);const a=document.createElement("div");return a.className="ab-unread-indicator",n.viewed&&(a.className+=" read"),u.appendChild(a),n.T=u,u}function ls(n){u.X()&&u.removeSubscription(n)}function cr(n){n&&(n.className=n.className.replace("ab-show","ab-hide"),setTimeout(()=>{n&&n.parentNode&&n.parentNode.removeChild(n)},fr.Ah));const i=n.getAttribute("data-update-subscription-id");null!=i&&ls(i);const t=n.getAttribute("data-listener-id");null!=t&&(window.removeEventListener("scroll",te[t]),delete te[t])}function vs(n,t){const u=ct.m(),r=document.createElement("div");if(r.className="ab-feed-body",r.setAttribute("aria-label","Feed"),r.setAttribute("role","feed"),null==n.lastUpdated){const n=document.createElement("div");n.className="ab-no-cards-message";const t=document.createElement("i");t.className="fa fa-spinner fa-spin fa-4x ab-initial-spinner";n.appendChild(t);r.appendChild(n)}else{let f=!1;const e=t=>n.logCardClick(t);for(const o of n.cards){const s=o instanceof vr;!s||n.dr()?(r.appendChild(rv(o,e,t,u.wo())),f=f||!s):i.error("Received a control card for a legacy news feed. Control cards are only supported with content cards.")}if(!f){const n=document.createElement("div");n.className="ab-no-cards-message";n.innerHTML=u.get("NO_CARDS_MESSAGE")||"";n.setAttribute("role","article");r.appendChild(n)}}return r}function yu(n,t){if(null!=n&&null!=t){const r=[],i=t.querySelectorAll(".ab-card");n.yo||(n.yo={});for(let t=0;t<i.length;t++){const e=tv(i[t]),o=cl(i[t]),s=ll(i[t]);if(n.yo[e]){o||s||hs(i[t]);continue}let u=ka(i[t]),f=ga(i[t]);const h=u,c=f;if(!u&&o&&(u=!0,da(i[t])),!f&&s&&(f=!0,nv(i[t])),u&&f){if(h&&c)continue;for(const t of n.cards)if(t.id===e){n.yo[t.id]=!0;r.push(t);break}}}r.length>0&&n.logCardImpressions(r)}}function ie(n,t){if(null!=n&&null!=t){t.setAttribute("aria-busy","true");const i=t.querySelectorAll(".ab-refresh-button")[0];null!=i&&(i.className+=" fa-spin");const r=(new Date).valueOf().toString();t.setAttribute("data-last-requested-refresh",r);setTimeout(()=>{if(t.getAttribute("data-last-requested-refresh")===r){const i=t.querySelectorAll(".fa-spin");for(let n=0;n<i.length;n++)i[n].className=i[n].className.replace(/fa-spin/g,"");const n=t.querySelectorAll(".ab-initial-spinner")[0];if(null!=n){const t=document.createElement("span");t.innerHTML=ct.m().get("FEED_TIMEOUT_MESSAGE")||"";null!=n.parentNode&&(n.parentNode.appendChild(t),n.parentNode.removeChild(n))}"true"===t.getAttribute("aria-busy")&&t.setAttribute("aria-busy","false")}},fr.Co);n.sr()}}function ys(n,t,i){const r=document.createElement("div");r.className="ab-feed ab-hide ab-effect-slide";r.setAttribute("role","dialog");r.setAttribute("aria-label","Feed");r.setAttribute("tabindex","-1");const e=document.createElement("div");e.className="ab-feed-buttons-wrapper";e.setAttribute("role","group");r.appendChild(e);const f=document.createElement("i");f.className="fa fa-times ab-close-button";f.setAttribute("aria-label","Close Feed");f.setAttribute("tabindex","0");f.setAttribute("role","button");const s=n=>{cr(r),n.stopPropagation()};f.addEventListener("keydown",n=>{n.keyCode!==yi.Fo&&n.keyCode!==yi.To||s(n)});f.onclick=s;const u=document.createElement("i");u.className="fa fa-refresh ab-refresh-button";n&&null==n.lastUpdated&&(u.className+=" fa-spin");u.setAttribute("aria-label","Refresh Feed");u.setAttribute("tabindex","0");u.setAttribute("role","button");const h=t=>{ie(n,r),t.stopPropagation()};u.addEventListener("keydown",n=>{n.keyCode!==yi.Fo&&n.keyCode!==yi.To||h(n)});u.onclick=h;e.appendChild(u);e.appendChild(f);r.appendChild(vs(n,t));const o=()=>yu(n,r);if(r.addEventListener("scroll",o),!i){window.addEventListener("scroll",o);const n=ii.W();te[n]=o;r.setAttribute("data-listener-id",n)}return r}function pu(n,t,r,u,e){if(d(t)){const o=[];for(const n of t)if(n instanceof f){if(n.url&&pr.test(n.url)){const t=rf(n.url);if(uf(t)){i.error(tf(yr.Vi,"Content Card"));continue}}o.push(n)}if(n.cards=o,n.lastUpdated=r,null!=u)if(u.setAttribute("aria-busy","false"),null==n.lastUpdated)cr(u);else{const t=u.querySelectorAll(".ab-feed-body")[0];if(null!=t){const i=vs(n,e);t.parentNode&&t.parentNode.replaceChild(i,t);yu(n,i.parentNode)}}}}function ps(n,t){n&&t.setAttribute("data-update-subscription-id",n)}function ws(n){if(u.X()){const t=document.querySelectorAll(".ab-feed");for(let i=0;i<t.length;i++)(null==n||null!=n&&t[i].parentNode===n)&&cr(t[i])}}function bs(n,t){if(u.X()){po();let e=!1;null==n&&(n=document.body,e=!0);const o=u.nn(h.tn)||u.nn(h.en)||!1,f=hr.rr().As(!1);"function"==typeof t&&pu(f,t(f.cards.slice()),f.lastUpdated,null,o);const r=ys(f,o,e),c=hr.rr(),l=c.ps();(null==f.lastUpdated||(new Date).valueOf()-f.lastUpdated.valueOf()>wi.ur)&&(null==l||(new Date).valueOf()-l>wi.ur)&&(i.info(`Cached content cards were older than max TTL of ${wi.ur} ms, requesting an update from the server.`),ie(f,r),c.vs((new Date).valueOf()));const v=(new Date).valueOf(),y=ks(function(n){const i=r.querySelectorAll(".ab-refresh-button")[0];if(null!=i){let n=500,t=n-=(new Date).valueOf()-v;const u=r.getAttribute(as);u&&(t=parseInt(u),isNaN(t)||(n-=(new Date).valueOf()-t));setTimeout(function(){i.className=i.className.replace(/fa-spin/g,"")},Math.max(n,0))}let u=n.cards;"function"==typeof t&&(u=t(u.slice()));pu(f,u,n.lastUpdated,r,o)});ps(y,r);const a=function(n){const i=n.querySelectorAll(".ab-feed");let t=null;for(let r=0;r<i.length;r++)i[r].parentNode===n&&(t=i[r]);null!=t?(cr(t),null!=t.parentNode&&t.parentNode.replaceChild(r,t)):n.appendChild(r);setTimeout(function(){r.className=r.className.replace("ab-hide","ab-show")},0);e&&r.focus();yu(f,r);cs(f.cards,n)};var s;null!=n?a(n):window.onload=(s=window.onload,function(){"function"==typeof s&&s(new Event("oldLoad"));a(document.body)})}}function ks(n){if(u.X()){const t=hr.rr(),i=t.si(n);if(!t.ws()){const n=u.cr();if(n){const i=n.mr(()=>{t.qs()});i&&t.Cs(i)}}return i}}function uv(n,t){u.X()&&(document.querySelectorAll(".ab-feed").length>0?ws():bs(n,t))}function fv(n){if(u.X()){const t=u.nr();if(t){if(!d(n))return i.error("Cannot set SDK metadata because metadata is not an array."),!1;for(const t of n)if(!ri(re,t,"sdkMetadata contained an invalid value.","BrazeSdkMetadata"))return!1;return t.addSdkMetadata(n),!0}}}function ds(n,t){if(u.X()){if(null==n||0===n.length||n!=n)return void i.error("changeUser requires a non-empty userId.");if(tu(n)>l.lr)return void i.error(`Rejected user id "${n}" because it is longer than ${l.lr} bytes.`);if(null==t||st(t,"set signature for new user","signature")){const r=u.cr();r&&r.changeUser(n.toString(),u.gr(),t)}}}function ev(){i.info("Destroying Braze instance");u.destroy(!0)}function ov(){const t=u.cr();t&&t.requestImmediateDataFlush();const f=new nt.ee(null,!0),e="This-cookie-will-expire-in-"+f.ne();f.store(r.se,e);const n=a.ts.Zt;new a(n,i).setItem(n.hs.ae,n.ie,!0);i.info("disableSDK was called");u.destroy(!1);u.oe(!0)}function sv(){new nt.ee(null,!0).remove(r.se);const n=a.ts.Zt;new a(n,i).re(n.hs.ae,n.ie);i.info("enableSDK was called");u.destroy(!1);u.oe(!1)}function hv(n){if(u.X()){const t=u.te();if(t){const r=t.ce().id;if("function"!=typeof n)return r;i.warn("The callback for getDeviceId is deprecated. You can access its return value directly instead (e.g. `const id = braze.getDeviceId()`)");n(r)}}}function cv(n,t){return u.initialize(n,t)}function lv(){return!!new nt.ee(null,!0).br(r.se)}function av(){return u.so()}function nh(n,t){if(!u.X())return!1;if(null==n||n.length<=0)return i.error(`logCustomEvent requires a non-empty eventName, got "${n}". Ignoring event.`),!1;if(!ot(n,"log custom event","the event name"))return!1;const[e,o]=iu(t,sc,"eventProperties",`log custom event "${n}"`,"event");if(!e)return!1;const f=u.ir();if(f&&f.me(n))return i.info(`Custom Event "${n}" is blocklisted, ignoring.`),!1;const r=k.q(c.CustomEvent,{n:n,p:o});if(r.L){i.info(`Logged custom event "${n}".`);for(const i of r.ge)b.rr().fe(w.ue,[n,t],i)}return r.L}function th(n,t,r,f,e){if(!u.X())return!1;if(null==r&&(r="USD"),null==f&&(f=1),null==n||n.length<=0)return i.error(`logPurchase requires a non-empty productId, got "${n}", ignoring.`),!1;if(!ot(n,"log purchase","the purchase name"))return!1;if(null==t||isNaN(parseFloat(t.toString())))return i.error(`logPurchase requires a numeric price, got ${t}, ignoring.`),!1;const h=parseFloat(t.toString()).toFixed(2);if(null==f||isNaN(parseInt(f.toString())))return i.error(`logPurchase requires an integer quantity, got ${f}, ignoring.`),!1;const o=parseInt(f.toString());if(o<1||o>be)return i.error(`logPurchase requires a quantity >1 and <${be}, got ${o}, ignoring.`),!1;if(r=null!=r?r.toUpperCase():r,-1===["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTC","BTN","BWP","BYR","BZD","CAD","CDF","CHF","CLF","CLP","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GGP","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MTL","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XCD","XDR","XOF","XPD","XPF","XPT","YER","ZAR","ZMK","ZMW","ZWL",].indexOf(r))return i.error(`logPurchase requires a valid currencyCode, got ${r}, ignoring.`),!1;const[a,v]=iu(e,"logPurchase","purchaseProperties",`log purchase "${n}"`,"purchase");if(!a)return!1;const l=u.ir();if(l&&l.Dr(n))return i.info(`Purchase "${n}" is blocklisted, ignoring.`),!1;const s=k.q(c.Pr,{pid:n,c:r,p:h,q:o,pr:v});if(s.L){i.info(`Logged ${o} purchase${o>1?"s":""} of "${n}" for ${r} ${h}.`);for(const t of s.ge)b.rr().fe(w.Rr,[n,e],t)}return s.L}function vv(){if(u.X()){const n=u.cr();if(n){n.openSession();const t=a.ts.Zt,r=new a(t,i);r.jr(t.hs.hr,(u,f)=>{const o=f.lastClick,e=f.trackingString;i.info(`Firing push click trigger from ${e} push click at ${o}`);const h=n.kr(o,e),s=function(){b.rr().fe(w.vr,[e],h)};n.$r(s,s);r.re(t.hs.hr,u)});r.ss(t.hs.wr,function(t){n.yr(t)})}}}function yv(){u.X()&&u.removeAllSubscriptions()}function rh(n){if(u.X()){const t=u.cr();t&&t.requestImmediateDataFlush(n)}}function pv(n){i.setLogger(n)}function wv(n){if(!u.X()||""===n||!st(n,"set signature","signature",!1))return!1;const t=u.Sr();return!!t&&(t.setSdkAuthenticationSignature(n),!0)}function bv(n){var t;if(u.X())return null===(t=u.Sr())||void 0===t?void 0:t.subscribeToSdkAuthenticationFailures(n)}function kv(){i.toggleLogging()}function dv(){const n=u.l();if(null==n)return void i.warn(vt);n.clearData();const t=ft(a.ts);for(let n=0;n<t.length;n++){const r=t[n],u=a.ts[r];new a(u,i).clearData()}if(u.X())for(const n of u.gr())n.clearData(!0)}function fh(){if(u.X())return dr.rr().qs()}function ny(){if(u.X())return dr.rr().Gi()}function eh(){if(u.X()){const n=document.querySelectorAll(".ab-feed");for(let t=0;t<n.length;t++)cr(n[t])}}function oh(){var n;if(u.X())return null===(n=u.nr())||void 0===n?void 0:n.qr(ic.Ar).L}function fe(n,t,r){if(u.X()){po();const o=(n,t)=>{if(null==t)return n;const i=[];for(let n=0;n<t.length;n++)i.push(t[n].toLowerCase());const r=[];for(let t=0;t<n.length;t++){const u=[],f=n[t].categories||[];for(let n=0;n<f.length;n++)u.push(f[n].toLowerCase());uc(u,i).length>0&&r.push(n[t])}return r},s=u.nn(h.tn)||u.nn(h.en)||!1;let c=!1;null==n&&(n=document.body,c=!0);let f,a=!1;null==t?(f=dr.rr().Gi(),pu(f,o(f.cards,r),f.lastUpdated,null,s),a=!0):f=new er(o(t,r),new Date);const e=ys(f,s,c);if(a){(null==f.lastUpdated||(new Date).valueOf()-f.lastUpdated.valueOf()>er.ur)&&(i.info(`Cached feed was older than max TTL of ${er.ur} ms, requesting an update from the server.`),ie(f,e));const n=(new Date).valueOf(),t=hh(function(t){const i=e.querySelectorAll(".ab-refresh-button")[0];if(null!=i){let t=500;t-=(new Date).valueOf()-n;const r=e.getAttribute(as);if(r){const n=parseInt(r);isNaN(n)||(t-=(new Date).valueOf()-n)}setTimeout(function(){i.className=i.className.replace(/fa-spin/g,"")},Math.max(t,0))}pu(f,o(t.cards,r),t.lastUpdated,e,s)});ps(t,e)}const v=n=>{const i=n.querySelectorAll(".ab-feed");let t=null;for(let r=0;r<i.length;r++)i[r].parentNode===n&&(t=i[r]);null!=t?(cr(t),t.parentNode&&t.parentNode.replaceChild(e,t)):n.appendChild(e);setTimeout(function(){e.className=e.className.replace("ab-hide","ab-show")},0);c&&e.focus();oh();yu(f,e);f&&cs(f.cards,n)};var l;null!=n?v(n):window.onload=(l=window.onload,function(){"function"==typeof l&&l(new Event("oldLoad"));v(document.body)})}}function hh(n){if(u.X())return dr.rr().si(n)}function ty(n,t,i){u.X()&&(document.querySelectorAll(".ab-feed").length>0?eh():fe(n,t,i))}function iy(){if(u.X())return it.isPushBlocked()}function ry(){if(u.X())return it.isPushPermissionGranted()}function uy(){if(u.X())return it.isPushSupported()}function lh(n,t){if(u.X())return bu.m().subscribe((t,i,r)=>{const f=u.cr();f&&f.requestImmediateDataFlush();"function"==typeof n&&n(t,i,r)},t)}function ah(n,t){if(u.X())return bu.m().unsubscribe(n,t)}function fy(n){if(n[p._t.ht]&&"boolean"==typeof n[p._t.le])return new p(n[p._t.ht],n[p._t.le],n[p._t.pe],n[p._t.Fe]);i.info(`Unable to create feature flag from ${JSON.stringify(n,null,2)}`)}function ey(n){if(n[p.tt.ht]&&"boolean"==typeof n[p.tt.le])return new p(n[p.tt.ht],n[p.tt.le],n[p.tt.pe],n[p.tt.Fe]);i.info(`Unable to deserialize feature flag from ${JSON.stringify(n,null,2)}`)}function yh(n,t,i=!1){if(u.X())return nr.rr().refreshFeatureFlags(n,t,i)}function ph(n,t){yh(n,t)}function sy(n){if(u.X()){const t=u.ir();if(t&&!t.mi())return i.info("Feature flags are not enabled."),null;const r=nr.rr().Fi();return r[n]?r[n]:null}}function wh(){if(u.X()){const n=[],t=u.ir();if(t&&!t.mi())return i.info("Feature flags are not enabled."),n;const r=nr.rr().Fi();for(const t in r)n.push(r[t]);return n}}function hy(n){if(u.X()){const t=nr.rr();if(t.Ni()){const t=wh();t&&"function"==typeof n&&n(t)}return t.si(n)}}function cy(n){if(u.X()){if(!n)return!1;const f="Not logging a feature flag impression. The feature flag was not part of any matching experiment.",e=nr.rr().Fi();if(!e[n])return i.info(f),!1;const t=e[n].trackingString;if(!t)return i.info(f),!1;const r=nr.rr().pi();if(r[t])return i.info("Not logging another feature flag impression. This ID was already logged this session."),!1;r[t]=!0;nr.rr().ji(r);const o={fid:n,fts:t};return k.q(c.Fr,o).L}}function ay(){return he}function vy(n){var t=[ti,se].join("-");if(!n){window.console.log("You must pass a config object to register the kit "+t);return}if(!ve(n)){window.console.log("'config' must be an object. You passed in a "+typeof n);return}ve(n.kits)?n.kits[t]={constructor:le}:(n.kits={},n.kits[t]={constructor:le});window.console.log("Successfully registered "+t+" to your mParticle configuration")}function ae(){for(var r,t,n,u={},i=0;i<arguments.length;i+=1)for(r=arguments[i],t=Object.keys(r),n=0;n<t.length;n+=1)u[t[n]]=r[t[n]];return u}function ve(n){return n!=null&&typeof n=="object"&&Array.isArray(n)===!1}function ye(n){return n==null||!(Object.keys(n)||n).length}var i,ii,ku,wt,bi,it,w,cu,kt,k,lu,hr,re,gs,ue,ih,uh,dr,sh,bu,ch,ee,vh,nr,oe,bh,kh,gh;const y={init:function(n){void 0===n&&void 0!==y.zg||(y.zg=!!n);y.t||(y.t=!0)},destroy:function(){y.t=!1;y.zg=void 0;y.vd=void 0},setLogger:function(n){"function"==typeof n?(y.init(),y.vd=n):y.info("Ignoring setLogger call since logger is not a function")},toggleLogging:function(){y.init();y.zg?(console.log("Disabling Braze logging"),y.zg=!1):(console.log("Enabled Braze logging"),y.zg=!0)},info:function(n){if(y.zg){const t="Braze: "+n;null!=y.vd?y.vd(t):console.log(t)}},warn:function(n){if(y.zg){const t="Braze SDK Warning: "+n+" (v5.5.0)";null!=y.vd?y.vd(t):console.warn(t)}},error:function(n){if(y.zg){const t="Braze SDK Error: "+n+" (v5.5.0)";null!=y.vd?y.vd(t):console.error(t)}}};i=y;const tc={Tn:function(n){const r=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),t=atob(r),i=new Uint8Array(t.length);for(let n=0;n<t.length;++n)i[n]=t.charCodeAt(n);return i}},c={CustomEvent:"ce",Pr:"p",Ku:"pc",vc:"ca",Ua:"i",Ls:"ie",M:"cci",R:"ccic",k:"ccc",F:"ccd",ql:"ss",xl:"se",Xi:"si",$i:"sc",Oi:"sbc",Cc:"sfe",mo:"iec",Ju:"lr",Eu:"uae",O:"ci",D:"cc",Xu:"lcaa",Gu:"lcar",On:"inc",Ln:"add",Rn:"rem",$n:"set",Bn:"ncam",Hu:"sgu",Fr:"ffi"},ic={Ar:"feed_displayed",Ec:"content_cards_displayed"},rc={W:function(){const n=(n=!1)=>{const t=(Math.random().toString(16)+"000000000").substr(2,8);return n?"-"+t.substr(0,4)+"-"+t.substr(4,4):t};return n()+n(!0)+n(!0)+n()}};ii=rc;class a{constructor(n,t){this.database=n;this.vd=t;this.parent="undefined"==typeof window?self:window;this.database=n;this.vd=t}Dd(){if("indexedDB"in this.parent)return this.parent.indexedDB}isSupported(){var n;try{if(null==this.Dd())return!1;{const t=null===(n=this.Dd())||void 0===n?void 0:n.open("Braze IndexedDB Support Test");if(t&&(t.onupgradeneeded=()=>t.result.close(),t.onsuccess=()=>t.result.close()),"undefined"!=typeof window){const n=window,t=n.chrome||n.browser||n.pd;if(t&&t.runtime&&t.runtime.id)return this.vd.info("Not using IndexedDB for storage because we are running inside an extension"),!1}return!0}}catch(n){return this.vd.info("Not using IndexedDB for storage due to following error: "+n),!1}}Bd(n,t){var u;const r=null===(u=this.Dd())||void 0===u?void 0:u.open(this.database.Sd,this.database.VERSION);if(null==r)return"function"==typeof t&&t(),!1;const i=this;return r.onupgradeneeded=n=>{var t;i.vd.info("Upgrading indexedDB "+i.database.Sd+" to v"+i.database.VERSION+"...");const r=null===(t=n.target)||void 0===t?void 0:t.result;for(const n in i.database.hs){const t=n;i.database.hs.hasOwnProperty(n)&&!r.objectStoreNames.contains(i.database.hs[t])&&r.createObjectStore(i.database.hs[t])}},r.onsuccess=r=>{var u;const f=null===(u=r.target)||void 0===u?void 0:u.result;f.onversionchange=()=>{f.close(),"function"==typeof t&&t(),i.vd.error("Needed to close the database unexpectedly because of an upgrade in another tab")};n(f)},r.onerror=n=>{var r;const u=n;return i.vd.info("Could not open indexedDB "+i.database.Sd+" v"+i.database.VERSION+": "+(null===(r=u.target)||void 0===r?void 0:r.errorCode)),"function"==typeof t&&t(),!0},!0}setItem(n,t,i,r,u){if(!this.isSupported())return"function"==typeof u&&u(),!1;const f=this;return this.Bd(e=>{if(!e.objectStoreNames.contains(n))return f.vd.error("Could not store object "+t+" in "+n+" on indexedDB "+f.database.Sd+" - "+n+" is not a valid objectStore"),"function"==typeof u&&u(),void e.close();const o=e.transaction([n],"readwrite");o.oncomplete=()=>e.close();const s=o.objectStore(n).put(i,t);s.onerror=()=>{f.vd.error("Could not store object "+t+" in "+n+" on indexedDB "+f.database.Sd),"function"==typeof u&&u()};s.onsuccess=()=>{"function"==typeof r&&r()}},u)}getItem(n,t,i){if(!this.isSupported())return!1;const r=this;return this.Bd(u=>{if(!u.objectStoreNames.contains(n))return r.vd.error("Could not retrieve object "+t+" in "+n+" on indexedDB "+r.database.Sd+" - "+n+" is not a valid objectStore"),void u.close();const f=u.transaction([n],"readonly");f.oncomplete=()=>u.close();const e=f.objectStore(n).get(t);e.onerror=()=>{r.vd.error("Could not retrieve object "+t+" in "+n+" on indexedDB "+r.database.Sd)};e.onsuccess=n=>{var t;const r=null===(t=n.target)||void 0===t?void 0:t.result;null!=r&&i(r)}})}jr(n,t,i){if(!this.isSupported())return"function"==typeof i&&i(),!1;const r=this;return this.Bd(u=>{if(!u.objectStoreNames.contains(n))return r.vd.error("Could not retrieve last record from "+n+" on indexedDB "+r.database.Sd+" - "+n+" is not a valid objectStore"),"function"==typeof i&&i(),void u.close();const f=u.transaction([n],"readonly");f.oncomplete=()=>u.close();const e=f.objectStore(n).openCursor(null,"prev");e.onerror=()=>{r.vd.error("Could not open cursor for "+n+" on indexedDB "+r.database.Sd),"function"==typeof i&&i()};e.onsuccess=n=>{var u;const r=null===(u=n.target)||void 0===u?void 0:u.result;null!=r&&null!=r.value&&null!=r.key?t(r.key,r.value):"function"==typeof i&&i()}},i)}re(n,t){if(!this.isSupported())return!1;const i=this;return this.Bd(r=>{if(!r.objectStoreNames.contains(n))return i.vd.error("Could not delete record "+t+" from "+n+" on indexedDB "+i.database.Sd+" - "+n+" is not a valid objectStore"),void r.close();const u=r.transaction([n],"readwrite");u.oncomplete=()=>r.close();u.objectStore(n).delete(t).onerror=()=>{i.vd.error("Could not delete record "+t+" from "+n+" on indexedDB "+i.database.Sd)}})}ss(n,t){if(!this.isSupported())return!1;const i=this;return this.Bd(r=>{if(!r.objectStoreNames.contains(n))return i.vd.error("Could not retrieve objects from "+n+" on indexedDB "+i.database.Sd+" - "+n+" is not a valid objectStore"),void r.close();const f=r.transaction([n],"readwrite");f.oncomplete=()=>r.close();const e=f.objectStore(n),o=e.openCursor(),u=[];o.onerror=()=>{u.length>0?(i.vd.info("Cursor closed midway through for "+n+" on indexedDB "+i.database.Sd),t(u)):i.vd.error("Could not open cursor for "+n+" on indexedDB "+i.database.Sd)};o.onsuccess=n=>{var r;const i=null===(r=n.target)||void 0===r?void 0:r.result;null!=i?(null!=i.value&&null!=i.key&&(e.delete(i.key).onsuccess=()=>{u.push(i.value)}),"function"==typeof i.continue&&i.continue()):u.length>0&&t(u)}})}clearData(){if(!this.isSupported())return!1;const n=[];for(const t in this.database.hs){const i=t;this.database.hs.hasOwnProperty(t)&&this.database.hs[i]!==this.database.hs.ae&&n.push(this.database.hs[i])}const t=this;return this.Bd(function(i){const r=i.transaction(n,"readwrite");r.oncomplete=()=>i.close();for(let i=0;i<n.length;i++){const u=n[i];r.objectStore(u).clear().onerror=function(){t.vd.error("Could not clear "+this.source.name+" on indexedDB "+t.database.Sd)}}r.onerror=function(){t.vd.error("Could not clear object stores on indexedDB "+t.database.Sd)}})}}a.ts={Zt:{Sd:"AppboyServiceWorkerAsyncStorage",VERSION:6,hs:{Ka:"data",hr:"pushClicks",cu:"pushSubscribed",Cd:"fallbackDevice",es:"cardUpdates",ae:"optOut",wr:"pendingData",jh:"sdkAuthenticationSignature"},ie:1}};ku={Eo:"allowCrawlerActivity",_o:"baseUrl",Io:"noCookies",So:"devicePropertyAllowlist",Aa:"disablePushTokenMaintenance",Ao:"enableLogging",No:"enableSdkAuthentication",qa:"manageServiceWorkerExternally",Oo:"minimumIntervalBetweenTriggerActionsInSeconds",Ro:"sessionTimeoutInSeconds",Po:"appVersion",Lo:"appVersionNumber",Ma:"serviceWorkerLocation",ka:"safariWebsitePushId",zn:"localization",bo:"contentSecurityNonce",Do:"allowUserSuppliedJavascript",jo:"inAppMessageZIndex",ho:"openInAppMessagesInNewTab",en:"openNewsFeedCardsInNewTab",Lh:"requireExplicitInAppMessageDismissal",Mo:"doNotLoadFontAwesome",Uo:"deviceId",_a:"serviceWorkerScope",Wo:"sdkFlavor",tn:"openCardsInNewTab"};const be=100,du="inAppMessage must be an InAppMessage object",gu="must be a Card object",oc=500,sc="logCustomEvent",or="setCustomUserAttribute",vt="Braze must be initialized before calling methods.",hc=30,cc=30,lc=72e5,ac=3,ke=1;class g{constructor(){this._e={}}Nt(n){if("function"!=typeof n)return null;const t=ii.W();return this._e[t]=n,t}removeSubscription(n){delete this._e[n]}removeAllSubscriptions(){this._e={}}ic(){return Object.keys(this._e).length}Rt(n){const t=[];for(const i in this._e){const r=this._e[i];t.push(r(n))}return t}}class f{constructor(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){this.id=n;this.viewed=t;this.title=i;this.imageUrl=r;this.description=u;this.created=f;this.updated=e;this.categories=o;this.expiresAt=s;this.url=h;this.linkText=c;this.aspectRatio=l;this.extras=a;this.pinned=v;this.dismissible=y;this.clicked=p;this.id=n;this.viewed=t||!1;this.title=i||"";this.imageUrl=r;this.description=u||"";this.created=f||null;this.updated=e||null;this.categories=o||[];this.expiresAt=s||null;this.url=h;this.linkText=c;null==l?this.aspectRatio=null:(l=parseFloat(l.toString()),this.aspectRatio=isNaN(l)?null:l);this.extras=a||{};this.pinned=v||!1;this.dismissible=y||!1;this.dismissed=!1;this.clicked=p||!1;this.isControl=!1;this.test=!1;this.Et=null;this.Tt=null;this.It=null}subscribeToClickedEvent(n){return this.St().Nt(n)}subscribeToDismissedEvent(n){return this.At().Nt(n)}removeSubscription(n){this.St().removeSubscription(n);this.At().removeSubscription(n)}removeAllSubscriptions(){this.St().removeAllSubscriptions();this.At().removeAllSubscriptions()}dismissCard(){if(this.dismissible&&!this.dismissed){"function"==typeof this.logCardDismissal&&this.logCardDismissal();let n=this.T;!n&&this.id&&(n=document.getElementById(this.id));n&&(n.style.height=n.offsetHeight+"px",n.className=n.className+" ab-hide",setTimeout(function(){n&&n.parentNode&&(n.style.height="0",n.style.margin="0",setTimeout(function(){n&&n.parentNode&&n.parentNode.removeChild(n)},f.Dt))},oc))}}St(){return null==this.Et&&(this.Et=new g),this.Et}At(){return null==this.Tt&&(this.Tt=new g),this.Tt}K(){const n=(new Date).valueOf();return!(null!=this.It&&n-this.It<f.Ct)&&(this.It=n,this.viewed=!0,!0)}p(){this.viewed=!0;this.clicked=!0;this.St().Rt()}N(){return!(!this.dismissible||this.dismissed)&&(this.dismissed=!0,this.At().Rt(),!0)}Lt(n){if(null==n||n[f._t.ht]!==this.id)return!0;if(n[f._t.Ot])return!1;if(null!=n[f._t.nt]&&null!=this.updated&&parseInt(n[f._t.nt])<ar(this.updated.valueOf()))return!0;if(n[f._t.et]&&!this.viewed&&(this.viewed=!0),n[f._t.zt]&&!this.clicked&&(this.clicked=n[f._t.zt]),null!=n[f._t.rt]&&(this.title=n[f._t.rt]),null!=n[f._t.ot]&&(this.imageUrl=n[f._t.ot]),null!=n[f._t.ct]&&(this.description=n[f._t.ct]),null!=n[f._t.nt]){const t=at(n[f._t.nt]);null!=t&&(this.updated=t)}if(null!=n[f._t.lt]){let t;t=n[f._t.lt]===f.Mt?null:at(n[f._t.lt]);this.expiresAt=t}if(null!=n[f._t.URL]&&(this.url=n[f._t.URL]),null!=n[f._t.ft]&&(this.linkText=n[f._t.ft]),null!=n[f._t.xt]){const t=parseFloat(n[f._t.xt].toString());this.aspectRatio=isNaN(t)?null:t}return null!=n[f._t.bt]&&(this.extras=n[f._t.bt]),null!=n[f._t.gt]&&(this.pinned=n[f._t.gt]),null!=n[f._t.jt]&&(this.dismissible=n[f._t.jt]),null!=n[f._t.kt]&&(this.test=n[f._t.kt]),!0}Y(){i.error("Must be implemented in a subclass")}}f.Mt=-1;f._t={ht:"id",et:"v",jt:"db",Ot:"r",nt:"ca",gt:"p",lt:"ea",bt:"e",Z:"tp",ot:"i",rt:"tt",ct:"ds",URL:"u",ft:"dm",xt:"ar",zt:"cl",kt:"t"};f.it={st:"captioned_image",Pt:"text_announcement",Ut:"short_news",Gt:"banner_image",Xt:"control"};f.tt={ht:"id",et:"v",jt:"db",dt:"cr",nt:"ca",gt:"p",ut:"t",lt:"ea",bt:"e",Z:"tp",ot:"i",rt:"tt",ct:"ds",URL:"u",ft:"dm",xt:"ar",zt:"cl",kt:"s"};f.vt={Vt:"ADVERTISING",Wt:"ANNOUNCEMENTS",wt:"NEWS",Ft:"SOCIAL"};f.Dt=400;f.Ct=1e4;class de extends f{constructor(n,t,i,r,u,f,e,o,s,h,c,l,a,v){super(n,t,null,i,null,r,u,f,e,o,s,h,c,l,a,v);this._="ab-image-only";this.S=!1;this.test=!1}Y(){const n={};return n[f.tt.Z]=f.it.Gt,n[f.tt.ht]=this.id,n[f.tt.et]=this.viewed,n[f.tt.ot]=this.imageUrl,n[f.tt.nt]=this.updated,n[f.tt.dt]=this.created,n[f.tt.ut]=this.categories,n[f.tt.lt]=this.expiresAt,n[f.tt.URL]=this.url,n[f.tt.ft]=this.linkText,n[f.tt.xt]=this.aspectRatio,n[f.tt.bt]=this.extras,n[f.tt.gt]=this.pinned,n[f.tt.jt]=this.dismissible,n[f.tt.zt]=this.clicked,n[f.tt.kt]=this.test,n}}class ge extends f{constructor(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){super(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p);this._="ab-captioned-image";this.S=!0;this.test=!1}Y(){const n={};return n[f.tt.Z]=f.it.st,n[f.tt.ht]=this.id,n[f.tt.et]=this.viewed,n[f.tt.rt]=this.title,n[f.tt.ot]=this.imageUrl,n[f.tt.ct]=this.description,n[f.tt.nt]=this.updated,n[f.tt.dt]=this.created,n[f.tt.ut]=this.categories,n[f.tt.lt]=this.expiresAt,n[f.tt.URL]=this.url,n[f.tt.ft]=this.linkText,n[f.tt.xt]=this.aspectRatio,n[f.tt.bt]=this.extras,n[f.tt.gt]=this.pinned,n[f.tt.jt]=this.dismissible,n[f.tt.zt]=this.clicked,n[f.tt.kt]=this.test,n}}class no extends f{constructor(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){super(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p);this._="ab-classic-card";this.S=!0}Y(){const n={};return n[f.tt.Z]=f.it.Ut,n[f.tt.ht]=this.id,n[f.tt.et]=this.viewed,n[f.tt.rt]=this.title,n[f.tt.ot]=this.imageUrl,n[f.tt.ct]=this.description,n[f.tt.nt]=this.updated,n[f.tt.dt]=this.created,n[f.tt.ut]=this.categories,n[f.tt.lt]=this.expiresAt,n[f.tt.URL]=this.url,n[f.tt.ft]=this.linkText,n[f.tt.xt]=this.aspectRatio,n[f.tt.bt]=this.extras,n[f.tt.gt]=this.pinned,n[f.tt.jt]=this.dismissible,n[f.tt.zt]=this.clicked,n[f.tt.kt]=this.test,n}}class vr extends f{constructor(n,t,i,r,u,f){super(n,t,null,null,null,null,i,null,r,null,null,null,u,f);this.isControl=!0;this._="ab-control-card";this.S=!1}Y(){const n={};return n[f.tt.Z]=f.it.Xt,n[f.tt.ht]=this.id,n[f.tt.et]=this.viewed,n[f.tt.nt]=this.updated,n[f.tt.lt]=this.expiresAt,n[f.tt.bt]=this.extras,n[f.tt.gt]=this.pinned,n[f.tt.kt]=this.test,n}}class et{constructor(n,t,i,r,u){this.userId=n;this.type=t;this.time=i;this.sessionId=r;this.data=u;this.userId=n;this.type=t;this.time=ec(i);this.sessionId=r;this.data=u}Mr(){var t;const n={name:this.type,time:ar(this.time),data:this.data||{},session_id:this.sessionId};null!=this.userId&&(n.user_id=this.userId);const i=(null===(t=u.Sr())||void 0===t?void 0:t.Fh())||!1;if(!n.user_id&&!i){const t=nf(u.l());t&&(n.alias=t)}return n}Y(){return{u:this.userId,t:this.type,ts:this.time,s:this.sessionId,d:this.data}}static fromJson(n){return new et(n.user_id,n.name,n.time,n.session_id,n.data)}static RE(n){return null!=n&&lr(n)&&null!=n.t&&""!==n.t}static qn(n){return new et(n.u,n.t,n.ts,n.s,n.d)}}const yt=n=>n instanceof Error?n.message:String(n);class ui{constructor(n,t,i){this.eu=n;null==n&&(n=ii.W());this.Dl=!i||isNaN(i)?(new Date).valueOf():i;this.eu=n;this.Wl=(new Date).valueOf();this.Hl=t}Y(){return`g:${encodeURIComponent(this.eu)}|e:${this.Hl}|c:${this.Dl}|l:${this.Wl}`}static hE(n){if("string"!=typeof n)return null;const u=n.lastIndexOf("|e:"),i=n.substring(0,u),t=i.split("g:")[1];let r;return r=/[|:]/.test(t)?encodeURIComponent(t):t,n=n.replace(i,`g:${r}`)}static qn(n){let t;if("string"==typeof n)try{const i=n.split("|");if(!d(i)||4!==i.length)return null;const u=n=>n.split(":")[1],r=n=>{const t=parseInt(u(n));if(!isNaN(t))return t};t=new ui(decodeURIComponent(u(i[0])),r(i[1]),r(i[2]));t.Wl=r(i[3])}catch(t){i.info(`Unable to parse cookie string ${n}, failed with error: ${yt(t)}`)}else{if(null==n||null==n.g)return null;t=new ui(n.g,n.e,n.c);t.Wl=n.l}return t}}const s={types:{ro:"container",logCustomEvent:"logCustomEvent",setEmailNotificationSubscriptionType:"setEmailNotificationSubscriptionType",setPushNotificationSubscriptionType:"setPushNotificationSubscriptionType",setCustomUserAttribute:"setCustomUserAttribute",requestPushPermission:"requestPushPermission",addToSubscriptionGroup:"addToSubscriptionGroup",removeFromSubscriptionGroup:"removeFromSubscriptionGroup",addToCustomAttributeArray:"addToCustomAttributeArray",removeFromCustomAttributeArray:"removeFromCustomAttributeArray",no:"openLink",ao:"openLinkInWebView"},properties:{type:"type",oo:"steps",eo:"args"}},yr={Vi:"unknownBrazeAction",Yi:"noPushPrompt"},tf=(n,t)=>{switch(n){case yr.Vi:return`${t} contains an unknown braze action type and will not be displayed.`;case yr.Yi:return`${t} contains a push prompt braze action, but is not eligible for a push prompt. Ignoring.`;default:return""}};const yc=/^[^\x00-\x1F\x22]+$/,pc=/[$.]/,wc=["$add","$update","$remove","$identifier_key","$identifier_value","$new_object","$time","$google_ad_personalization","$google_ad_user_data",],bc=new RegExp(/^.+@.+\..+$/),pr=/^brazeActions:\/\/v\d+\//;class l{constructor(n,t){this.yt=n;this.Ui=t;this.yt=n;this.Ui=t}getUserId(n){const t=this.yt.getUserId();if("function"!=typeof n)return t;i.warn("The callback for getUserId is deprecated. You can access its return value directly instead (e.g. `const id = braze.getUser().getUserId()`)");n(t)}addAlias(n,t){return!st(n,"add alias","the alias",!1)||n.length<=0?(i.error("addAlias requires a non-empty alias"),!1):!st(t,"add alias","the label",!1)||t.length<=0?(i.error("addAlias requires a non-empty label"),!1):this.Ui.Cn(n,t).L}setFirstName(n){return!!st(n,"set first name","the firstName",!0)&&this.yt.nu("first_name",n)}setLastName(n){return!!st(n,"set last name","the lastName",!0)&&this.yt.nu("last_name",n)}setEmail(n){return null===n||gc(n)?this.yt.nu("email",n):(i.error(`Cannot set email address - "${n}" did not pass RFC-5322 validation.`),!1)}setGender(n){return"string"==typeof n&&(n=n.toLowerCase()),!(null!==n&&!ri(l.Genders,n,`Gender "${n}" is not a valid gender.`,"User.Genders"))&&this.yt.nu("gender",n)}setDateOfBirth(n,t,r){return null===n&&null===t&&null===r?this.yt.nu("dob",null):(n=null!=n?parseInt(n.toString()):null,t=null!=t?parseInt(t.toString()):null,r=null!=r?parseInt(r.toString()):null,null==n||null==t||null==r||isNaN(n)||isNaN(t)||isNaN(r)||t>12||t<1||r>31||r<1?(i.error("Cannot set date of birth - parameters should comprise a valid date e.g. setDateOfBirth(1776, 7, 4);"),!1):this.yt.nu("dob",`${n}-${t}-${r}`))}setCountry(n){return!!st(n,"set country","the country",!0)&&this.yt.nu("country",n)}setHomeCity(n){return!!st(n,"set home city","the homeCity",!0)&&this.yt.nu("home_city",n)}setLanguage(n){return!!st(n,"set language","the language",!0)&&this.yt.nu("language",n)}setEmailNotificationSubscriptionType(n){return!!ri(l.NotificationSubscriptionTypes,n,`Email notification setting "${n}" is not a valid subscription type.`,"User.NotificationSubscriptionTypes")&&this.yt.nu("email_subscribe",n)}setPushNotificationSubscriptionType(n){return!!ri(l.NotificationSubscriptionTypes,n,`Push notification setting "${n}" is not a valid subscription type.`,"User.NotificationSubscriptionTypes")&&this.yt.nu("push_subscribe",n)}setPhoneNumber(n){return!!st(n,"set phone number","the phoneNumber",!0)&&(null===n||n.match(l.En)?this.yt.nu("phone",n):(i.error(`Cannot set phone number - "${n}" did not pass validation.`),!1))}setLastKnownLocation(n,t,r,u,f){return null==n||null==t?(i.error("Cannot set last-known location - latitude and longitude are required."),!1):(n=parseFloat(n.toString()),t=parseFloat(t.toString()),null!=r&&(r=parseFloat(r.toString())),null!=u&&(u=parseFloat(u.toString())),null!=f&&(f=parseFloat(f.toString())),isNaN(n)||isNaN(t)||null!=r&&isNaN(r)||null!=u&&isNaN(u)||null!=f&&isNaN(f)?(i.error("Cannot set last-known location - all supplied parameters must be numeric."),!1):n>90||n<-90||t>180||t<-180?(i.error("Cannot set last-known location - latitude and longitude are bounded by ±90 and ±180 respectively."),!1):null!=r&&r<0||null!=f&&f<0?(i.error("Cannot set last-known location - accuracy and altitudeAccuracy may not be negative."),!1):this.Ui.setLastKnownLocation(this.yt.getUserId(),n,t,u,r,f).L)}setCustomUserAttribute(n,t,i){if(!ff(n))return!1;const r=t=>{const[i]=iu(t,or,"attribute value",`set custom user attribute "${n}"`,"custom user attribute");return i};if(d(t)){const[i,u]=dc(n,t);if(!i&&!u&&0!==t.length)return!1;if(i||0===t.length)return this.Ui.Fn(c.$n,n,t).L;for(const n of t)if(!r(n))return!1}else if(lr(t)){if(!r(t))return!1;if(i)return this.Ui.Fn(c.Bn,n,t).L}else if(!(void 0!==t&&ef(t))||(lt(t)&&(t=nu(t)),"string"==typeof t&&!ot(t,`set custom user attribute "${n}"`,"the element in the given array")))return!1;return this.yt.setCustomUserAttribute(n,t)}addToCustomAttributeArray(n,t){return!!ot(n,"add to custom user attribute array","the given key")&&!(null!=t&&!ot(t,"add to custom user attribute array","the given value"))&&this.Ui.Fn(c.Ln,n,t).L}removeFromCustomAttributeArray(n,t){return!!ot(n,"remove from custom user attribute array","the given key")&&!(null!=t&&!ot(t,"remove from custom user attribute array","the given value"))&&this.Ui.Fn(c.Rn,n,t).L}incrementCustomUserAttribute(n,t){if(!ot(n,"increment custom user attribute","the given key"))return!1;null==t&&(t=1);const r=parseInt(t.toString());return isNaN(r)||r!==parseFloat(t.toString())?(i.error(`Cannot increment custom user attribute because the given incrementValue "${t}" is not an integer.`),!1):this.Ui.Fn(c.On,n,r).L}setCustomLocationAttribute(n,t,r){return!!ot(n,"set custom location attribute","the given key")&&((null!==t||null!==r)&&(t=null!=t?parseFloat(t.toString()):null,r=null!=r?parseFloat(r.toString()):null,null==t&&null!=r||null!=t&&null==r||null!=t&&(isNaN(t)||t>90||t<-90)||null!=r&&(isNaN(r)||r>180||r<-180))?(i.error("Received invalid values for latitude and/or longitude. Latitude and longitude are bounded by ±90 and ±180 respectively, or must both be null for removal."),!1):this.Ui.Gn(n,t,r).L)}addToSubscriptionGroup(n){return!st(n,"add user to subscription group","subscription group ID",!1)||n.length<=0?(i.error("addToSubscriptionGroup requires a non-empty subscription group ID"),!1):this.Ui.Hn(n,l.Kn.SUBSCRIBED).L}removeFromSubscriptionGroup(n){return!st(n,"remove user from subscription group","subscription group ID",!1)||n.length<=0?(i.error("removeFromSubscriptionGroup requires a non-empty subscription group ID"),!1):this.Ui.Hn(n,l.Kn.UNSUBSCRIBED).L}Pn(n,t,i,r,u){this.yt.Pn(n,t,i,r,u);this.Ui.Mn()}Sn(n){this.yt.Sn(n)}}l.Genders={MALE:"m",FEMALE:"f",OTHER:"o",UNKNOWN:"u",NOT_APPLICABLE:"n",PREFER_NOT_TO_SAY:"p"};l.NotificationSubscriptionTypes={OPTED_IN:"opted_in",SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed"};l.En=/^[0-9 .\\(\\)\\+\\-]+$/;l.Kn={SUBSCRIBED:"subscribed",UNSUBSCRIBED:"unsubscribed"};l.Yn="user_id";l.lu="custom";l.lr=997;class uo{constructor(){}ef(){}sf(){}Da(){}static ff(n,t){if(n&&t)if(n=n.toLowerCase(),d(t.nf)){for(let i=0;i<t.nf.length;i++)if(-1!==n.indexOf(t.nf[i].toLowerCase()))return t.identity}else if(-1!==n.indexOf(t.nf.toLowerCase()))return t.identity}}const pt={rO:"Chrome",eO:"Edge",oO:"Opera",Bg:"Safari",OO:"Firefox"},fi={xg:"Android",io:"iOS",Pg:"Mac",Og:"Windows"};class fo extends uo{constructor(){if(super(),this.userAgentData=navigator.userAgentData,this.browser=null,this.version=null,this.userAgentData){const n=this.hc();this.browser=n.browser||"Unknown Browser";this.version=n.version||"Unknown Version"}this.OS=null}ef(){return this.browser}sf(){return this.version}Da(n){if(this.OS)return Promise.resolve(this.OS);const t=t=>{for(let i=0;i<n.length;i++){const r=fo.ff(t,n[i]);if(r)return this.OS=r,this.OS}return t};return this.userAgentData.platform?Promise.resolve(t(this.userAgentData.platform)):this.getHighEntropyValues().then(n=>n.platform?t(n.platform):navigator.platform).catch(()=>navigator.platform)}hc(){const n={},t=this.userAgentData.brands;if(t&&t.length)for(const i of t){const r=this.uc(pt),t=i.brand.match(r);if(t&&t.length>0){n.browser=t[0];n.version=i.version;break}}return n}uc(n){const t=[];for(const i in n){const r=i;t.push(n[r])}return new RegExp("("+t.join("|")+")","i")}getHighEntropyValues(){return this.userAgentData.getHighEntropyValues?this.userAgentData.getHighEntropyValues(["platform"]):Promise.reject()}}class hf extends uo{constructor(){super();this.fd=hf.hc(navigator.userAgent||"")}ef(){return this.fd[0]||"Unknown Browser"}sf(){return this.fd[1]||"Unknown Version"}Da(n){for(let t=0;t<n.length;t++){const r=n[t].string;let i=hf.ff(r,n[t]);if(i)return i===fi.Pg&&navigator.maxTouchPoints>1&&(i=fi.io),Promise.resolve(i)}return Promise.resolve(navigator.platform)}static hc(n){let t,i=n.match(/(samsungbrowser|tizen|roku|konqueror|icab|crios|opera|ucbrowser|chrome|safari|firefox|camino|msie|trident(?=\/))\/?\s*(\.?\d+(\.\d+)*)/i)||[];if(-1!==n.indexOf("(Web0S; Linux/SmartTV)"))return["LG Smart TV",null];if(-1!==n.indexOf("CrKey"))return["Chromecast",null];if(-1!==n.indexOf("BRAVIA")||-1!==n.indexOf("SonyCEBrowser")||-1!==n.indexOf("SonyDTV"))return["Sony Smart TV",null];if(-1!==n.indexOf("PhilipsTV"))return["Philips Smart TV",null];if(n.match(/\b(Roku)\b/))return["Roku",null];if(n.match(/\bAFTM\b/))return["Amazon Fire Stick",null];if(i[1]===pt.rO&&(t=n.match(/\b(OPR|Edge|EdgA|Edg|UCBrowser)\/(\.?\d+(\.\d+)*)/),null!=t))return t=t.slice(1),t[0]=t[0].replace("OPR",pt.oO),t[0]=t[0].replace("EdgA",pt.eO),"Edg"===t[0]&&(t[0]=pt.eO),[t[0],t[1]];if(i[1]===pt.Bg&&(t=n.match(/\b(EdgiOS)\/(\.?\d+(\.\d+)*)/),null!=t))return t=t.slice(1),t[0]=t[0].replace("EdgiOS",pt.eO),[t[0],t[1]];if(i=i[2]?[i[1],i[2]]:[null,null],i[0]===pt.Bg&&null!=(t=n.match(/version\/(\.?\d+(\.\d+)*)/i))&&i.splice(1,1,t[1]),null!=(t=n.match(/\b(UCBrowser)\/(\.?\d+(\.\d+)*)/))&&i.splice(1,1,t[2]),i[0]===pt.oO&&null!=(t=n.match(/mini\/(\.?\d+(\.\d+)*)/i)))return["Opera Mini",t[1]||""];if(i[0]){const n=i[0].toLowerCase();"crios"===n&&(i[0]=pt.rO);"tizen"===n&&(i[0]="Samsung Smart TV",i[1]=null);"samsungbrowser"===n&&(i[0]="Samsung Browser")}return i}}class ru{constructor(){const t=navigator.userAgentData?fo:hf;this.Sg=new t;this.userAgent=navigator.userAgent;this.browser=this.Sg.ef();this.version=this.Sg.sf();this.OS=null;this.Da().then(n=>this.OS=n);const n=navigator;this.language=(n.userLanguage||n.language||n.browserLanguage||n.systemLanguage||"").toLowerCase();this.Qo=ru.vg(this.userAgent)}IE(){return this.browser===pt.Bg}Ca(){return this.OS||null}Da(){return this.OS?Promise.resolve(this.OS):this.Sg.Da(ru.kg).then(n=>(this.OS=n,n))}static vg(n){n=n.toLowerCase();const t=["googlebot","bingbot","slurp","duckduckbot","baiduspider","yandex","facebookexternalhit","sogou","ia_archiver","https://github.com/prerender/prerender","aolbuild","bingpreview","msnbot","adsbot","mediapartners-google","teoma","taiko",];for(let i=0;i<t.length;i++)if(-1!==n.indexOf(t[i]))return!0;return!1}}ru.kg=[{string:navigator.platform,nf:"Win",identity:fi.Og},{string:navigator.platform,nf:"Mac",identity:fi.Pg},{string:navigator.platform,nf:"BlackBerry",identity:"BlackBerry"},{string:navigator.platform,nf:"FreeBSD",identity:"FreeBSD"},{string:navigator.platform,nf:"OpenBSD",identity:"OpenBSD"},{string:navigator.platform,nf:"Nintendo",identity:"Nintendo"},{string:navigator.platform,nf:"SunOS",identity:"SunOS"},{string:navigator.platform,nf:"PlayStation",identity:"PlayStation"},{string:navigator.platform,nf:"X11",identity:"X11"},{string:navigator.userAgent,nf:["iPhone","iPad","iPod"],identity:fi.io},{string:navigator.platform,nf:"Pike v",identity:fi.io},{string:navigator.userAgent,nf:["Web0S"],identity:"WebOS"},{string:navigator.platform,nf:["Linux armv7l","Android"],identity:fi.xg},{string:navigator.userAgent,nf:["Android"],identity:fi.xg},{string:navigator.platform,nf:"Linux",identity:"Linux"},];const rt=new ru,r={iu:{su:"ab.storage.userId",Uo:"ab.storage.deviceId",El:"ab.storage.sessionId"},C:{ec:"ab.test",tE:"ab.storage.events",eE:"ab.storage.attributes",sE:"ab.storage.attributes.anonymous_user",Fa:"ab.storage.device",Jh:"ab.storage.sdk_metadata",Qh:"ab.storage.session_id_for_cached_metadata",In:"ab.storage.pushToken",Ai:"ab.storage.newsFeed",Bi:"ab.storage.lastNewsFeedRefresh",J:"ab.storage.cardImpressions",ul:"ab.storage.serverConfig",rE:"ab.storage.triggers",oE:"ab.storage.triggers.ts",Nl:"ab.storage.messagingSessionStart",bs:"ab.storage.cc",js:"ab.storage.ccLastFullSync",Rs:"ab.storage.ccLastCardUpdated",nE:"ab.storage.ccRateLimitCurrentTokenCount",Ru:"ab.storage.globalRateLimitCurrentTokenCount",bu:"ab.storage.dynamicRateLimitCurrentTokenCount",v:"ab.storage.ccClicks",H:"ab.storage.ccImpressions",A:"ab.storage.ccDismissals",aE:"ab.storage.lastDisplayedTriggerTimesById",iE:"ab.storage.lastDisplayedTriggerTime",EE:"ab.storage.triggerFireInstancesById",wh:"ab.storage.signature",xs:"ab.storage.brazeSyncRetryCount",Us:"ab.storage.sdkVersion",vi:"ab.storage.ff",wi:"ab.storage.ffImpressions",zi:"ab.storage.ffLastRefreshAt",Si:"ab.storage.ff.sessionId",lE:"ab.storage.lastReqToEndpoint",SE:"ab.storage.requestAttempts",Xr:"ab.storage.deferredIam",du:"ab.storage.lastSdkReq",_E:"ab.storage.alias"},se:"ab.optOut"};class nt{constructor(n,t){this.uE=n;this.TE=t;this.uE=n;this.TE=t}Vh(n){const t=ft(r.iu),i=new nt.ee(n);for(const n of t)i.remove(r.iu[n])}uu(n,t){let i=null;null!=t&&t instanceof ui&&(i=t.Y());this.uE.store(n,i)}cE(n){const t=this.tu(n);null!=t&&(t.Wl=(new Date).valueOf(),this.uu(n,t))}tu(n){const i=this.uE.br(n),r=(n=>{let t;try{t=JSON.parse(n)}catch(n){t=null}return t})(i);let t;if(r)t=ui.qn(r)||null,t&&this.uu(n,t);else{const r=ui.hE(i);t=ui.qn(r)||null;r!==i&&t&&this.uu(n,t)}return t}Al(n){this.uE.remove(n)}Kh(){const t=ft(r.iu);let n;for(const i of t)n=this.tu(r.iu[i]),null!=n&&this.uu(r.iu[i],n)}zo(n){let i;if(null==n||0===n.length)return!1;i=d(n)?n:[n];let t=this.TE.br(r.C.tE);null!=t&&d(t)||(t=[]);for(let n=0;n<i.length;n++)t.push(i[n].Y());return this.TE.store(r.C.tE,t)}kl(n){return null!=n&&this.zo([n])}AE(){let n=this.TE.br(r.C.tE);this.TE.remove(r.C.tE);null==n&&(n=[]);const i=[];let u=!1,t=null;if(d(n))for(let r=0;r<n.length;r++)et.RE(n[r])?i.push(et.qn(n[r])):t=r;else u=!0;if(u||null!=t){let r="Stored events could not be deserialized as Events";u&&(r+=", was "+Object.prototype.toString.call(n)+" not an array");null!=t&&(r+=", value at index "+t+" does not look like an event");r+=", serialized values were of type "+typeof n+": "+JSON.stringify(n);i.push(new et(null,c.Ls,(new Date).valueOf(),null,{e:r}))}return i}I(n,t){return!!ri(r.C,n,"StorageManager cannot store object.","STORAGE_KEYS.OBJECTS")&&this.TE.store(n,t)}j(n){return!!ri(r.C,n,"StorageManager cannot retrieve object.","STORAGE_KEYS.OBJECTS")&&this.TE.br(n)}ii(n){return!!ri(r.C,n,"StorageManager cannot remove object.","STORAGE_KEYS.OBJECTS")&&(this.TE.remove(n),!0)}clearData(){const n=ft(r.iu),t=ft(r.C);for(let t=0;t<n.length;t++){const i=n[t];this.uE.remove(r.iu[i])}for(let n=0;n<t.length;n++){const i=t[n];this.TE.remove(r.C[i])}}gE(n){return n||r.C.sE}Pa(n){let t=this.TE.br(r.C.eE);null==t&&(t={});const i=this.gE(n[l.Yn]),u=t[i];for(const r in n)r!==l.Yn&&(null==t[i]||u&&null==u[r])&&this.mu(n[l.Yn],r,n[r])}mu(n,t,i){let f=this.TE.br(r.C.eE);null==f&&(f={});const e=this.gE(n);let u=f[e];if(null==u&&(u={},null!=n&&(u[l.Yn]=n)),t===l.lu){null==u[t]&&(u[t]={});for(const n in i)u[t][n]=i[n]}else u[t]=i;return f[e]=u,this.TE.store(r.C.eE,f)}OE(){const n=this.TE.br(r.C.eE);this.TE.remove(r.C.eE);const t=[];for(const i in n)null!=n[i]&&t.push(n[i]);return t}ru(n){const t=this.TE.br(r.C.eE);if(null!=t){const u=this.gE(null),i=t[u];null!=i&&(t[u]=void 0,this.TE.store(r.C.eE,t),i[l.Yn]=n,this.Pa(i))}const u=this.tu(r.iu.El);let f=null;null!=u&&(f=u.eu);const i=this.AE();if(null!=i)for(let t=0;t<i.length;t++){const r=i[t];null==r.userId&&r.sessionId==f&&(r.userId=n);this.kl(r)}}dE(){return this.TE.fE}}nt.rc=(class{constructor(n){this.rn=n;this.rn=n;this.fE=rt.IE()?3:10}bE(n){return n+"."+this.rn}store(n,t){const r={v:t};try{return localStorage.setItem(this.bE(n),JSON.stringify(r)),!0}catch(n){return i.info("Storage failure: "+yt(n)),!1}}br(n){try{let t=null;const i=localStorage.getItem(this.bE(n));return null!=i&&(t=JSON.parse(i)),null==t?null:t.v}catch(n){return i.info("Storage retrieval failure: "+yt(n)),null}}remove(n){try{localStorage.removeItem(this.bE(n))}catch(n){return i.info("Storage removal failure: "+yt(n)),!1}}});nt.ac=(class{constructor(){this.mE={};this.KE=5242880;this.fE=3}store(n,t){const u={value:t},r=this.YE(t);return r>this.KE?(i.info("Storage failure: object is ≈"+r+" bytes which is greater than the max of "+this.KE),!1):(this.mE[n]=u,!0)}YE(n){const r=[],i=[n];let t=0;for(;i.length;){const n=i.pop();if("boolean"==typeof n)t+=4;else if("string"==typeof n)t+=2*n.length;else if("number"==typeof n)t+=8;else if("object"==typeof n&&-1===r.indexOf(n)){let t,u;r.push(n);for(const r in n)u=n,t=r,i.push(u[t])}}return t}br(n){const t=this.mE[n];return null==t?null:t.value}remove(n){this.mE[n]=null}});nt.ee=(class{constructor(n,t){this.rn=n;this.NE=t;this.rn=n;this.CE=this.GE();this.DE=576e3;this.NE=!!t}bE(n){return null!=this.rn?n+"."+this.rn:n}GE(){let i=0,n=document.location.hostname;const r=n.split("."),t="ab._gd";for(;i<r.length-1&&-1===document.cookie.indexOf(t+"="+t);)i++,n="."+r.slice(-1-i).join("."),document.cookie=t+"="+t+";domain="+n+";";return document.cookie=t+"=;expires="+new Date(0).toUTCString()+";domain="+n+";",n}ne(){const n=new Date;return n.setTime(n.getTime()+6e4*this.DE),n.getFullYear()}ME(){const n=gr(r.iu),t=document.cookie.split(";");for(let i=0;i<t.length;i++){let r=t[i];for(;" "===r.charAt(0);)r=r.substring(1);let u=!1;for(let t=0;t<n.length;t++)if(0===r.indexOf(n[t])){u=!0;break}if(u){const n=r.split("=")[0];-1===n.indexOf("."+this.rn)&&this.pE(n)}}}store(n,t){this.ME();const r=new Date;r.setTime(r.getTime()+6e4*this.DE);const e="expires="+r.toUTCString(),o="domain="+this.CE;let f;f=this.NE?t:encodeURIComponent(t);const u=this.bE(n)+"="+f+";"+e+";"+o+";path=/";return u.length>=4093?(i.info("Storage failure: string is "+u.length+" chars which is too large to store as a cookie."),!1):(document.cookie=u,!0)}br(n){const t=[],r=this.bE(n)+"=",u=document.cookie.split(";");for(let f=0;f<u.length;f++){let e=u[f];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(r))try{let n;n=this.NE?e.substring(r.length,e.length):decodeURIComponent(e.substring(r.length,e.length));t.push(n)}catch(t){return i.info("Storage retrieval failure: "+yt(t)),this.remove(n),null}}return t.length>0?t[t.length-1]:null}remove(n){this.pE(this.bE(n))}pE(n){const t=n+"=;expires="+new Date(0).toUTCString();document.cookie=t;document.cookie=t+";path=/";const i=t+";domain="+this.CE;document.cookie=i;document.cookie=i+";path=/"}});nt.tc=(class{constructor(n,t,i){this.rn=n;this.vE=[];t&&this.vE.push(new nt.ee(n));i&&this.vE.push(new nt.rc(n));this.vE.push(new nt.ac)}store(n,t){let i=!0;for(let r=0;r<this.vE.length;r++)i=this.vE[r].store(n,t)&&i;return i}br(n){for(let t=0;t<this.vE.length;t++){const i=this.vE[t].br(n);if(null!=i)return i}return null}remove(n){new nt.ee(this.rn).remove(n);for(let t=0;t<this.vE.length;t++)this.vE[t].remove(n)}});class tl{constructor(n,t,i){this.u=n;this.Jn=t;this.Qn=i;this.u=n;this.Jn=t||!1;this.Qn=i;this.Xn=new g;this.Zn=0;this.gh=1}Fh(){return this.Jn}kh(){return this.u.j(r.C.wh)}setSdkAuthenticationSignature(n){const u=this.kh();this.u.I(r.C.wh,n);const t=a.ts.Zt;new a(t,i).setItem(t.hs.jh,this.gh,n);u!==n&&this.Vs()}xh(){this.u.ii(r.C.wh);const n=a.ts.Zt;new a(n,i).re(n.hs.jh,this.gh)}subscribeToSdkAuthenticationFailures(n){return this.Qn.Nt(n)}qh(n){this.Qn.Rt(n)}yh(){this.Xn.removeAllSubscriptions()}Bh(){this.Zn+=1}Gh(){return this.Zn}Vs(){this.Zn=0}}class wr{constructor(){}Ss(){}changeUser(){}clearData(){}}class il{constructor(n){this.id=n;this.id=n}Mr(){const n={};return null!=this.browser&&(n.browser=this.browser),null!=this.Ta&&(n.browser_version=this.Ta),null!=this.os&&(n.os_version=this.os),null!=this.resolution&&(n.resolution=this.resolution),null!=this.language&&(n.locale=this.language),null!=this.timeZone&&(n.time_zone=this.timeZone),null!=this.userAgent&&(n.user_agent=this.userAgent),n}}wt={BROWSER:"browser",BROWSER_VERSION:"browserVersion",OS:"os",RESOLUTION:"resolution",LANGUAGE:"language",TIME_ZONE:"timeZone",USER_AGENT:"userAgent"};class rl{constructor(n,t){this.u=n;this.Ia=t;this.u=n;null==t&&(t=gr(wt));this.Ia=t}ce(n=!0){let i=this.u.tu(r.iu.Uo);null==i&&(i=new ui(ii.W()),n&&this.u.uu(r.iu.Uo,i));const t=new il(i.eu);for(let n=0;n<this.Ia.length;n++)switch(this.Ia[n]){case wt.BROWSER:t.browser=rt.browser;break;case wt.BROWSER_VERSION:t.Ta=rt.version;break;case wt.OS:t.os=this.Da();break;case wt.RESOLUTION:t.Sa=screen.width+"x"+screen.height;break;case wt.LANGUAGE:t.language=rt.language;break;case wt.TIME_ZONE:t.timeZone=this.Oa(new Date);break;case wt.USER_AGENT:t.userAgent=rt.userAgent}return t}Da(){if(rt.Ca())return rt.Ca();const n=this.u.j(r.C.Fa);return n&&n.os_version?n.os_version:rt.Da()}Oa(n){let t=!1;if("undefined"!=typeof Intl&&"function"==typeof Intl.DateTimeFormat)try{if("function"==typeof Intl.DateTimeFormat().resolvedOptions){const n=Intl.DateTimeFormat().resolvedOptions().timeZone;if(null!=n&&""!==n)return n}}catch(n){i.info("Intl.DateTimeFormat threw an error, cannot detect user's time zone:"+yt(n));t=!0}if(t)return"";const r=n.getTimezoneOffset();return this.Ga(r)}Ga(n){const i=Math.trunc(n/60),r=Math.trunc(n%60);let t="GMT";return 0!==n&&(t+=n<0?"+":"-",t+=("00"+Math.abs(i)).slice(-2)+":"+("00"+Math.abs(r)).slice(-2)),t}}bi={Na:"invalid_api_key",Xa:"blacklisted",$a:"no_device_identifier",Ba:"invalid_json_response",Ra:"empty_response",__:"sdk_auth_error"};const e={_s:{Ka:"data",Xs:"content_cards/sync",Ri:"feature_flags/sync",Tr:"template"},ku:n=>null==n?void 0:n.j(r.C.lE),sm:n=>null==n?void 0:n.j(r.C.SE),nm:(n,t)=>{null==n||n.I(r.C.lE,t)},um:(n,t)=>{null==n||n.I(r.C.SE,t)},Wa:(n,t)=>{if(!n||!t)return-1;const r=e.ku(n);if(null==r)return-1;const i=r[t];return null==i||isNaN(i)?-1:i},Ya:(n,t)=>{let i=ke;if(!n||!t)return i;const r=e.sm(n);return null==r?i:(i=r[t],null==i||isNaN(i)?ke:i)},Hs:(n,t,i)=>{if(n&&t){let r=e.ku(n);null==r&&(r={});r[t]=i;e.nm(n,r)}},Ws:(n,t,i)=>{if(n&&t){let r=e.sm(n);null==r&&(r={});r[t]=i;e.um(n,r)}},ti:(n,t)=>{if(n&&t){const i=e.Ya(n,t);e.Ws(n,t,i+1)}}};class ul{constructor(n,t,i,r,u,f,e,o,s,h,c,l){this.on=n;this.u=t;this.Ko=i;this.yt=r;this.oi=u;this.qt=f;this.rn=e;this.Go=o;this.Bo=s;this.Vo=h;this.appVersion=c;this.Xh=l;this.Hh=n=>null==n?"":`${n} `;this.on=n;this.u=t;this.Ko=i;this.yt=r;this.oi=u;this.qt=f;this.rn=e;this.Go=o;this.Bo=s;this.Vo=h;this.appVersion=c;this.Xh=l;this.Yh=["npm"]}$s(n,t=!1,i=!1){const u=this.on.ce(!i),f=u.Mr(),e=this.u.j(r.C.Fa);tr(e,f)||(n.device=f);n.api_key=this.rn;n.time=ar((new Date).valueOf(),!0);const o=this.u.j(r.C.Jh)||[],s=this.u.j(r.C.Qh)||"";if(this.Yh.length>0&&(!tr(o,this.Yh)||s!==this.oi.xi())&&(n.sdk_metadata=this.Yh),n.sdk_version=this.Bo,this.Vo&&(n.sdk_flavor=this.Vo),n.app_version=this.appVersion,n.app_version_code=this.Xh,n.device_id=u.id,t){const t=this.yt.getUserId();null!=t&&(n.user_id=t)}if(!n.user_id&&!this.Ko.Fh()){const t=nf(this.u);t&&(n.alias=t)}return n}Qs(n,t,r){const u=t.auth_error,f=t.error;if(!u&&!f)return!0;if(u){let f;this.Ko.Bh();const t={errorCode:u.error_code};for(const n of r)d(n)&&"X-Braze-Auth-Signature"===n[0]&&(t.signature=n[1]);n.respond_with&&n.respond_with.user_id?t.userId=n.respond_with.user_id:n.user_id&&(t.userId=n.user_id);const e=u.reason;return e?(t.reason=e,f=`due to ${e}`):f=`with error code ${u.error_code}.`,this.Ko.Fh()||(f+=' Please use the "enableSdkAuthentication" initialization option to enable authentication.'),i.error(`SDK Authentication failed ${f}`),this.Zh(n.events||[],n.attributes||[]),this.Ko.qh(t),!1}if(f){let r,u=f;switch(u){case bi.Ra:return r="Received successful response with empty body.",k.q(c.Ls,{e:r}),i.info(r),!1;case bi.Ba:return r="Received successful response with invalid JSON",k.q(c.Ls,{e:r+": "+t.response}),i.info(r),!1;case bi.Na:u=`The API key "${n.api_key}" is invalid for the baseUrl ${this.Go}`;break;case bi.Xa:u="Sorry, we are not currently accepting your requests. If you think this is in error, please contact us.";break;case bi.$a:u="No device identifier. Please contact support@braze.com"}i.error("Backend error: "+u)}return!1}La(n,t,i,r){return!!(n&&0!==n.length||t&&0!==t.length||i||r)}Ea(n,t,i,r,u=!1){const h=[],c=n=>n||"",l=c(this.yt.getUserId());let o=this.Ir(n,t);const a=[],v=[];let s,f=null;if(i.length>0){const n=[];for(const t of i){if(s=t.Mr(),this.Ko.Fh()){if(l&&!s.user_id){f||(f={});f.events||(f.events=[]);f.events.push(s);continue}if(c(s.user_id)!==l){v.push(s);continue}}n.push(s)}n.length>0&&(o.events=n)}if(r.length>0){const n=[];for(const t of r)t&&(this.Ko.Fh()&&c(t.user_id)!==l?a.push(t):n.push(t));n.length>0&&(o.attributes=n)}if(this.Zh(v,a),o=this.$s(o,!0,u),f){f=this.$s(f,!1,u);const n={requestData:f,headers:this.Ps(f,e._s.Ka)};h.push(n)}if(o&&!this.La(o.events,o.attributes,n,t))return f?h:null;const y={requestData:o,headers:this.Ps(o,e._s.Ka)};return h.push(y),h}Zh(n,t){if(n){const t=[];for(const i of n){const n=et.fromJson(i);n.time=fc(n.time);t.push(n)}this.u.zo(t)}if(t)for(const n of t)this.u.Pa(n)}Ys(n,t){let r="HTTP error ";null!=n&&(r+=n+" ");r+=t;i.error(r)}qr(n){return k.q(c.Ua,{n:n})}Ir(n,t,i){const r={};n&&(r.feed=!0);t&&(r.triggers=!0);const u=null!=i?i:this.yt.getUserId();if(u&&(r.user_id=u),!r.user_id&&!this.Ko.Fh()){const n=nf(this.u);n&&(r.alias=n)}return r.config={config_time:this.qt.hi()},{respond_with:r}}Ha(n){const r=(new Date).valueOf();let t=lc.toString();const i=e.Wa(this.u,n);return-1!==i&&(t=(r-i).toString()),t}Ps(n,t,i=!1){const u=[["X-Braze-Api-Key",this.rn]],o=this.Ha(t);u.push(["X-Braze-Last-Req-Ms-Ago",o]);const s=e.Ya(this.u,t).toString();u.push(["X-Braze-Req-Attempt",s]);let f=!1;if(null!=n.respond_with&&n.respond_with.triggers&&(u.push(["X-Braze-TriggersRequest","true"]),f=!0),null!=n.respond_with&&n.respond_with.feed&&(u.push(["X-Braze-FeedRequest","true"]),f=!0),t===e._s.Xs){u.push(["X-Braze-ContentCardsRequest","true"]);let n=this.u.j(r.C.xs);n&&i||(n=0,this.u.I(r.C.xs,n));u.push(["BRAZE-SYNC-RETRY-COUNT",n.toString()]);f=!0}if(t===e._s.Ri&&(u.push(["X-Braze-FeatureFlagsRequest","true"]),f=!0),f&&u.push(["X-Braze-DataRequest","true"]),this.Ko.Fh()){const n=this.Ko.kh();null!=n&&u.push(["X-Braze-Auth-Signature",n])}return u}Ja(n,t,r,u){window.setTimeout(()=>{i.info(`Retrying rate limited ${this.Hh(u)}SDK request.`),this.Gs(t,r,u)},n)}Gs(n,t,u,f){if(!this.Qa(u))return i.info(`${this.Hh(u)}SDK request being rate limited.`),void("function"==typeof f&&f());const e=this.Va();if(!e.Za)return i.info(`${this.Hh(u)}SDK request being rate limited. Request will be retried in ${Math.trunc(e.au/1e3)} seconds.`),void this.Ja(e.au,n,t,u);this.u.I(r.C.du,(new Date).valueOf());const o=n.device;o&&o.os_version instanceof Promise?o.os_version.then(i=>{n.device.os_version=i,t(e.fu)}):t(e.fu)}vu(n){var t;null===(t=this.u)||void 0===t||t.I(r.C.Ru,n)}gu(n,t){let i=this.pu();null==i&&(i={});i[n]=t;this.u.I(r.C.bu,i)}qu(){var n;if(null!==(n=this.u)&&void 0!==n)return n.j(r.C.Ru)}pu(){var n;if(null!==(n=this.u)&&void 0!==n)return n.j(r.C.bu)}Au(n,t,i,r,u=""){let f;if(u){const n=this.pu();f=null==n||isNaN(n[u])?t:n[u]}else f=this.qu(),(null==f||isNaN(f))&&(f=t);const e=(n-r)/1e3;return f=Math.min(f+e/i,t),f}Du(n,t){return Math.max(0,(1-n)*t*1e3)}Tu(n,t=""){var h,c,l,a,v;const i={Za:!0,fu:-1,au:0};if(null==n&&(n=!0),!n&&!t)return i;let s,f,o=null;if(n)o=null===(h=this.u)||void 0===h?void 0:h.j(r.C.du);else{const n=e.ku(this.u);if(null==n||null==n[t])return i;o=n[t]}if(null==o||isNaN(o)||(n?(s=(null===(c=this.qt)||void 0===c?void 0:c.Cu())||-1,f=(null===(l=this.qt)||void 0===l?void 0:l.Su())||-1):(s=(null===(a=this.qt)||void 0===a?void 0:a.Bu(t))||-1,f=(null===(v=this.qt)||void 0===v?void 0:v.wu(t))||-1),-1===s||-1===f))return i;const y=(new Date).valueOf();let u=this.Au(y,s,f,o,t);return u<1?(i.Za=!1,i.au=this.Du(u,f),i):(u=Math.trunc(u)-1,i.fu=u,n?this.vu(u):this.gu(t,u),i)}Va(){return this.Tu(!0)}Qa(n){const t=this.Tu(!1,n);return!(t&&!t.Za)}Vs(){this.Ko.Vs()}Os(){return this.Go}addSdkMetadata(n){for(const t of n)-1===this.Yh.indexOf(t)&&this.Yh.push(t)}}const uu={Ks:n=>{let t,r;try{const e=()=>{i.error("This browser does not have any supported ajax options!")};let f=!1;if(window.XMLHttpRequest&&(f=!0),!f)return void e();t=new XMLHttpRequest;const u=()=>{"function"==typeof n.error&&n.error(t.status),"function"==typeof n.Zs&&n.Zs(!1)};t.onload=()=>{let i=!1;if(4===t.readyState)if(i=t.status>=200&&t.status<300||304===t.status,i){if("function"==typeof n.L){let i,r;try{i=JSON.parse(t.responseText);r=t.getAllResponseHeaders()}catch(i){const u={error:""===t.responseText?bi.Ra:bi.Ba,response:t.responseText};n.L(u,r)}i&&n.L(i,r)}"function"==typeof n.Zs&&n.Zs(!0)}else u()};t.onerror=()=>{u()};t.ontimeout=()=>{u()};r=JSON.stringify(n.data);t.open("POST",n.url,!0);t.setRequestHeader("Content-type","application/json");t.setRequestHeader("X-Requested-With","XMLHttpRequest");const o=n.headers||[];for(const n of o)t.setRequestHeader(n[0],n[1]);t.send(r)}catch(n){i.error(`Network request error: ${yt(n)}`)}}},fl=n=>{const t={},i=n.toString().split("\r\n");if(!i)return t;let r,u;for(const n of i)n&&(r=n.slice(0,n.indexOf(":")).toLowerCase().trim(),u=n.slice(n.indexOf(":")+1).trim(),t[r]=u);return t},fu=(n,t)=>(n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n);class ki{constructor(n=!1,t=[]){this.L=n;this.ge=t;this.L=n;this.ge=t}P(n){this.L=this.L&&n.L;this.ge.push(...n.ge)}}const ai={pn:()=>"serviceWorker"in navigator&&"undefined"!=typeof ServiceWorkerRegistration&&"showNotification"in ServiceWorkerRegistration.prototype&&"PushManager"in window,yn:()=>"safari"in window&&"pushNotification"in window.safari&&"function"==typeof window.safari.pushNotification.permission&&"function"==typeof window.safari.pushNotification.requestPermission,isPushSupported:()=>ai.pn()||ai.yn(),isPushBlocked:()=>{const n=ai.isPushSupported()&&"Notification"in window&&null!=window.Notification&&null!=window.Notification.permission&&"denied"===window.Notification.permission,t=ai.isPushSupported()&&(!("Notification"in window)||null==window.Notification);return n||t},isPushPermissionGranted:()=>ai.isPushSupported()&&"Notification"in window&&null!=window.Notification&&null!=window.Notification.permission&&"granted"===window.Notification.permission,Wi:()=>!ai.isPushBlocked()&&ai.isPushSupported()&&!ai.isPushPermissionGranted()};it=ai;class el{constructor(n,t,i,r,u,f,e,o,s,h){this.rn=n;this.baseUrl=t;this.oi=i;this.on=r;this.yt=u;this.qt=f;this.u=e;this.yu=o;this.Ko=s;this.$t=h;this.rn=n;this.baseUrl=t;this.ju=0;this.fE=e.dE()||0;this.$u=null;this.oi=i;this.on=r;this.yt=u;this.qt=f;this.u=e;this.Ko=s;this.$t=h;this.yu=o;this.Fu=new g;this.Lu=null;this.Mu=50;this.Pu=!1}xu(n,t){return!n&&!t&&this.Ko.Gh()>=this.Mu}Iu(n){let t=this.oi.Gl();if(n.length>0){const i=this.yt.getUserId();for(const r of n){const n=!r.userId&&!i||r.userId===i;r.type===c.ql&&n&&(t=!0)}}return t}Nu(n=!1,t=!1,u=!0,f,o,s,h=!1,c=!1){u&&this.Ou();const l=this.u.AE(),y=this.u.OE();let p=!1;const k=(n,t,i=-1)=>{let h=!1;const c=(new Date).valueOf();e.Hs(this.u,e._s.Ka,c);-1!==i&&t.push(["X-Braze-Req-Tokens-Remaining",i.toString()]);uu.Ks({url:this.baseUrl+"/data/",data:n,headers:t,L:i=>{null!=n.respond_with&&n.respond_with.triggers&&(this.ju=Math.max(this.ju-1,0)),this.$t.Qs(n,i,t)?(this.Ko.Vs(),this.qt.al(i),null!=n.respond_with&&n.respond_with.user_id!=this.yt.getUserId()||(null!=n.device&&this.u.I(r.C.Fa,n.device),null!=n.sdk_metadata&&(this.u.I(r.C.Jh,n.sdk_metadata),this.u.I(r.C.Qh,this.oi.xi())),this.yu(i),e.Ws(this.u,e._s.Ka,1),"function"==typeof f&&f())):i.auth_error&&(h=!0)},error:()=>{null!=n.respond_with&&n.respond_with.triggers&&(this.ju=Math.max(this.ju-1,0)),this.$t.Zh(n.events,n.attributes),"function"==typeof o&&o()},Zs:n=>{if("function"==typeof s&&s(n),u&&!p){if(n&&!h)this.zu();else{e.ti(this.u,e._s.Ka);let n=this.$u;(null==n||n<1e3*this.fE)&&(n=1e3*this.fE);this.zu(Math.min(3e5,fu(1e3*this.fE,3*n)))}p=!0}}})},a=this.Iu(l),v=t||a;if(this.xu(h,a))return void i.info("Declining to flush data due to 50 consecutive authentication failures");if(u&&!this.$t.La(l,y,n,v))return this.zu(),void("function"==typeof s&&s(!0));const w=this.$t.Ea(n,v,l,y,c);v&&this.ju++;let b=!1;if(w)for(const n of w)this.$t.Gs(n.requestData,t=>k(n.requestData,n.headers,t),e._s.Ka,o),b=!0;this.Ko.Fh()&&u&&!b?this.zu():a&&(i.info("Invoking new session subscriptions"),this.Fu.Rt())}Uu(){return this.ju>0}zu(n=1e3*this.fE){this.Pu||(this.Ou(),this.Lu=window.setTimeout(()=>{if(document.hidden){const n="visibilitychange",t=()=>{document.hidden||(document.removeEventListener(n,t,!1),this.Nu())};document.addEventListener(n,t,!1)}else this.Nu()},n),this.$u=n)}Ou(){null!=this.Lu&&(clearTimeout(this.Lu),this.Lu=null)}initialize(){this.Pu=!1;this.zu()}destroy(){this.Fu.removeAllSubscriptions();this.Ko.yh();this.Ou();this.Pu=!0;this.Nu(void 0,void 0,!1,void 0,void 0,void 0,void 0,!0);this.Lu=null}mr(n){return this.Fu.Nt(n)}openSession(){const n=this.oi.xi()!==this.oi.xo();n&&(this.u.cE(r.iu.Uo),this.u.cE(r.iu.su));this.Nu(void 0,!1,void 0,()=>{this.u.ii(r.C.wi)});this.Mn();n&&Promise.resolve().then(function(){return ch}).then(n=>{if(!this.Pu){const t=n.default.m();if(null!=t&&(it.isPushPermissionGranted()||it.isPushBlocked())){const n=()=>{t.mn()?i.info("Push token maintenance is disabled, not refreshing token for backend."):t.subscribe()},f=(t,i)=>{i&&n()},e=()=>{const t=this.u.j(r.C.In);(null==t||t)&&n()},u=a.ts.Zt;new a(u,i).jr(u.hs.cu,f,e)}}})}_u(){this.u.ii(r.C.vi);this.u.ii(r.C.bs);this.u.ii(r.C.Xr)}changeUser(n,t,u){const f=this.yt.getUserId();if(f!==n){this.oi.yl();this._u();null!=f&&this.Nu(void 0,!1,void 0,void 0,void 0);this.yt.ou(n);u?this.Ko.setSdkAuthenticationSignature(u):this.Ko.xh();for(let n=0;n<t.length;n++)t[n].changeUser(null==f);null!=f&&this.u.ii(r.C.J);this.u.ii(r.C.Fa);this.u.ii(r.C.nE);this.u.ii(r.C._E);this.openSession();i.info('Changed user to "'+n+'".')}else{let t="Doing nothing.";u&&this.Ko.kh()!==u&&(this.Ko.setSdkAuthenticationSignature(u),t="Updated SDK authentication signature");i.info(`Current user is already ${n}. ${t}`)}}requestImmediateDataFlush(n){this.Ou();this.oi.xo();this.Nu(void 0,void 0,void 0,void 0,()=>{i.error("Failed to flush data, request will be retried automatically.")},n,!0)}requestFeedRefresh(){this.oi.xo();this.Nu(!0)}$r(n,t){this.oi.xo();i.info("Requesting explicit trigger refresh.");this.Nu(void 0,!0,void 0,n,t)}Cn(n,t){const e=c.Eu,u={a:n,l:t},f=k.q(e,u);return f&&(i.info(`Logged alias ${n} with label ${t}`),this.u.I(r.C._E,u)),f}Fn(n,t,r){if(this.qt.hu(t))return i.info(`Custom Attribute "${t}" is blocklisted, ignoring.`),new ki;const f={key:t,value:r},u=k.q(n,f);if(u){const n="object"==typeof r?JSON.stringify(r,null,2):r;i.info(`Logged custom attribute: ${t} with value: ${n}`)}return u}setLastKnownLocation(n,t,r,u,f,e){const o={latitude:t,longitude:r};null!=u&&(o.altitude=u);null!=f&&(o.ll_accuracy=f);null!=e&&(o.alt_accuracy=e);const s=k.q(c.Ju,o,n||void 0);return s&&i.info(`Set user last known location as ${JSON.stringify(o,null,2)}`),s}kr(n,t){const i=this.oi.xo();return new et(this.yt.getUserId(),c.Ku,n,i,{cid:t})}Wu(n,t){return new a(n,t)}Mn(){const n=a.ts.Zt;this.Wu(n,i).setItem(n.hs.Ka,1,{baseUrl:this.baseUrl,data:{api_key:this.rn,device_id:this.on.ce().id},userId:this.yt.getUserId(),sdkAuthEnabled:this.Ko.Fh()})}yr(n){for(const t of n)if(t.api_key===this.rn)this.$t.Zh(t.events,t.attributes);else{const n=a.ts.Zt;new a(n,i).setItem(n.hs.wr,ii.W(),t)}}Gn(n,t,r){if(this.qt.hu(n))return i.info(`Custom Attribute "${n}" is blocklisted, ignoring.`),new ki;let u,f;return null===t&&null===r?(u=c.Gu,f={key:n}):(u=c.Xu,f={key:n,latitude:t,longitude:r}),k.q(u,f)}Hn(n,t){const i={group_id:n,status:t};return k.q(c.Hu,i)}}class eu{constructor(n=0,t=[],i=[],r=[],u=null,f=null,e={enabled:!1},o={enabled:!1,refresh_rate_limit:void 0},s={enabled:!0,capacity:hc,refill_rate:cc,endpoint_overrides:{}}){this.hl=n;this.gl=t;this.fl=i;this.bl=r;this.Rl=u;this.cl=f;this.ml=e;this.ai=o;this.ol=s;this.hl=n;this.gl=t;this.fl=i;this.bl=r;this.Rl=u;this.cl=f;this.ml=e;this.ai=o;this.ol=s}Y(){return{s:"5.5.0",l:this.hl,e:this.gl,a:this.fl,p:this.bl,m:this.Rl,v:this.cl,c:this.ml,f:this.ai,grl:this.ol}}static qn(n){let t=n.l;return"5.5.0"!==n.s&&(t=0),new eu(t,n.e,n.a,n.p,n.m,n.v,n.c,n.f,n.grl)}}class ol{constructor(n){this.u=n;this.u=n;this.tl=new g;this.el=new g;this.il=new g;this.sl=null;this.rl=null}ll(){if(null==this.rl){const n=this.u.j(r.C.ul);this.rl=null!=n?eu.qn(n):new eu}return this.rl}hi(){return this.ll().hl}al(n){if(null!=n&&null!=n.config){const t=n.config;if(t.time>this.ll().hl){const e=n=>null==n?this.ll().ol:n,n=new eu(t.time,t.events_blacklist,t.attributes_blacklist,t.purchases_blacklist,t.messaging_session_timeout,t.vapid_public_key,t.content_cards,t.feature_flags,e(t.global_request_rate_limit));let i=!1;null!=n.cl&&this.Wn()!==n.cl&&(i=!0);let u=!1;null!=n.ml.enabled&&this.ei()!==n.ml.enabled&&(u=!0);let f=!1;null!=n.ai.enabled&&this.mi()!==n.ai.enabled&&(f=!0);this.rl=n;this.u.I(r.C.ul,n.Y());i&&this.tl.Rt();u&&this.el.Rt();f&&this.il.Rt()}}}_n(n){const t=this.tl.Nt(n);return this.sl&&this.tl.removeSubscription(this.sl),this.sl=t,t}Ms(n){return this.el.Nt(n)}bi(n){return this.il.Nt(n)}me(n){return-1!==this.ll().gl.indexOf(n)}hu(n){return-1!==this.ll().fl.indexOf(n)}Dr(n){return-1!==this.ll().bl.indexOf(n)}dl(){return this.ll().Rl}Wn(){return this.ll().cl}ei(){return this.ll().ml.enabled||!1}Cl(){const n=this.ll().ol;return!(!n||null==n.enabled)&&n.enabled}Cu(){if(!this.Cl())return-1;const n=this.ll().ol;return null==n.capacity||n.capacity<10?-1:n.capacity}Su(){if(!this.Cl())return-1;const n=this.ll().ol;return null==n.refill_rate||n.refill_rate<=0?-1:n.refill_rate}vl(n){const t=this.ll().ol.endpoint_overrides;return null==t?null:t[n]}Bu(n){const t=this.vl(n);return null==t||isNaN(t.capacity)||t.capacity<=0?-1:t.capacity}wu(n){const t=this.vl(n);return null==t||isNaN(t.refill_rate)||t.refill_rate<=0?-1:t.refill_rate}mi(){return this.ll().ai.enabled&&null==this.Di()?(k.q(c.Ls,{e:"Missing feature flag refresh_rate_limit."}),!1):this.ll().ai.enabled||!1}Di(){return this.ll().ai.refresh_rate_limit}}class sl{constructor(n,t,r,u){this.u=n;this.yt=t;this.qt=r;this.wl=u;this.u=n;this.yt=t;this.qt=r;this.Sl=1e3;(null==u||isNaN(u))&&(u=1800);u<this.Sl/1e3&&(i.info("Specified session timeout of "+u+"s is too small, using the minimum session timeout of "+this.Sl/1e3+"s instead."),u=this.Sl/1e3);this.wl=u}jl(n,t){return new et(this.yt.getUserId(),c.xl,n,t.eu,{d:ar(n-t.Dl)})}xi(){const n=this.u.tu(r.iu.El);return null==n?null:n.eu}Gl(){const u=(new Date).valueOf(),t=this.qt.dl(),i=this.u.j(r.C.Nl);if(null!=i&&null==t)return!1;let n=!1;return null==i?n=!0:null!=t&&(n=u-i>1e3*t),n&&this.u.I(r.C.Nl,u),n}zl(n,t){return null==t||null==t.Hl||!(n-t.Dl<this.Sl)&&t.Hl<n}xo(){const t=(new Date).valueOf(),u=t+1e3*this.wl,n=this.u.tu(r.iu.El);if(this.zl(t,n)){let f="Generating session start event with time "+t;if(null!=n){let t=n.Wl;t-n.Dl<this.Sl&&(t=n.Dl+this.Sl);this.u.kl(this.jl(t,n));f+=" (old session ended "+t+")"}f+=". Will expire "+u.valueOf();i.info(f);const e=new ui(ii.W(),u);return this.u.kl(new et(this.yt.getUserId(),c.ql,t,e.eu)),this.u.uu(r.iu.El,e),null==this.u.j(r.C.Nl)&&this.u.I(r.C.Nl,t),e.eu}if(null!=n)return n.Wl=t,n.Hl=u,this.u.uu(r.iu.El,n),n.eu}yl(){const n=this.u.tu(r.iu.El);null!=n&&(this.u.Al(r.iu.El),this.u.kl(this.jl((new Date).valueOf(),n)))}}const eo={Wh:function(n,t=!1){let u=!1;try{if(localStorage&&localStorage.getItem)try{localStorage.setItem(r.C.ec,"true");localStorage.getItem(r.C.ec)&&(localStorage.removeItem(r.C.ec),u=!0)}catch(n){if(!(n instanceof Error&&("QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&localStorage.length>0))throw n;u=!0}}catch(n){i.info("Local Storage not supported!")}const e=eo.oc(),o=new nt.tc(n,e&&!t,u);let f;return f=u?new nt.rc(n):new nt.ac,new nt(o,f)},oc:function(){return navigator.cookieEnabled||"cookie"in document&&(document.cookie.length>0||(document.cookie="test").indexOf.call(document.cookie,"test")>-1)}};class vi{constructor(n,t){this.triggerId=n;this.messageExtras=t;this.triggerId=n;this.messageExtras=t;this.extras={};this.isControl=!0}static fromJson(n){return new vi(n.trigger_id,n.message_extras)}}const rr={dc:null,po:hl},ei={Oe:"up",Qe:"down",U:"left",V:"right"};const yi={Fo:32,lo:9,To:13,mh:27},co=n=>null!==n&&"IFRAME"===n.tagName;class t{constructor(n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct){this.message=n;this.messageAlignment=i;this.slideFrom=r;this.extras=u;this.triggerId=f;this.clickAction=e;this.uri=o;this.openTarget=s;this.dismissType=h;this.duration=c;this.icon=l;this.imageUrl=a;this.imageStyle=v;this.iconColor=y;this.iconBackgroundColor=p;this.backgroundColor=w;this.textColor=b;this.closeButtonColor=k;this.animateIn=d;this.animateOut=nt;this.header=tt;this.headerAlignment=it;this.headerTextColor=rt;this.frameColor=ut;this.buttons=ft;this.cropType=et;this.orientation=ot;this.htmlId=st;this.css=ht;this.messageExtras=ct;this.message=n;this.messageAlignment=i||t.TextAlignment.CENTER;this.duration=c||5e3;this.slideFrom=r||t.SlideFrom.BOTTOM;this.extras=u||{};this.triggerId=f;this.clickAction=e||t.ClickAction.NONE;this.uri=o;this.openTarget=s||t.OpenTarget.NONE;this.dismissType=h||t.DismissType.AUTO_DISMISS;this.icon=l;this.imageUrl=a;this.imageStyle=v||t.ImageStyle.TOP;this.iconColor=y||t.th.ih;this.iconBackgroundColor=p||t.th.sh;this.backgroundColor=w||t.th.ih;this.textColor=b||t.th.hh;this.closeButtonColor=k||t.th.eh;this.animateIn=d;null==this.animateIn&&(this.animateIn=!0);this.animateOut=nt;null==this.animateOut&&(this.animateOut=!0);this.header=tt;this.headerAlignment=it||t.TextAlignment.CENTER;this.headerTextColor=rt||t.th.hh;this.frameColor=ut||t.th.Eh;this.buttons=ft||[];this.cropType=et||t.CropType.FIT_CENTER;this.orientation=ot;this.htmlId=st;this.css=ht;this.isControl=!1;this.messageExtras=ct;this.nh=!1;this.Th=!1;this.vo=!1;this.oh=!1;this.Re=null;this.ke=null;this.Et=new g;this.rh=new g;this.qe=t.TextAlignment.CENTER}subscribeToClickedEvent(n){return this.Et.Nt(n)}subscribeToDismissedEvent(n){return this.rh.Nt(n)}removeSubscription(n){this.Et.removeSubscription(n);this.rh.removeSubscription(n)}removeAllSubscriptions(){this.Et.removeAllSubscriptions();this.rh.removeAllSubscriptions()}closeMessage(){this.Cr(this.Re)}$e(){return!0}do(){return this.$e()}Ce(){return null!=this.htmlId&&this.htmlId.length>4}ve(){return this.Ce()&&null!=this.css&&this.css.length>0}we(){if(this.Ce()&&this.ve())return this.htmlId+"-css"}K(){return!this.Th&&(this.Th=!0,!0)}Wr(){return this.Th}p(){return!this.vo&&(this.vo=!0,this.Et.Rt(),!0)}N(){return!this.oh&&(this.oh=!0,this.rh.Rt(),!0)}hide(n){if(n&&n.parentNode){let i=n.closest(".ab-iam-root");if(null==i&&(i=n),this.$e()&&null!=i.parentNode){const n=i.parentNode.classList;n&&n.contains(t.lh)&&n.remove(t.lh);document.body.removeEventListener("touchmove",t.uh)}i.className=i.className.replace(t.ah,t.Ih)}return this.animateOut||!1}Cr(n,i){if(null!=n){let u;this.Re=null;u=-1===n.className.indexOf("ab-in-app-message")?n.getElementsByClassName("ab-in-app-message")[0]:n;let f=!1;u&&(f=this.hide(u));const r=document.body;let e;null!=r&&(e=r.scrollTop);const o=()=>{if(n&&n.parentNode){let t=n.closest(".ab-iam-root");null==t&&(t=n);t.parentNode&&t.parentNode.removeChild(t)}const t=this.we();if(null!=t){const n=document.getElementById(t);n&&n.parentNode&&n.parentNode.removeChild(n)}null!=r&&"Safari"===rt.browser&&(r.scrollTop=e);i?i():this.N()};f?setTimeout(o,t.Ah):o();this.ke&&this.ke.focus()}}Ge(){return document.createTextNode(this.message||"")}Ae(n){let t="";this.message||this.header||!this.$e()||(t="Modal Image");n.setAttribute("alt",t)}static uh(n){if(!n.targetTouches||!(n.targetTouches.length>1)){const i=n.target;i&&i.classList&&i.classList.contains("ab-message-text")&&i.scrollHeight>i.clientHeight||document.querySelector(`.${t.lh}`)&&n.cancelable&&n.preventDefault()}}Oh(n){const i=n.parentNode;this.$e()&&null!=i&&this.orientation!==t.Orientation.LANDSCAPE&&(null!=i.classList&&i.classList.add(t.lh),document.body.addEventListener("touchmove",t.uh,!!oo()&&{passive:!1}));n.className+=" "+t.ah}static _h(n){if(n.keyCode===yi.mh&&!u.nn(h.Lh)&&document.querySelectorAll(".ab-modal-interactions").length>0){const t=document.getElementsByClassName("ab-html-message");let n=!1;for(const i of t){let t=null;co(i)&&i.contentWindow&&(t=i.contentWindow.document.getElementsByClassName("ab-programmatic-close-button")[0]);null!=t&&(so(t),n=!0)}if(!n){const n=document.querySelectorAll(".ab-modal-interactions > .ab-close-button")[0];null!=n&&so(n)}}}Nh(){this.nh||u.nn(h.Lh)||(document.addEventListener("keydown",t._h,!1),u.Sh(()=>{document.removeEventListener("keydown",t._h)}),this.nh=!0)}Y(n){const i={};return n?(i[t.tt.Yr]=this.message,i[t.tt.Zr]=this.messageAlignment,i[t.tt.Rh]=this.slideFrom,i[t.tt.bt]=this.extras,i[t.tt.ea]=this.triggerId,i[t.tt.ra]=this.clickAction,i[t.tt.URI]=this.uri,i[t.tt.sa]=this.openTarget,i[t.tt.ta]=this.dismissType,i[t.tt.ia]=this.duration,i[t.tt.aa]=this.icon,i[t.tt.ot]=this.imageUrl,i[t.tt.oa]=this.imageStyle,i[t.tt.pa]=this.iconColor,i[t.tt.ma]=this.iconBackgroundColor,i[t.tt.na]=this.backgroundColor,i[t.tt.ua]=this.textColor,i[t.tt.ca]=this.closeButtonColor,i[t.tt.fa]=this.animateIn,i[t.tt.da]=this.animateOut,i[t.tt.la]=this.header,i[t.tt.ga]=this.headerAlignment,i[t.tt.ja]=this.headerTextColor,i[t.tt.xa]=this.frameColor,i[t.tt.za]=this.buttons,i[t.tt.ha]=this.cropType,i[t.tt.va]=this.orientation,i[t.tt.wa]=this.htmlId,i[t.tt.CSS]=this.css,i[t.tt.Z]=n,i[t.tt.ya]=this.messageExtras,i):i}}t.th={hh:4281545523,ih:4294967295,sh:4278219733,Mh:4293914607,Dh:4283782485,Eh:3224580915,eh:4288387995};t.Le={Ch:"hd",ze:"ias",dh:"of",Uh:"do",bh:"umt",Ph:"tf",ph:"te"};t.SlideFrom={TOP:"TOP",BOTTOM:"BOTTOM"};t.ClickAction={NEWS_FEED:"NEWS_FEED",URI:"URI",NONE:"NONE"};t.DismissType={AUTO_DISMISS:"AUTO_DISMISS",MANUAL:"SWIPE"};t.OpenTarget={NONE:"NONE",BLANK:"BLANK"};t.ImageStyle={TOP:"TOP",GRAPHIC:"GRAPHIC"};t.Orientation={PORTRAIT:"PORTRAIT",LANDSCAPE:"LANDSCAPE"};t.TextAlignment={START:"START",CENTER:"CENTER",END:"END"};t.CropType={CENTER_CROP:"CENTER_CROP",FIT_CENTER:"FIT_CENTER"};t.Be={Qr:"SLIDEUP",Lr:"MODAL",Ue:"MODAL_STYLED",Hr:"FULL",Kr:"WEB_HTML",Me:"HTML",Ve:"HTML_FULL"};t.Ah=500;t.fh=200;t.ah="ab-show";t.Ih="ab-hide";t.lh="ab-pause-scrolling";t.tt={Yr:"m",Zr:"ma",Rh:"sf",bt:"e",ea:"ti",ra:"ca",URI:"u",sa:"oa",ta:"dt",ia:"d",aa:"i",ot:"iu",oa:"is",pa:"ic",ma:"ibc",na:"bc",ua:"tc",ca:"cbc",fa:"ai",da:"ao",la:"h",ga:"ha",ja:"htc",xa:"fc",za:"b",ha:"ct",va:"o",wa:"hi",CSS:"css",Z:"type",uo:"messageFields",ya:"me"};class ht extends t{constructor(n,i,r,u,f,e,o,s,h,c,l,a){super(n,void 0,void 0,i,r,void 0,void 0,void 0,u=u||t.DismissType.MANUAL,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,o,void 0,void 0,void 0,s,void 0,void 0,void 0,h,c,a);this.messageFields=l;this.messageFields=l}do(){return!1}p(n){if(this.xe===t.Be.Kr){if(this.vo)return!1;this.vo=!0}return this.Et.Rt(n),!0}Y(){const n=super.Y(ht.it);return n[t.tt.uo]=this.messageFields,n}static Jr(n){return new ht(n[t.tt.Yr],n[t.tt.bt],n[t.tt.ea],n[t.tt.ta],n[t.tt.ia],n[t.tt.fa],n[t.tt.da],n[t.tt.xa],n[t.tt.wa],n[t.tt.CSS],n[t.tt.uo],n[t.tt.ya])}}ht.it=t.Be.Kr;class di{constructor(n,i,r,u,f,e,o){this.text=n;this.backgroundColor=i;this.textColor=r;this.borderColor=u;this.clickAction=f;this.uri=e;this.id=o;this.text=n||"";this.backgroundColor=i||t.th.sh;this.textColor=r||t.th.ih;this.borderColor=u||this.backgroundColor;this.clickAction=f||t.ClickAction.NONE;this.uri=e;null==o&&(o=di.Ki);this.id=o;this.vo=!1;this.Et=new g}subscribeToClickedEvent(n){return this.Et.Nt(n)}removeSubscription(n){this.Et.removeSubscription(n)}removeAllSubscriptions(){this.Et.removeAllSubscriptions()}p(){return!this.vo&&(this.vo=!0,this.Et.Rt(),!0)}static fromJson(n){return new di(n.text,n.bg_color,n.text_color,n.border_color,n.click_action,n.uri,n.id)}}di.Ki=-1;class oi extends t{constructor(n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st){s=s||t.DismissType.MANUAL;ft=ft||t.Orientation.PORTRAIT;super(n,i,void 0,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut=ut||t.CropType.CENTER_CROP,ft,et,ot,st);this.qe=t.TextAlignment.CENTER}Y(){return super.Y(oi.it)}static Jr(n){return new oi(n[t.tt.Yr],n[t.tt.Zr],n[t.tt.bt],n[t.tt.ea],n[t.tt.ra],n[t.tt.URI],n[t.tt.sa],n[t.tt.ta],n[t.tt.ia],n[t.tt.aa],n[t.tt.ot],n[t.tt.oa],n[t.tt.pa],n[t.tt.ma],n[t.tt.na],n[t.tt.ua],n[t.tt.ca],n[t.tt.fa],n[t.tt.da],n[t.tt.la],n[t.tt.ga],n[t.tt.ja],n[t.tt.xa],ao(n[t.tt.za]),n[t.tt.ha],n[t.tt.va],n[t.tt.wa],n[t.tt.CSS],n[t.tt.ya])}}oi.it=t.Be.Hr;class pi extends t{constructor(n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot){super(n,i,void 0,r,u,f,e,o,s=s||t.DismissType.MANUAL,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut=ut||t.CropType.FIT_CENTER,void 0,ft,et,ot);this.qe=t.TextAlignment.CENTER}Y(){return super.Y(pi.it)}static Jr(n){return new pi(n[t.tt.Yr],n[t.tt.Zr],n[t.tt.bt],n[t.tt.ea],n[t.tt.ra],n[t.tt.URI],n[t.tt.sa],n[t.tt.ta],n[t.tt.ia],n[t.tt.aa],n[t.tt.ot],n[t.tt.oa],n[t.tt.pa],n[t.tt.ma],n[t.tt.na],n[t.tt.ua],n[t.tt.ca],n[t.tt.fa],n[t.tt.da],n[t.tt.la],n[t.tt.ga],n[t.tt.ja],n[t.tt.xa],ao(n[t.tt.za]),n[t.tt.ha],n[t.tt.wa],n[t.tt.CSS],n[t.tt.ya])}}pi.it=t.Be.Lr;class si extends t{constructor(n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt){w=w||t.th.Dh;p=p||t.th.Mh;super(n,i=i||t.TextAlignment.START,r,u,f,e,o,s,h,c,l,a,void 0,v,y,p,w,b,k,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0,g,nt,tt);this.qe=t.TextAlignment.START}$e(){return!1}Ge(){const n=document.createElement("span");return n.appendChild(document.createTextNode(this.message||"")),n}Oh(n){const i=n.getElementsByClassName("ab-in-app-message")[0];rr.po(i,!0,!0)||(this.slideFrom===t.SlideFrom.TOP?i.style.top="0px":i.style.bottom="0px");super.Oh(n)}Y(){return super.Y(si.it)}static Jr(n){return new si(n[t.tt.Yr],n[t.tt.Zr],n[t.tt.Rh],n[t.tt.bt],n[t.tt.ea],n[t.tt.ra],n[t.tt.URI],n[t.tt.sa],n[t.tt.ta],n[t.tt.ia],n[t.tt.aa],n[t.tt.ot],n[t.tt.pa],n[t.tt.ma],n[t.tt.na],n[t.tt.ua],n[t.tt.ca],n[t.tt.fa],n[t.tt.da],n[t.tt.wa],n[t.tt.CSS],n[t.tt.ya])}}si.it=t.Be.Qr;class cf{constructor(n){this.Bl=n;this.Bl=n}Jl(n){return null==this.Bl||this.Bl===n[0]}static fromJson(n){return new cf(n?n.event_name:null)}Y(){return this.Bl}}class v{constructor(n,t,i,r){this.Tl=n;this._l=t;this.comparator=i;this.Ll=r;this.Tl=n;this._l=t;this.comparator=i;this.Ll=r;this._l===v.Ol.Il&&this.comparator!==v.Ql.Ul&&this.comparator!==v.Ql.Xl&&this.comparator!==v.Ql.Fl&&this.comparator!==v.Ql.Kl&&(this.Ll=at(this.Ll))}Jl(n){let t=null;switch(null!=n&&(t=n[this.Tl]),this.comparator){case v.Ql.Pl:return null!=t&&t.valueOf()===this.Ll.valueOf();case v.Ql.Yl:return null==t||t.valueOf()!==this.Ll.valueOf();case v.Ql.Zl:return null!=t&&typeof t==typeof this.Ll&&t>this.Ll;case v.Ql.Ul:return this._l===v.Ol.Il?null!=t&&lt(t)&&pe(t)<=this.Ll.valueOf():null!=t&&typeof t==typeof this.Ll&&t>=this.Ll;case v.Ql.$l:return null!=t&&typeof t==typeof this.Ll&&t<this.Ll;case v.Ql.Xl:return this._l===v.Ol.Il?null!=t&&lt(t)&&pe(t)>=this.Ll.valueOf():null!=t&&typeof t==typeof this.Ll&&t<=this.Ll;case v.Ql.Qu:return null!=t&&"string"==typeof t&&typeof t==typeof this.Ll&&null!=t.match(this.Ll);case v.Ql.Vu:return null!=t;case v.Ql.Yu:return null==t;case v.Ql.Fl:return null!=t&&lt(t)&&we(t)<this.Ll;case v.Ql.Kl:return null!=t&&lt(t)&&we(t)>this.Ll;case v.Ql.Zu:return null==t||typeof t!=typeof this.Ll||"string"!=typeof t||null==t.match(this.Ll)}return!1}static fromJson(n){return new v(n.property_key,n.property_type,n.comparator,n.property_value)}Y(){let n=this.Ll;return lt(this.Ll)&&(n=ar(n.valueOf())),{k:this.Tl,t:this._l,c:this.comparator,v:n}}static qn(n){return new v(n.k,n.t,n.c,n.v)}}v.Ol={yE:"boolean",HE:"number",LE:"string",Il:"date"};v.Ql={Pl:1,Yl:2,Zl:3,Ul:4,$l:5,Xl:6,Qu:10,Vu:11,Yu:12,Fl:15,Kl:16,Zu:17};class sr{constructor(n){this.filters=n;this.filters=n}Jl(n){let t=!0;for(let i=0;i<this.filters.length;i++){const r=this.filters[i];let u=!1;for(let t=0;t<r.length;t++)if(r[t].Jl(n)){u=!0;break}if(!u){t=!1;break}}return t}static fromJson(n){if(null==n||!d(n))return null;const t=[];for(let i=0;i<n.length;i++){const r=[],u=n[i];for(let n=0;n<u.length;n++)r.push(v.fromJson(u[n]));t.push(r)}return new sr(t)}Y(){const n=[];for(let t=0;t<this.filters.length;t++){const i=this.filters[t],r=[];for(let n=0;n<i.length;n++)r.push(i[n].Y());n.push(r)}return n}static qn(n){const t=[];for(let i=0;i<n.length;i++){const r=[],u=n[i];for(let n=0;n<u.length;n++)r.push(v.qn(u[n]));t.push(r)}return new sr(t)}}class lf{constructor(n,t){this.Bl=n;this.Ml=t;this.Bl=n;this.Ml=t}Jl(n){if(null==this.Bl||null==this.Ml)return!1;const t=n[0],i=n[1];return t===this.Bl&&this.Ml.Jl(i)}static fromJson(n){return new lf(n?n.event_name:null,n?sr.fromJson(n.property_filters):null)}Y(){return{e:this.Bl,pf:this.Ml?this.Ml.Y():null}}}class af{constructor(n,t){this.tf=n;this.if=t;this.tf=n;this.if=t}Jl(n){if(null==this.tf)return!1;const t=o.rf(n[0],this.tf);if(!t)return!1;let i=null==this.if||0===this.if.length;if(null!=this.if)for(let t=0;t<this.if.length;t++)if(this.if[t]===n[1]){i=!0;break}return t&&i}static fromJson(n){return new af(n?n.id:null,n?n.buttons:null)}Y(){return this.tf}}class vf{constructor(n){this.productId=n;this.productId=n}Jl(n){return null==this.productId||n[0]===this.productId}static fromJson(n){return new vf(n?n.product_id:null)}Y(){return this.productId}}class yf{constructor(n,t){this.productId=n;this.Ml=t;this.productId=n;this.Ml=t}Jl(n){if(null==this.productId||null==this.Ml)return!1;const t=n[0],i=n[1];return t===this.productId&&this.Ml.Jl(i)}static fromJson(n){return new yf(n?n.product_id:null,n?sr.fromJson(n.property_filters):null)}Y(){return{id:this.productId,pf:this.Ml?this.Ml.Y():null}}}class pf{constructor(n){this.tf=n;this.tf=n}Jl(n){return null==this.tf||o.rf(n[0],this.tf)}static fromJson(n){return new pf(n?n.campaign_id:null)}Y(){return this.tf}}w={OPEN:"open",Rr:"purchase",vr:"push_click",ue:"custom_event",Vr:"iam_click",kt:"test"};class o{constructor(n,t){this.type=n;this.data=t;this.type=n;this.data=t}sc(n,t){return o.cc[this.type]===n&&(null==this.data||this.data.Jl(t))}static rf(n,t){let r=null;try{r=window.atob(n)}catch(t){return i.info("Failed to unencode analytics id "+n+": "+yt(t)),!1}return t===r.split("_")[0]}static fromJson(n){const i=n.type;let t=null;switch(i){case o.Er.Rr:t=vf.fromJson(n.data);break;case o.Er.nc:t=yf.fromJson(n.data);break;case o.Er.vr:t=pf.fromJson(n.data);break;case o.Er.ue:t=cf.fromJson(n.data);break;case o.Er.lc:t=lf.fromJson(n.data);break;case o.Er.Vr:t=af.fromJson(n.data)}return new o(i,t)}Y(){return{t:this.type,d:this.data?this.data.Y():null}}static qn(n){let i,t=null;switch(n.t){case o.Er.Rr:t=new vf(n.d);break;case o.Er.nc:i=n.d||{};t=new yf(i.id,sr.qn(i.pf||[]));break;case o.Er.vr:t=new pf(n.d);break;case o.Er.ue:t=new cf(n.d);break;case o.Er.lc:i=n.d||{};t=new lf(i.e,sr.qn(i.pf||[]));break;case o.Er.Vr:t=new af(n.d)}return new o(n.t,t)}}o.Er={OPEN:"open",Rr:"purchase",nc:"purchase_property",vr:"push_click",ue:"custom_event",lc:"custom_event_property",Vr:"iam_click",kt:"test"};o.cc={};o.cc[o.Er.OPEN]=w.OPEN;o.cc[o.Er.Rr]=w.Rr;o.cc[o.Er.nc]=w.Rr;o.cc[o.Er.vr]=w.vr;o.cc[o.Er.ue]=w.ue;o.cc[o.Er.lc]=w.ue;o.cc[o.Er.Vr]=w.Vr;o.cc[o.Er.kt]=w.kt;class ut{constructor(n,t=[],i,r,u=0,f,e,o=0,s=ut.td,h,c,l){this.id=n;this.sd=t;this.startTime=i;this.endTime=r;this.priority=u;this.type=f;this.data=e;this.ed=o;this.rd=s;this.Or=h;this.hd=c;this.od=l;this.id=n;this.sd=t||[];void 0===i&&(i=null);this.startTime=i;void 0===r&&(r=null);this.endTime=r;this.priority=u||0;this.type=f;this.ed=o||0;null==h&&(h=1e3*(this.ed+30));this.Or=h;this.data=e;null!=s&&(this.rd=s);this.hd=c;this.od=l||null}nd(n){return null==this.od||this.rd!==ut.td&&n-this.od>=1e3*this.rd}ad(n){this.od=n}ud(n){const t=n+1e3*this.ed;return Math.max(t-(new Date).valueOf(),0)}dd(n){const t=(new Date).valueOf()-n,r=null==n||isNaN(t)||null==this.Or||t<this.Or;return r||i.info(`Trigger action ${this.type} is no longer eligible for display - fired ${t}ms ago and has a timeout of ${this.Or}ms.`),!r}static fromJson(n){const r=n.id,t=[];for(let i=0;i<n.trigger_condition.length;i++)t.push(o.fromJson(n.trigger_condition[i]));const u=at(n.start_time),f=at(n.end_time),e=n.priority,i=n.type,s=n.delay,h=n.re_eligibility,c=n.timeout,l=n.data,a=n.min_seconds_since_last_trigger;return ri(ut.Er,i,"Could not construct Trigger from server data","Trigger.Types")?new ut(r,t,u,f,e,i,l,s,h,c,a):null}Y(){const n=[];for(let t=0;t<this.sd.length;t++)n.push(this.sd[t].Y());return{i:this.id,c:n,s:this.startTime,e:this.endTime,p:this.priority,t:this.type,da:this.data,d:this.ed,r:this.rd,tm:this.Or,ss:this.hd,ld:this.od}}static qn(n){const t=[],i=n.c||[];for(let n=0;n<i.length;n++)t.push(o.qn(i[n]));return new ut(n.i,t,ir(n.s),ir(n.e),n.p,n.t,n.da,n.d,n.r,n.tm,n.ss,n.ld)}}ut.Er={_r:"inapp",md:"templated_iam"};ut.td=-1;const gi={PORTRAIT:0,LANDSCAPE:1};const ur={openUri:kl,fo:wl,co:bl,Zo:dl};const ns=(n,i,r,u)=>{const f=r.getAttribute("href"),e=r.onclick;return o=>{if(null==e||"function"!=typeof e||!1!==e.bind(r)(o)){let s=go(f).abButtonId;if(null!=s&&""!==s||(s=r.getAttribute("id")||void 0),null!=f&&""!==f&&0!==f.indexOf("#")){const c="blank"===(r.getAttribute("target")||"").toLowerCase().replace("_",""),e=u||n.openTarget===t.OpenTarget.BLANK||c,h=()=>{hu(n,s,f),ur.openUri(f,e,o)};e?h():n.Cr(i,h)}else hu(n,s,f||void 0);return o.stopPropagation(),!1}}},ts=(n,t,i)=>{const u=`([\\w]+)\\s*=\\s*document.createElement\\(['"]${i}['"]\\)`,r=n.match(new RegExp(u));if(r){const i=`${r[1]}.setAttribute("nonce", "${t}")`;return`${n.slice(0,r.index+r[0].length)};${i};${n.slice(r.index+r[0].length)}`}return null},na=(n,t,r)=>{const f={closeMessage:function(){n.Cr(t)},logClick:function(){hu(n,...arguments)},display:{},web:{}},o=function(){return function(){const n=arguments;Promise.resolve().then(function(){return ee}).then(t=>{u.so()?t.requestPushPermission(...Array.prototype.slice.call(n)):i.error(vt)})}},s={requestImmediateDataFlush:function(){const n=arguments;Promise.resolve().then(function(){return uh}).then(({requestImmediateDataFlush:t})=>{u.so()?t(...Array.prototype.slice.call(n)):i.error(vt)})},logCustomEvent:function(){const n=arguments;Promise.resolve().then(function(){return ue}).then(({logCustomEvent:t})=>{if(!u.so())return void i.error(vt);t(...Array.prototype.slice.call(n))})},logPurchase:function(){const n=arguments;Promise.resolve().then(function(){return ih}).then(({logPurchase:t})=>{if(!u.so())return void i.error(vt);t(...Array.prototype.slice.call(n))})},unregisterPush:function(){const n=arguments;Promise.resolve().then(function(){return vh}).then(({unregisterPush:t})=>{u.so()?t(...Array.prototype.slice.call(n)):i.error(vt)})},requestPushPermission:o(),changeUser:function(){const n=arguments;Promise.resolve().then(function(){return gs}).then(({changeUser:t})=>{if(!u.so())return void i.error(vt);t(...Array.prototype.slice.call(n))})}},a=function(n){return function(){s[n](...Array.prototype.slice.call(arguments))}};for(const n of ft(s))f[n]=a(n);const e=["setFirstName","setLastName","setEmail","setGender","setDateOfBirth","setCountry","setHomeCity","setEmailNotificationSubscriptionType","setLanguage","addAlias","setPushNotificationSubscriptionType","setPhoneNumber","setCustomUserAttribute","addToCustomAttributeArray","removeFromCustomAttributeArray","incrementCustomUserAttribute","setCustomLocationAttribute","addToSubscriptionGroup","removeFromSubscriptionGroup",],v=function(n){return function(){const t=wf();t&&t[n](...Array.prototype.slice.call(arguments))}},h={};for(let n=0;n<e.length;n++)h[e[n]]=v(e[n]);f.getUser=function(){return h};const c={showFeed:r},y=function(i){return function(){const r=arguments;n.Cr(t,function(){c[i](...Array.prototype.slice.call(r))})}},p=f.display;for(const n of ft(c))p[n]=y(n);const l={registerAppboyPushMessages:o()},w=function(n){return function(){l[n](...Array.prototype.slice.call(arguments))}},b=f.web;for(const n of ft(l))b[n]=w(n);return f};const kf={Je:n=>{const t=n.querySelectorAll(".ab-close-button, .ab-message-text, .ab-message-button");let i;for(let n=0;n<t.length;n++)i=t[n],i.tabIndex=0;if(t.length>0){const i=t[0],r=t[t.length-1];n.addEventListener("keydown",t=>{const u=document.activeElement;t.keyCode===yi.lo&&(t.shiftKey||u!==r&&u!==n?!t.shiftKey||u!==i&&u!==n||(t.preventDefault(),r.focus()):(t.preventDefault(),i.focus()))})}},Ke:(n,t)=>{t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-label","Modal Message"),n&&t.setAttribute("aria-labelledby",n)},He:(n,i,r,u)=>{if(n.buttons&&n.buttons.length>0){const f=document.createElement("div");f.className="ab-message-buttons";r.appendChild(f);const e=r.getElementsByClassName("ab-message-text")[0];null!=e&&(e.className+=" ab-with-buttons");const o=f=>e=>(n.Cr(r,()=>{is(f,n),f.clickAction===t.ClickAction.URI?su(f.uri||"",u||n.openTarget===t.OpenTarget.BLANK,e):f.clickAction===t.ClickAction.NEWS_FEED&&i()}),e.stopPropagation(),!1);for(let t=0;t<n.buttons.length;t++){const r=n.buttons[t],i=document.createElement("button");i.className="ab-message-button";i.setAttribute("type","button");br(i,"touchstart");let u=r.text;""===r.text&&(u=" ");i.appendChild(document.createTextNode(u));n.ve()||(i.style.backgroundColor=bt(r.backgroundColor),i.style.color=bt(r.textColor),i.style.borderColor=bt(r.borderColor));i.onclick=o(r);f.appendChild(i)}}}};cu={en:{NO_CARDS_MESSAGE:"We have no updates for you at this time.<br/>Please check again later.",FEED_TIMEOUT_MESSAGE:"Sorry, this refresh timed out.<br/>Please try again later."},ar:{NO_CARDS_MESSAGE:"ليس لدينا أي تحديث. يرجى التحقق مرة أخرى لاحقاً",FEED_TIMEOUT_MESSAGE:"يرجى تكرار المحاولة لاحقا"},cs:{NO_CARDS_MESSAGE:"V tuto chvíli pro vás nemáme žádné aktualizace.<br/>Zkontrolujte prosím znovu později.",FEED_TIMEOUT_MESSAGE:"Prosím zkuste to znovu později."},da:{NO_CARDS_MESSAGE:"Vi har ingen updates.<br/>Prøv venligst senere.",FEED_TIMEOUT_MESSAGE:"Prøv venligst senere."},de:{NO_CARDS_MESSAGE:"Derzeit sind keine Updates verfügbar.<br/>Bitte später noch einmal versuchen.",FEED_TIMEOUT_MESSAGE:"Bitte später noch einmal versuchen."},es:{NO_CARDS_MESSAGE:"No tenemos actualizaciones.<br/>Por favor compruébelo más tarde.",FEED_TIMEOUT_MESSAGE:"Por favor inténtelo más tarde."},"es-mx":{NO_CARDS_MESSAGE:"No tenemos ninguna actualización.<br/>Vuelva a verificar más tarde.",FEED_TIMEOUT_MESSAGE:"Por favor, vuelva a intentarlo más tarde."},et:{NO_CARDS_MESSAGE:"Uuendusi pole praegu saadaval.<br/>Proovige hiljem uuesti.",FEED_TIMEOUT_MESSAGE:"Palun proovige hiljem uuesti."},fi:{NO_CARDS_MESSAGE:"Päivityksiä ei ole saatavilla.<br/>Tarkista myöhemmin uudelleen.",FEED_TIMEOUT_MESSAGE:"Yritä myöhemmin uudelleen."},fr:{NO_CARDS_MESSAGE:"Aucune mise à jour disponible.<br/>Veuillez vérifier ultérieurement.",FEED_TIMEOUT_MESSAGE:"Veuillez réessayer ultérieurement."},he:{NO_CARDS_MESSAGE:".אין לנו עדכונים. בבקשה בדוק שוב בקרוב",FEED_TIMEOUT_MESSAGE:".בבקשה נסה שוב בקרוב"},hi:{NO_CARDS_MESSAGE:"हमारे पास कोई अपडेट नहीं हैं। कृपया बाद में फिर से जाँच करें.।",FEED_TIMEOUT_MESSAGE:"कृपया बाद में दोबारा प्रयास करें।."},id:{NO_CARDS_MESSAGE:"Kami tidak memiliki pembaruan. Coba lagi nanti.",FEED_TIMEOUT_MESSAGE:"Coba lagi nanti."},it:{NO_CARDS_MESSAGE:"Non ci sono aggiornamenti.<br/>Ricontrollare più tardi.",FEED_TIMEOUT_MESSAGE:"Riprovare più tardi."},ja:{NO_CARDS_MESSAGE:"アップデートはありません。<br/>後でもう一度確認してください。",FEED_TIMEOUT_MESSAGE:"後でもう一度試してください。"},ko:{NO_CARDS_MESSAGE:"업데이트가 없습니다. 다음에 다시 확인해 주십시오.",FEED_TIMEOUT_MESSAGE:"나중에 다시 시도해 주십시오."},ms:{NO_CARDS_MESSAGE:"Tiada kemas kini. Sila periksa kemudian.",FEED_TIMEOUT_MESSAGE:"Sila cuba kemudian."},nl:{NO_CARDS_MESSAGE:"Er zijn geen updates.<br/>Probeer het later opnieuw.",FEED_TIMEOUT_MESSAGE:"Probeer het later opnieuw."},no:{NO_CARDS_MESSAGE:"Vi har ingen oppdateringer.<br/>Vennligst sjekk igjen senere.",FEED_TIMEOUT_MESSAGE:"Vennligst prøv igjen senere."},pl:{NO_CARDS_MESSAGE:"Brak aktualizacji.<br/>Proszę sprawdzić ponownie później.",FEED_TIMEOUT_MESSAGE:"Proszę spróbować ponownie później."},pt:{NO_CARDS_MESSAGE:"Não temos atualizações.<br/>Por favor, verifique mais tarde.",FEED_TIMEOUT_MESSAGE:"Por favor, tente mais tarde."},"pt-br":{NO_CARDS_MESSAGE:"Não temos nenhuma atualização.<br/>Verifique novamente mais tarde.",FEED_TIMEOUT_MESSAGE:"Tente novamente mais tarde."},ru:{NO_CARDS_MESSAGE:"Обновления недоступны.<br/>Пожалуйста, проверьте снова позже.",FEED_TIMEOUT_MESSAGE:"Пожалуйста, повторите попытку позже."},sv:{NO_CARDS_MESSAGE:"Det finns inga uppdateringar.<br/>Försök igen senare.",FEED_TIMEOUT_MESSAGE:"Försök igen senare."},th:{NO_CARDS_MESSAGE:"เราไม่มีการอัพเดต กรุณาตรวจสอบภายหลัง.",FEED_TIMEOUT_MESSAGE:"กรุณาลองใหม่ภายหลัง."},uk:{NO_CARDS_MESSAGE:"Оновлення недоступні.<br/>ласка, перевірте знову пізніше.",FEED_TIMEOUT_MESSAGE:"Будь ласка, спробуйте ще раз пізніше."},vi:{NO_CARDS_MESSAGE:"Chúng tôi không có cập nhật nào.<br/>Vui lòng kiểm tra lại sau.",FEED_TIMEOUT_MESSAGE:"Vui lòng thử lại sau."},"zh-hk":{NO_CARDS_MESSAGE:"暫時沒有更新.<br/>請稍候再試.",FEED_TIMEOUT_MESSAGE:"請稍候再試."},"zh-hans":{NO_CARDS_MESSAGE:"暂时没有更新.<br/>请稍后再试.",FEED_TIMEOUT_MESSAGE:"请稍候再试."},"zh-hant":{NO_CARDS_MESSAGE:"暫時沒有更新.<br/>請稍候再試.",FEED_TIMEOUT_MESSAGE:"請稍候再試."},"zh-tw":{NO_CARDS_MESSAGE:"暫時沒有更新.<br/>請稍候再試.",FEED_TIMEOUT_MESSAGE:"請稍候再試."},zh:{NO_CARDS_MESSAGE:"暂时没有更新.<br/>请稍后再试.",FEED_TIMEOUT_MESSAGE:"请稍候再试."}};class ra{constructor(n,t=!1){if(this.language=n,null!=n&&(n=n.toLowerCase()),null!=n&&null==cu[n]){const t=n.indexOf("-");t>0&&(n=n.substring(0,t))}if(null==cu[n]){const r="Braze does not yet have a localization for language "+n+", defaulting to English. Please contact us if you are willing and able to help us translate our SDK into this language.";t?i.error(r):i.info(r);n="en"}this.language=n}get(n){return cu[this.language][n]}wo(){switch(this.language){case"ar":case"he":case"fa":return"rtl";default:return"ltr"}}}const ct={t:!1,i:null,m:()=>{if(ct.o(),!ct.i){let n=rt.language,t=!1;u.nn(h.zn)&&(n=u.nn(h.zn),t=!0);ct.i=new ra(n,t)}return ct.i},o:()=>{ct.t||(u.g(ct),ct.t=!0)},destroy:()=>{ct.i=null,ct.t=!1}};class oa{constructor(n,t,i,r){this.$t=n;this.oi=t;this.u=i;this.yt=r;this.$t=n;this.oi=t;this.u=i;this.yt=r;this._e=new g;u.Ht(this._e);this.Xe=1e3;this.We=6e4;this.Ye=null}Ze(){return this._e}Mi(n){return this._e.Nt(n)}_i(){return this.Ye}Pi(n){this.Ye=n}q(n,t,r,u){const e=new ki;let f;if(n instanceof vi)f={trigger_ids:[n.triggerId]};else{if(t===c.$i||n instanceof ht&&t===c.Oi){if(!n.p(u))return i.info("This in-app message has already received a click. Ignoring analytics event."),e}else if(t===c.Xi&&!n.K())return i.info("This in-app message has already received an impression. Ignoring analytics event."),e;f=this.Hi(n)}return null==f?e:(n.messageExtras&&(f.message_extras=n.messageExtras),null!=r&&(f.bid=r),k.q(t,f))}Ji(n,t){const r=new ki;if(!n.p())return i.info("This in-app message button has already received a click. Ignoring analytics event."),r;const u=this.Hi(t);return null==u?r:n.id===di.Ki?(i.info("This in-app message button does not have a tracking id. Not logging event to Braze servers."),r):(null!=n.id&&(u.bid=n.id),k.q(c.Oi,u))}Li(n){const t=n.messageFields;return null!=t&&t.is_push_primer||!1}Qi(n){if(n instanceof t){const r=n=>{if(n){const t=rf(n);return uf(t)?tf(yr.Vi,"In-App Message"):io(t)&&!it.Wi()?tf(yr.Yi,"In-App Message"):void 0}};if(this.Li(n)&&!it.Wi())return"In-App Message contains a push prompt, but is not eligible for a push prompt. Ignoring.";const u=n.buttons||[];let i;for(const n of u)if(n.clickAction===t.ClickAction.URI&&n.uri&&pr.test(n.uri)&&(i=r(n.uri),i))return i;if(n.clickAction===t.ClickAction.URI&&n.uri&&pr.test(n.uri))return r(n.uri)}}Zi(n,t,r,u){const o=this.$t;if(o){const h=o.Ir(!1,!1),f=o.$s(h);f.template={trigger_id:n.triggerId,trigger_event_type:t};null!=r&&(f.template.data=r.Mr());const s=o.Ps(f,e._s.Tr);o.Gs(f,(o=-1)=>{if(this.$t){const h=(new Date).valueOf();e.Hs(this.u,e._s.Tr,h);-1!==o&&s.push(["X-Braze-Req-Tokens-Remaining",o.toString()]);uu.Ks({url:`${this.$t.Os()}/template/`,data:f,headers:s,L:t=>{if(e.Ws(this.u,e._s.Tr,1),!this.$t.Qs(f,t,s))return void("function"==typeof n.Br&&n.Br());if(this.$t.Vs(),null!=t&&null!=t.templated_message){const u=t.templated_message;if(u.type===ut.Er._r){const r=lo(u.data);if(null!=r){const o=this.Qi(r);if(o)return i.error(o),void("function"==typeof n.Br&&n.Br());"function"==typeof n.Gr&&n.Gr(r)}}}},error:i=>{let f=`getting user personalization for message ${n.triggerId}`;if((new Date).valueOf()-n.Nr<n.Or){e.ti(this.u,e._s.Tr);const s=Math.min(n.Or,this.We),o=this.Xe;null==u&&(u=o);const i=Math.min(s,fu(o,3*u));f+=`. Retrying in ${i} ms`;setTimeout(()=>{this.Zi(n,t,r,i)},i)}this.$t.Ys(i,f)}})}},e._s.Tr)}}Hi(n){if(null==n.triggerId)return i.info("The in-app message has no analytics id. Not logging event to Braze servers."),null;const t={};return null!=n.triggerId&&(t.trigger_ids=[n.triggerId]),t}je(n){return!!this.u&&!(!(n&&n instanceof t&&n.constructor!==t)||n instanceof vi)&&this.u.I(r.C.Xr,n.Y())}Se(){if(!this.u)return null;const n=this.u.j(r.C.Xr);if(!n)return null;let i;switch(n.type){case t.Be.Hr:i=oi.Jr(n);break;case t.Be.Kr:case t.Be.Me:case t.Be.Ve:i=ht.Jr(n);break;case t.Be.Lr:case t.Be.Ue:i=pi.Jr(n);break;case t.Be.Qr:i=si.Jr(n)}return i&&this.Ur(),i}Ur(){this.u&&this.u.ii(r.C.Xr)}}const hi={i:null,t:!1,m:()=>(hi.o(),hi.i||(hi.i=new oa(u.nr(),u.zr(),u.l(),u.er())),hi.i),o:()=>{hi.t||(u.g(hi),hi.t=!0)},destroy:()=>{hi.i=null,hi.t=!1}};kt=hi;class fs{constructor(n,t,i,r,u){this.triggerId=n;this.Gr=t;this.Br=i;this.Nr=r;this.Or=u;this.triggerId=n;this.Gr=t;this.Br=i;this.Nr=r;this.Or=u}static fromJson(n,t,i,r,u){return null==n||null==n.trigger_id?null:new fs(n.trigger_id,t,i,r,u)}}class sa extends wr{constructor(n,t,i,r,u){super();this.tg=n;this.Bt=t;this.u=i;this.Ui=r;this.ig=u;this.tg=n;this.Bt=t;this.u=i;this.Ui=r;this.ig=u;this.sg=[];this.eg=[];this.hg=null;this.ng={};this.og={};this.triggers=[];this.lg=0;this.ag();this.gg()}fg(){if(this.u){this.hg=this.u.j(r.C.iE)||this.hg;this.ng=this.u.j(r.C.EE)||this.ng;this.og=this.u.j(r.C.aE)||this.og;for(let n=0;n<this.triggers.length;n++){const t=this.triggers[n];t.id&&null!=this.og[t.id]&&t.ad(this.og[t.id])}}}ag(){if(this.u){this.lg=this.u.j(r.C.oE)||0;const n=this.u.j(r.C.rE)||[],t=[];for(let i=0;i<n.length;i++)t.push(ut.qn(n[i]));this.triggers=t;this.fg()}}gg(){const i=this,u=function(n,t,r,u,f){return function(){i.cg(n,t,r,u,f)}},n={};for(const t of this.triggers)t.id&&(n[t.id]=t);let t=!1;for(let i=0;i<this.triggers.length;i++){const r=this.triggers[i];if(r.id&&null!=this.ng[r.id]){const f=this.ng[r.id],i=[];for(let t=0;t<f.length;t++){const e=f[t],o=r.ud(e.Nr||0);if(o>0){let t,f;i.push(e);null!=e.ug&&(t=e.ug);null!=e.dg&&et.RE(e.dg)&&(f=et.qn(e.dg));const s=[];if(e.pg&&d(e.pg))for(let t=0;t<e.pg.length;t++){const i=n[e.pg[t]];null!=i&&s.push(i)}this.eg.push(window.setTimeout(u(r,e.Nr||0,t,f,s),o))}}this.ng[r.id].length>i.length&&(this.ng[r.id]=i,t=!0,0===this.ng[r.id].length&&delete this.ng[r.id])}}t&&this.u&&this.u.I(r.C.EE,this.ng)}mg(){if(this.u){const n=[];for(let t=0;t<this.triggers.length;t++)n.push(this.triggers[t].Y());this.lg=(new Date).valueOf();this.u.I(r.C.rE,n);this.u.I(r.C.oE,this.lg)}}bg(){this.u&&((this.u.j(r.C.oE)||0)>this.lg?this.ag():this.fg())}Ss(n){let t=!1;if(null!=n&&n.triggers){this.ig.Ur();this.fg();const u={},f={};this.triggers=[];for(let i=0;i<n.triggers.length;i++){const r=ut.fromJson(n.triggers[i]);if(r){r.id&&null!=this.og[r.id]&&(r.ad(this.og[r.id]),u[r.id]=this.og[r.id]);r.id&&null!=this.ng[r.id]&&(f[r.id]=this.ng[r.id]);for(let n=0;n<r.sd.length;n++)if(r.sd[n].sc(w.kt,null)){t=!0;break}this.triggers.push(r)}}tr(this.og,u)||(this.og=u,this.u&&this.u.I(r.C.aE,this.og));tr(this.ng,f)||(this.ng=f,this.u&&this.u.I(r.C.EE,this.ng));this.mg();t&&(i.info("Trigger with test condition found, firing test."),this.fe(w.kt));this.fe(w.OPEN);const e=this.sg;let o;this.sg=[];for(let n=0;n<e.length;n++)o=Array.prototype.slice.call(e[n]),this.fe(...o)}}cg(n,t,r,u,f){const c=u=>{this.fg();const f=(new Date).valueOf();n.dd(t)||(!1===navigator.onLine&&n.type===ut.Er._r&&u.imageUrl?i.info(`Not showing ${n.type} trigger action ${n.id} due to offline state.`):n.nd(f)&&this.wg(n,f,r)?0===this.Bt.ic()?i.info(`Not displaying trigger ${n.id} because neither automaticallyShowInAppMessages() nor subscribeToInAppMessage() were called.`):(this.Bt.Rt([u]),this.yg(n,f)):i.info(`Not displaying trigger ${n.id} because display time fell outside of the acceptable time window.`))},o=()=>{this.fg();const e=f.pop();if(null!=e)if(this.Tg(e,t,r,u,f),e.dd(t)){let n=`Server aborted in-app message display, but the timeout on fallback trigger ${e.id} has already elapsed.`;f.length>0&&(n+=" Continuing to fall back.");i.info(n);o()}else{i.info(`Server aborted in-app message display. Falling back to lower priority ${e.type} trigger action ${n.id}.`);const o=1e3*e.ed-((new Date).valueOf()-t);o>0?this.eg.push(window.setTimeout(()=>{this.cg(e,t,r,u,f)},o)):this.cg(e,t,r,u,f)}};let e,s,h;switch(n.type){case ut.Er._r:if(e=lo(n.data),null==e){i.error(`Could not parse trigger data for trigger ${n.id}, ignoring.`);break}if(s=this.ig.Qi(e),s){i.error(s);o();break}c(e);break;case ut.Er.md:if(h=fs.fromJson(n.data,c,o,t,n.Or||0),null==h){i.error(`Could not parse trigger data for trigger ${n.id}, ignoring.`);break}this.ig.Zi(h,r,u);break;default:i.error(`Trigger ${n.id} was of unexpected type ${n.type}, ignoring.`)}}fe(n,t=null,r){if(ri(w,n,"Cannot fire trigger action.","TriggerEvents")){if(this.Ui&&this.Ui.Uu())return i.info("Trigger sync is currently in progress, awaiting sync completion before firing trigger event."),void this.sg.push(arguments);this.bg();const f=(new Date).valueOf(),h=f-(this.hg||0);let o=!0,s=!0;const e=[];for(let i=0;i<this.triggers.length;i++){const r=this.triggers[i],u=f+1e3*r.ed;if(r.nd(u)&&(null==r.startTime||r.startTime.valueOf()<=f)&&(null==r.endTime||r.endTime.valueOf()>=f)){let i=!1;for(let u=0;u<r.sd.length;u++)if(r.sd[u].sc(n,t)){i=!0;break}i&&(o=!1,this.wg(r,u,n)&&(s=!1,e.push(r)))}}if(o)return void i.info(`Trigger event ${n} did not match any trigger conditions.`);if(s)return void i.info(`Ignoring ${n} trigger event because a trigger was displayed ${h/1e3}s ago.`);e.sort((n,t)=>n.priority-t.priority);const u=e.pop();null!=u&&(i.info(`Firing ${u.type} trigger action ${u.id} from trigger event ${n}.`),this.Tg(u,f,n,r,e),0===u.ed?this.cg(u,f,n,r,e):this.eg.push(window.setTimeout(()=>{this.cg(u,f,n,r,e)},1e3*u.ed)))}}changeUser(n=!1){if(this.triggers=[],this.u&&this.u.ii(r.C.rE),!n){this.sg=[];this.hg=null;this.og={};this.ng={};for(let n=0;n<this.eg.length;n++)clearTimeout(this.eg[n]);this.eg=[];this.u&&(this.u.ii(r.C.iE),this.u.ii(r.C.aE),this.u.ii(r.C.EE))}}clearData(){this.triggers=[];this.hg=null;this.og={};this.ng={};for(let n=0;n<this.eg.length;n++)clearTimeout(this.eg[n]);this.eg=[]}wg(n,t,r){if(null==this.hg)return!0;if(r===w.kt)return i.info("Ignoring minimum interval between trigger because it is a test type."),!0;let u=n.hd;return null==u&&(u=this.tg),t-this.hg>=1e3*u}Tg(n,t,i,u,f){this.fg();n.id&&(this.ng[n.id]=this.ng[n.id]||[]);const e={};let o;e.Nr=t;e.ug=i;null!=u&&(o=u.Y());e.dg=o;const s=[];for(const n of f)n.id&&s.push(n.id);e.pg=s;n.id&&this.ng[n.id].push(e);this.u&&this.u.I(r.C.EE,this.ng)}yg(n,t){this.fg();n.ad(t);this.hg=t;n.id&&(this.og[n.id]=t);this.u&&(this.u.I(r.C.iE,t),this.u.I(r.C.aE,this.og))}}const b={t:!1,provider:null,rr:()=>(b.o(),b.provider||b.rg(),b.provider),rg:()=>{if(!b.provider){const n=u.nn(h.Oo);b.provider=new sa(null!=n?n:30,kt.m().Ze(),u.l(),u.cr(),kt.m());u.ar(b.provider)}},o:()=>{b.t||(b.rg(),u.g(b),b.t=!0)},destroy:()=>{b.provider=null,b.t=!1}};class df{constructor(n,t,i,r,u){this.endpoint=n;this.Vn=t;this.publicKey=i;this.Vl=r;this.cl=u;this.endpoint=n||null;this.Vn=t||null;this.publicKey=i||null;this.Vl=r||null;this.cl=u||null}Y(){return{e:this.endpoint,c:this.Vn,p:this.publicKey,u:this.Vl,v:this.cl}}static qn(n){return new df(n.e,ir(n.c),n.p,n.u,n.v)}}class ha{constructor(n,t){this.qt=n;this.u=t;this.qt=n;this.u=t}getUserId(){const t=this.u.tu(r.iu.su);if(null==t)return null;let n=t.eu,i=tu(n);if(i>l.lr){for(;i>l.lr;)n=n.slice(0,n.length-1),i=tu(n);t.eu=n;this.u.uu(r.iu.su,t)}return n}ou(n){const t=null==this.getUserId();this.u.uu(r.iu.su,new ui(n));t&&this.u.ru(n)}setCustomUserAttribute(n,t){if(this.qt.hu(n))return i.info('Custom Attribute "'+n+'" is blocklisted, ignoring.'),!1;const r={};return r[n]=t,this.nu(l.lu,r,!0)}nu(n,t,r=!1,u=!1){const o=this.u.mu(this.getUserId(),n,t);let s="",e=n,f=t;return r&&(s=" custom","object"==typeof t&&(e=Object.keys(t)[0],f=t[e],"object"==typeof f&&(f=JSON.stringify(f,null,2)))),!u&&o&&i.info(`Logged${s} attribute ${e} with value ${f}`),o}Pn(n,t,u,f,e){this.nu("push_token",n,!1,!0);this.nu("custom_push_public_key",u,!1,!0);this.nu("custom_push_user_auth",f,!1,!0);this.nu("custom_push_vapid_public_key",e,!1,!0);const o=a.ts.Zt,s=new a(o,i),h=new df(n,t,u,f,e);this.u.I(r.C.In,h.Y());s.setItem(o.hs.cu,o.ie,!0)}Sn(n){if(this.nu("push_token",null,!1,!0),this.nu("custom_push_public_key",null,!1,!0),this.nu("custom_push_user_auth",null,!1,!0),this.nu("custom_push_vapid_public_key",null,!1,!0),n){const n=a.ts.Zt,t=new a(n,i);this.u.I(r.C.In,!1);t.setItem(n.hs.cu,n.ie,!1)}}}const h={Eo:"allowCrawlerActivity",_o:"baseUrl",Io:"noCookies",So:"devicePropertyAllowlist",Aa:"disablePushTokenMaintenance",Ao:"enableLogging",No:"enableSdkAuthentication",qa:"manageServiceWorkerExternally",Oo:"minimumIntervalBetweenTriggerActionsInSeconds",Ro:"sessionTimeoutInSeconds",Po:"appVersion",Lo:"appVersionNumber",Ma:"serviceWorkerLocation",ka:"safariWebsitePushId",zn:"localization",bo:"contentSecurityNonce",Do:"allowUserSuppliedJavascript",jo:"inAppMessageZIndex",ho:"openInAppMessagesInNewTab",tn:"openCardsInNewTab",en:"openNewsFeedCardsInNewTab",Lh:"requireExplicitInAppMessageDismissal",Mo:"doNotLoadFontAwesome",Uo:"deviceId",_a:"serviceWorkerScope",Wo:"sdkFlavor"};class ca{constructor(){this.rn="";this.Bo="";this.Vo=void 0;this.Ko=null;this.on=null;this.$t=null;this.Ui=null;this.qt=null;this.oi=null;this.u=null;this.yt=null;this.Go="";this.isInitialized=!1;this.$o=!1;this.qo=new g;this.Jo=new g;this.options={};this.Yo=[];this.Ho=[];this._e=[];this.Bo="5.5.0"}Xo(n){this.qo.Nt(n)}Sh(n){this.Jo.Nt(n)}initialize(n,t){if(this.so())return i.info("Braze has already been initialized with an API key."),!0;this.options=t||{};let o=this.nn(h.Ao);const s=go(ur.Zo());if(s&&"true"===s.brazeLogging&&(o=!0),i.init(o),i.info(`Initialization Options: ${JSON.stringify(this.options,null,2)}`),null==n||""===n||"string"!=typeof n)return i.error("Braze requires a valid API key to be initialized."),!1;this.rn=n;let u=this.nn(h._o);if(null==u||""===u||"string"!=typeof u)return i.error("Braze requires a valid baseUrl to be initialized."),!1;!1===/^https?:/.test(u)&&(u=`https://${u}`);const a=u;if(u=document.createElement("a"),u.href=a,"/"===u.pathname&&(u=`${u}api/v3`),this.Go=u.toString(),rt.Qo&&!this.nn(h.Eo))return i.info("Ignoring activity from crawler bot "+navigator.userAgent),this.$o=!0,!1;const e=this.nn(h.Io)||!1;if(this.u=eo.Wh(n,e),e&&this.u.Vh(n),new nt.ee(null,!0).br(r.se))return i.info("Ignoring all activity due to previous opt out"),this.$o=!0,!1;for(const n of ft(this.options))-1===gr(ku).indexOf(n)&&i.warn(`Ignoring unknown initialization option '${n}'.`);const v=["mparticle","wordpress","tealium"];if(null!=this.nn(h.Wo)){const n=this.nn(h.Wo);-1!==v.indexOf(n)?this.Vo=n:i.error("Invalid sdk flavor passed: "+n)}let f=this.nn(ku.So);if(null!=f)if(d(f)){const n=[];for(let t=0;t<f.length;t++)ri(wt,f[t],"devicePropertyAllowlist contained an invalid value.","DeviceProperties")&&n.push(f[t]);f=n}else i.error("devicePropertyAllowlist must be an array. Defaulting to all properties."),f=null;const c=this.nn(h.Uo);if(c){const n=new ui(c);this.u.uu(r.iu.Uo,n)}this.on=new rl(this.u,f);this.qt=new ol(this.u);this.yt=new ha(this.qt,this.u);this.oi=new sl(this.u,this.yt,this.qt,this.nn(h.Ro));const l=new g;return this.Ko=new tl(this.u,this.nn(h.No),l),this.Ht(l),this.$t=new ul(this.on,this.u,this.Ko,this.yt,this.oi,this.qt,this.rn,this.Go,this.Bo,this.Vo||"",this.nn(h.Po),this.nn(h.Lo)),this.Ui=new el(this.rn,this.Go,this.oi,this.on,this.yt,this.qt,this.u,n=>{if(this.so())for(const t of this.gr())t.Ss(n)},this.Ko,this.$t),this.Ui.initialize(),e||this.u.Kh(),i.info(`Initialized for the Braze backend at "${this.nn(h._o)}" with API key "${this.rn}".`),b.o(),this.qt.bi(()=>{var n;this.isInitialized&&(null===(n=this.qt)||void 0===n?void 0:n.mi())&&Promise.resolve().then(function(){return oe}).then(n=>{this.isInitialized&&n.default()})}),this.Ui.mr(()=>{var n;this.isInitialized&&(null===(n=this.qt)||void 0===n?void 0:n.mi())&&Promise.resolve().then(function(){return oe}).then(n=>{this.isInitialized&&n.default(void 0,void 0,!0)})}),this.qo.Rt(this.options),this.isInitialized=!0,window.dispatchEvent(new CustomEvent("braze.initialized")),!0}destroy(n){if(i.destroy(),this.so()){this.Jo.Rt();this.Jo.removeAllSubscriptions();for(const n of this.Yo)n.destroy();this.Yo=[];for(const n of this.Ho)n.clearData(!1);this.Ho=[];this.removeAllSubscriptions();this._e=[];null!=this.Ui&&this.Ui.destroy();this.Ui=null;this.Ko=null;this.on=null;this.$t=null;this.qt=null;this.oi=null;this.yt=null;this.options={};this.Vo=void 0;this.isInitialized=!1;this.$o=!1;n&&(this.u=null)}}X(){return!this.$h()&&(!!this.so()||(console.warn(vt),!1))}ba(){return this.rn}Sr(){return this.Ko}Os(){return this.Go}te(){return this.on}nr(){return this.$t}nn(n){return this.options[n]}gr(){return this.Ho}cr(){return this.Ui}ir(){return this.qt}zr(){return this.oi}l(){return this.u}pr(){if(this.yt&&this.Ui)return new l(this.yt,this.Ui)}er(){return this.yt}tr(){return!0===this.nn(h.Do)}g(n){let t=!1;for(const i of this.Yo)i===n&&(t=!0);t||this.Yo.push(n)}ar(n){let t=!1;for(const i of this.Ho)i.constructor===n.constructor&&(t=!0);n instanceof wr&&!t&&this.Ho.push(n)}Ht(n){n instanceof g&&this._e.push(n)}removeAllSubscriptions(){if(this.X())for(const n of this._e)n.removeAllSubscriptions()}removeSubscription(n){if(this.X())for(const t of this._e)t.removeSubscription(n)}oe(n){this.$o=n}so(){return this.isInitialized}$h(){return this.$o}ks(){return this.Bo}}const u=new ca,la={q:(n,t,r)=>{var e,o;const f=new ki,s=u.zr();if(!s)return i.info(`Not logging event with type "${n}" because the current session ID could not be found.`),f;const h=s.xo();return f.ge.push(new et(r||(null===(e=u.er())||void 0===e?void 0:e.getUserId()),n,(new Date).valueOf(),h,t)),f.L=(null===(o=u.l())||void 0===o?void 0:o.zo(f.ge))||!1,f}};k=la;class aa{constructor(n){this.u=n;this.u=n}h(n,t){const u=new ki;if(n.p(),null==n.url||""===n.url)return i.info(`Card ${n.id} has no url. Not logging click to Braze servers.`),u;if(t&&n.id&&this.u){const t=this.u.j(r.C.v)||{};t[n.id]=!0;this.u.I(r.C.v,t)}const f=this.$([n]);if(null==f)return u;const e=t?c.k:c.D;return k.q(e,f)}B(n){const t=new ki;if(!n.N())return i.info(`Card ${n.id} refused this dismissal. Ignoring analytics event.`),t;if(n.id&&this.u){const t=this.u.j(r.C.A)||{};t[n.id]=!0;this.u.I(r.C.A,t)}const u=this.$([n]);return null==u?t:k.q(c.F,u)}G(n,t){const u=new ki(!0),s=[],h=[];let f={};this.u&&(f=t?this.u.j(r.C.H)||{}:this.u.j(r.C.J)||{});for(const t of n)t.K()?(t instanceof vr?h.push(t):s.push(t),t.id&&(f[t.id]=!0)):i.info(`Card ${t.id} logged an impression too recently. Ignoring analytics event.`);const e=this.$(s),o=this.$(h);if(null==e&&null==o)return u.L=!1,u;if(this.u&&(t?this.u.I(r.C.H,f):this.u.I(r.C.J,f)),null!=e){const n=t?c.M:c.O,i=k.q(n,e);u.P(i)}if(null!=o&&t){const n=k.q(c.R,o);u.P(n)}return u}$(n){let i,t=null;for(let r=0;r<n.length;r++)i=n[r].id,null!=i&&""!==i&&(t=t||{},t.ids=t.ids||[],t.ids.push(i));return t}}const ci={t:!1,i:null,m:()=>(ci.o(),ci.i||(ci.i=new aa(u.l())),ci.i),o:()=>{ci.t||(u.g(ci),ci.t=!0)},destroy:()=>{ci.i=null,ci.t=!1}};lu=ci;class fr{constructor(n,t){this.cards=n;this.lastUpdated=t;this.cards=n;this.lastUpdated=t}getUnreadCardCount(){let n=0;for(const t of this.cards)t.viewed||t instanceof vr||n++;return n}dr(){i.error("Must be implemented in a subclass")}logCardImpressions(){i.error("Must be implemented in a subclass")}logCardClick(){i.error("Must be implemented in a subclass")}sr(){i.error("Must be implemented in a subclass")}}fr.ur=6e4;fr.Ah=500;fr.Co=1e4;class wa extends wr{constructor(n,t,r,f,e){super();this.yt=n;this.u=t;this.qt=r;this.Jt=f;this.$t=e;this.yt=n;this.u=t;this.qt=r;this.Jt=f;this.$t=e;this.Bt=new g;u.Ht(this.Bt);this.Kt=0;this.Qt=0;this.cards=[];this.Yt();const o=a.ts.Zt;new a(o,i).ss(o.hs.es,n=>{this.rs(n)});this.ns=null;this.os=null;this.ls=null;this.us=null;this.cs=null;this.fs=10;this.ds=0}ps(){return this.ns}vs(n){this.ns=n}ws(){return this.os}Cs(n){this.os=n}Yt(){if(this.u){const n=this.u.j(r.C.bs)||[],t=[];for(let i=0;i<n.length;i++){const r=os(n[i]);null!=r&&t.push(r)}this.cards=this.gs(this.ys(t,!1));this.Kt=this.u.j(r.C.js)||this.Kt;this.Qt=this.u.j(r.C.Rs)||this.Qt}}Ns(n,t=!1,i=0,u=0){let f;if(t){f=[];for(const n of this.cards)n.test&&f.push(n)}else f=this.cards.slice();for(let i=0;i<n.length;i++){const r=n[i];let u=null;for(let n=0;n<this.cards.length;n++)if(r.id===this.cards[n].id){u=this.cards[n];break}if(t){const n=ne(r);null!=u&&u.viewed&&n&&(n.viewed=!0);null!=n&&f.push(n)}else if(null==u){const n=ne(r);null!=n&&f.push(n)}else if(!u.Lt(r))for(let n=0;n<f.length;n++)if(r.id===f[n].id){f.splice(n,1);break}}this.cards=this.gs(this.ys(f,t));this.Ts();this.Kt=i;this.Qt=u;this.u&&(this.u.I(r.C.js,this.Kt),this.u.I(r.C.Rs,this.Qt))}Ss(n){if(this.Ds()&&null!=n&&n.cards){this.u&&this.u.I(r.C.Us,u.ks());const t=n.full_sync;t||this.Yt();this.Ns(n.cards,t,n.last_full_sync_at,n.last_card_updated_at);this.Bt.Rt(this.As(!0))}}Fs(n){this.u&&this.u.I(r.C.xs,n)}zs(n,t,i){const s=()=>{this.qs(t,i,!0)},o=n?fl(n):null;let e;if(this.Es(),!o||!o["retry-after"])return void this.Fs(0);const u=o["retry-after"];if(isNaN(u)&&!isNaN(Date.parse(u)))e=Date.parse(u)-(new Date).getTime(),e<0&&s();else{if(isNaN(parseFloat(u.toString())))return k.q(c.Ls,{e:"Received unexpected value for retry-after header in /sync response: "+u}),void this.Fs(0);e=1e3*parseFloat(u.toString())}this.ls=window.setTimeout(()=>{s()},e);let f=0;this.u&&(f=this.u.j(r.C.xs));(null==f||isNaN(parseInt(f.toString())))&&(f=0);this.Fs(parseInt(f.toString())+1)}rs(n){var i;if(this.Ds()){this.Yt();const t=this.cards.slice();let r=null;r=null===(i=this.yt)||void 0===i?void 0:i.getUserId();for(let i=0;i<n.length;i++)if(r===n[i].userId||null==r&&null==n[i].userId){const r=n[i].card;let u=null;for(let n=0;n<this.cards.length;n++)if(r.id===this.cards[n].id){u=this.cards[n];break}if(null==u){const n=ne(r);null!=n&&t.push(n)}else if(!u.Lt(r))for(let n=0;n<t.length;n++)if(r.id===t[n].id){t.splice(n,1);break}}this.cards=this.gs(this.ys(t,!1));this.Ts();this.Bt.Rt(this.As(!0))}}ys(n,t){let i={},u={},f={};this.u&&(i=this.u.j(r.C.v)||{},u=this.u.j(r.C.H)||{},f=this.u.j(r.C.A)||{});const e={},o={},s={};for(let t=0;t<n.length;t++){const r=n[t].id;r&&(i[r]&&(n[t].clicked=!0,e[r]=!0),u[r]&&(n[t].viewed=!0,o[r]=!0),f[r]&&(n[t].dismissed=!0,s[r]=!0))}return t&&this.u&&(this.u.I(r.C.v,e),this.u.I(r.C.H,o),this.u.I(r.C.A,s)),n}gs(n){const u=[],e=new Date;let t={};this.u&&(t=this.u.j(r.C.A)||{});let f=!1;for(let r=0;r<n.length;r++){const s=n[r].url;if(!this.Jt&&s&&bf(s)){i.error(`Card with url ${s} will not be displayed because Javascript URLs are disabled. Use the "allowUserSuppliedJavascript" option for braze.initialize to enable this card.`);continue}const h=n[r].expiresAt;let o=!0;if(null!=h&&(o=h>=e),o=o&&!n[r].dismissed,o)u.push(n[r]);else{const i=n[r].id;i&&(t[i]=!0);f=!0}}return f&&this.u&&this.u.I(r.C.A,t),u}Ts(){var n;const t=[];for(let n=0;n<this.cards.length;n++)t.push(this.cards[n].Y());null===(n=this.u)||void 0===n||n.I(r.C.bs,t)}Es(){this.ls&&(clearTimeout(this.ls),this.ls=null)}Is(){null!=this.us&&(clearTimeout(this.us),this.us=null)}Js(n=1e3*this.fs,t,i){this.Is();this.us=window.setTimeout(()=>{this.qs(t,i,!0)},n);this.cs=n}qs(n,t,i=!1,f=!0){var c;const o=this.$t,a=this.u;if(!o||!a)return void("function"==typeof t&&t());if(!i&&(this.Es(),this.Fs(0)),!this.Ds())return void(null===(c=this.qt)||void 0===c||c.Ms(()=>{this.qs(n,t)}));f&&this.Is();const s=o.$s({},!0);a.j(r.C.Us)!==u.ks()&&this.Bs();s.last_full_sync_at=this.Kt;s.last_card_updated_at=this.Qt;const l=o.Ps(s,e._s.Xs,i);let h=!1;o.Gs(s,(i=-1)=>{if(this.u){const n=(new Date).valueOf();e.Hs(this.u,e._s.Xs,n)}-1!==i&&l.push(["X-Braze-Req-Tokens-Remaining",i.toString()]);uu.Ks({url:`${o.Os()}/content_cards/sync`,data:s,headers:l,L:(i,r)=>{if(!o.Qs(s,i,l))return h=!0,void("function"==typeof t&&t());o.Vs();this.zs(r,n,t);this.Ss(i);h=!1;e.Ws(this.u,e._s.Xs,1);"function"==typeof n&&n()},error:n=>{o.Ys(n,"retrieving content cards"),h=!0,"function"==typeof t&&t()},Zs:()=>{if(h&&f&&!this.us&&this.ds+1<ac){e.ti(this.u,e._s.Xs);let i=this.cs;(null==i||i<1e3*this.fs)&&(i=1e3*this.fs);this.Js(Math.min(3e5,fu(1e3*this.fs,3*i)),n,t);this.ds=this.ds+1}}})},e._s.Xs,t)}As(n){n||this.Yt();const i=this.gs(this.cards);i.sort((n,t)=>n.pinned&&!t.pinned?-1:t.pinned&&!n.pinned?1:n.updated&&t.updated&&n.updated>t.updated?-1:n.updated&&t.updated&&t.updated>n.updated?1:0);let t=Math.max(this.Qt||0,this.Kt||0);return 0===t&&(t=void 0),this.u&&this.u.j(r.C.Rs)===this.Qt&&void 0===t&&(t=this.Qt),new wi(i,at(t))}si(n){return this.Bt.Nt(n)}Bs(){this.Kt=0;this.Qt=0;this.u&&(this.u.ii(r.C.js),this.u.ii(r.C.Rs))}changeUser(n){n||(this.cards=[],this.Bt.Rt(new wi(this.cards.slice(),null)),this.u&&(this.u.ii(r.C.bs),this.u.ii(r.C.v),this.u.ii(r.C.H),this.u.ii(r.C.A)));this.Bs()}clearData(n){this.Kt=0;this.Qt=0;this.cards=[];this.Bt.Rt(new wi(this.cards.slice(),null));n&&this.u&&(this.u.ii(r.C.bs),this.u.ii(r.C.v),this.u.ii(r.C.H),this.u.ii(r.C.A),this.u.ii(r.C.js),this.u.ii(r.C.Rs))}Ds(){return!!this.qt&&(!!this.qt.ei()||(0!==this.qt.hi()&&this.ri(),!1))}ri(){this.Bt.Rt(new wi([],new Date));this.u&&this.u.ii(r.C.bs)}}const dt={t:!1,provider:null,rr:()=>(dt.o(),dt.provider||(dt.provider=new wa(u.er(),u.l(),u.ir(),u.tr(),u.nr()),u.ar(dt.provider)),dt.provider),o:()=>{dt.t||(u.g(dt),dt.t=!0)},destroy:()=>{dt.provider=null,dt.t=!1}};hr=dt;class wi extends fr{constructor(n,t){super(n,t)}getUnviewedCardCount(){return super.getUnreadCardCount()}logCardImpressions(n){vu(n,!0)}logCardClick(n){return au(n,!0)}sr(){ss()}dr(){return!0}}wi.ur=6e4;const as="data-last-requested-refresh",te={};re={GOOGLE_TAG_MANAGER:"gg",MPARTICLE:"mp",SEGMENT:"sg",TEALIUM:"tl",MANUAL:"manu",NPM:"npm",CDN:"wcd",SHOPIFY:"shp"};gs=Object.freeze({__proto__:null,changeUser:ds});ue=Object.freeze({__proto__:null,logCustomEvent:nh});ih=Object.freeze({__proto__:null,logPurchase:th});uh=Object.freeze({__proto__:null,requestImmediateDataFlush:rh});class gv extends wr{constructor(n,t){super();this.u=n;this.Ui=t;this.cards=[];this.ki=null;this.u=n;this.Ui=t;this.Bt=new g;u.Ht(this.Bt);this.Yt()}Yt(){let n=[];this.u&&(n=this.u.j(r.C.Ai)||[]);const t=[];for(let i=0;i<n.length;i++){const r=os(n[i]);null!=r&&t.push(r)}this.cards=t;this.u&&(this.ki=ir(this.u.j(r.C.Bi)))}Ei(n){const t=[];let i=null,u={};this.u&&(u=this.u.j(r.C.J)||{});const f={};for(let r=0;r<n.length;r++){i=n[r];const e=pa(i);if(null!=e){const n=e.id;n&&u[n]&&(e.viewed=!0,f[n]=!0);t.push(e)}}this.cards=t;this.Ts();this.ki=new Date;this.u&&(this.u.I(r.C.J,f),this.u.I(r.C.Bi,this.ki))}Ts(){var n;const t=[];for(let n=0;n<this.cards.length;n++)t.push(this.cards[n].Y());null===(n=this.u)||void 0===n||n.I(r.C.Ai,t)}Ss(n){null!=n&&n.feed&&(this.Yt(),this.Ei(n.feed),this.Bt.Rt(new er(this.cards.slice(),this.ki)))}Gi(){this.Yt();const n=[],t=new Date;for(let i=0;i<this.cards.length;i++){const r=this.cards[i].expiresAt;let u=!0;null!=r&&(u=r>=t);u&&n.push(this.cards[i])}return new er(n,this.ki)}qs(){this.Ui&&this.Ui.requestFeedRefresh()}si(n){return this.Bt.Nt(n)}clearData(n){null==n&&(n=!1);this.cards=[];this.ki=null;n&&this.u&&(this.u.ii(r.C.Ai),this.u.ii(r.C.Bi));this.Bt.Rt(new er(this.cards.slice(),this.ki))}}const gt={t:!1,provider:null,rr:()=>(gt.o(),gt.provider||(gt.provider=new gv(u.l(),u.cr()),u.ar(gt.provider)),gt.provider),o:()=>{gt.t||(u.g(gt),gt.t=!0)},destroy:()=>{gt.provider=null,gt.t=!1}};dr=gt;class er extends fr{constructor(n,t){super(n,t)}logCardImpressions(n){vu(n,!1)}logCardClick(n){return au(n,!1)}sr(){fh()}dr(){return!1}}sh=Object.freeze({__proto__:null,showFeed:fe});class wu{constructor(n,t,i,r,u,f,e,o,s,h,c){this.sn=n;this.rn=t;this.on=i;this.un=u;this.an=f;this.hn=e;this.qt=o;this.cn=s;this.fn=h;this.u=c;this.sn=n;this.rn=t;this.on=i;this.ln=r+"/safari/"+t;this.un=u||"/service-worker.js";this.hn=e;this.qt=o;this.cn=s||!1;this.fn=h||!1;this.u=c;this.dn=it.pn();this.bn=it.yn()}mn(){return this.fn}gn(n,t,r,u,f){n.unsubscribe().then(n=>{n?this.vn(t,r,u,f):(i.error("Failed to unsubscribe device from push."),"function"==typeof f&&f(!1))}).catch(n=>{i.error("Push unsubscription error: "+n),"function"==typeof f&&f(!1)})}wn(n,t,r){var f;const e=(n=>{if("string"==typeof n)return n;if(0!==n.endpoint.indexOf("https://android.googleapis.com/gcm/send"))return n.endpoint;let i=n.endpoint;const t=n;return t.kn&&-1===n.endpoint.indexOf(t.kn)&&(i=n.endpoint+"/"+t.kn),i})(n);let o=null,s=null;const u=n;if(null!=u.getKey)try{const n=Array.from(new Uint8Array(u.getKey("p256dh"))),t=Array.from(new Uint8Array(u.getKey("auth")));o=btoa(String.fromCharCode.apply(null,n));s=btoa(String.fromCharCode.apply(null,t))}catch(n){i.error(yt(n))}const h=(n=>{let t;return n.options&&(t=n.options.applicationServerKey)&&t.byteLength&&t.byteLength>0?btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(t)))).replace(/\+/g,"-").replace(/\//g,"_"):null})(u);null===(f=this.sn)||void 0===f||f.Pn(e,t,o,s,h);e&&"function"==typeof r&&r(e,o,s)}Dn(){var n;null===(n=this.sn)||void 0===n||n.Sn(!0)}An(n,t){var r;null===(r=this.sn)||void 0===r||r.Sn(!1);i.info(n);"function"==typeof t&&t(!1)}jn(n,t,r,u){var f;if("default"===t.permission)try{window.safari.pushNotification.requestPermission(this.ln,n,{api_key:this.rn,device_id:(null===(f=this.on)||void 0===f?void 0:f.ce().id)||""},t=>{"granted"===t.permission&&this.sn&&this.sn.setPushNotificationSubscriptionType(l.NotificationSubscriptionTypes.OPTED_IN),this.jn(n,t,r,u)})}catch(n){this.An("Could not request permission for push: "+n,u)}else"denied"===t.permission?this.An("The user has blocked notifications from this site, or Safari push is not configured in the Braze dashboard.",u):"granted"===t.permission&&(i.info("Device successfully subscribed to push."),this.wn(t.deviceToken,new Date,r))}requestPermission(n,t,r){const u=u=>{switch(u){case"granted":return void("function"==typeof n&&n());case"default":return void("function"==typeof t&&t());case"denied":return void("function"==typeof r&&r());default:i.error("Received unexpected permission result "+u)}};let f=!1;if("default"!==window.Notification.permission)u(Notification.permission);else{const n=window.Notification.requestPermission(n=>{f&&u(n)});n?n.then(n=>{u(n)}):f=!0}}vn(n,t,r,u){const f={userVisibleOnly:!0};null!=t&&(f.applicationServerKey=t);n.pushManager.subscribe(f).then(n=>{i.info("Device successfully subscribed to push."),this.wn(n,new Date,r)}).catch(n=>{it.isPushBlocked()?(i.info("Permission for push notifications was denied."),"function"==typeof u&&u(!1)):(i.error("Push subscription failed: "+n),"function"==typeof u&&u(!0))})}xn(){if(this.cn)return navigator.serviceWorker.getRegistration(this.un);const n=this.an?{scope:this.an}:void 0;return navigator.serviceWorker.register(this.un,n).then(()=>navigator.serviceWorker.ready.then(n=>(n&&"function"==typeof n.update&&n.update().catch(n=>{i.info("ServiceWorker update failed: "+n)}),n)))}Nn(n){this.cn||(n.unregister(),i.info("Service worker successfully unregistered."))}subscribe(n,t){if(!it.isPushSupported())return i.info(wu.Un),void("function"==typeof t&&t(!1));if(this.dn){if(!this.cn&&null!=window.location){let n=this.un;-1===n.indexOf(window.location.host)&&(n=window.location.host+n);-1===n.indexOf(window.location.protocol)&&(n=window.location.protocol+"//"+n)}if(it.isPushBlocked())return void this.An("Notifications from this site are blocked. This may be a temporary embargo or a permanent denial.",t);if(this.qt&&!this.qt.Wn()&&0===this.qt.hi())return i.info("Waiting for VAPID key from server config before subscribing to push."),void this.qt._n(()=>{this.subscribe(n,t)});const u=()=>{i.info("Permission for push notifications was denied."),"function"==typeof t&&t(!1)},f=()=>{let n="Permission for push notifications was ignored.";it.isPushBlocked()&&(n+=" The browser has automatically blocked further permission requests for a period (probably 1 week).");i.info(n);"function"==typeof t&&t(!0)},e=it.isPushPermissionGranted(),o=()=>{!e&&this.sn&&this.sn.setPushNotificationSubscriptionType(l.NotificationSubscriptionTypes.OPTED_IN),this.xn().then(u=>{if(null==u)return i.error("No service worker registration. Set the `manageServiceWorkerExternally` initialization option to false or ensure that your service worker is registered before calling registerPush."),void("function"==typeof t&&t(!0));u.pushManager.getSubscription().then(f=>{var o;let e=null;if(null!=(null===(o=this.qt)||void 0===o?void 0:o.Wn())&&(e=tc.Tn(this.qt.Wn())),f){let o,s=null,h=null;if(this.u&&(o=this.u.j(r.C.In)),o&&!d(o)){let n;try{n=df.qn(o).Vn}catch(t){n=null}null==n||isNaN(n.getTime())||0===n.getTime()||(s=n,h=new Date(s),h.setMonth(s.getMonth()+6))}null!=e&&f.options&&f.options.applicationServerKey&&f.options.applicationServerKey.byteLength&&f.options.applicationServerKey.byteLength>0&&!tr(e,new Uint8Array(f.options.applicationServerKey))?(f.options.applicationServerKey.byteLength>12?i.info("Device was already subscribed to push using a different VAPID provider, creating new subscription."):i.info("Attempting to upgrade a gcm_sender_id-based push registration to VAPID - depending on the browser this may or may not result in the same gcm_sender_id-based subscription."),this.gn(f,u,e,n,t)):f.expirationTime&&new Date(f.expirationTime).valueOf()<=(new Date).valueOf()?(i.info("Push subscription is expired, creating new subscription."),this.gn(f,u,e,n,t)):o&&d(o)?this.gn(f,u,e,n,t):null==h?(i.info("No push subscription creation date found, creating new subscription."),this.gn(f,u,e,n,t)):h.valueOf()<=(new Date).valueOf()?(i.info("Push subscription older than 6 months, creating new subscription."),this.gn(f,u,e,n,t)):(i.info("Device already subscribed to push, sending existing subscription to backend."),this.wn(f,s,n))}else this.vn(u,e,n,t)}).catch(n=>{i.error("Error checking current push subscriptions: "+n)})}).catch(n=>{i.error("ServiceWorker registration failed: "+n)})};this.requestPermission(o,f,u)}else if(this.bn){if(null==this.hn||""===this.hn)return i.error("You must supply the safariWebsitePushId initialization option in order to use registerPush on Safari"),void("function"==typeof t&&t(!0));const r=window.safari.pushNotification.permission(this.hn);this.jn(this.hn,r,n,t)}}unsubscribe(n,t){if(!it.isPushSupported())return i.info(wu.Un),void("function"==typeof t&&t());this.dn?navigator.serviceWorker.getRegistration(this.un).then(r=>{r?r.pushManager.getSubscription().then(u=>{u?(this.Dn(),u.unsubscribe().then(u=>{u?(i.info("Device successfully unsubscribed from push."),"function"==typeof n&&n()):(i.error("Failed to unsubscribe device from push."),"function"==typeof t&&t()),this.Nn(r)}).catch(n=>{i.error("Push unsubscription error: "+n),"function"==typeof t&&t()})):(i.info("Device already unsubscribed from push."),"function"==typeof n&&n())}).catch(n=>{i.error("Error unsubscribing from push: "+n),"function"==typeof t&&t()}):(i.info("Device already unsubscribed from push."),"function"==typeof n&&n())}):this.bn&&(this.Dn(),i.info("Device unsubscribed from push."),"function"==typeof n&&n())}}wu.Un="Push notifications are not supported in this browser.";const li={t:!1,i:null,m:()=>(li.o(),li.i||(li.i=new wu(u.pr(),u.ba(),u.te(),u.Os(),u.nn(h.Ma),u.nn(h._a),u.nn(h.ka),u.ir(),u.nn(h.qa),u.nn(h.Aa),u.l())),li.i),o:()=>{li.t||(u.g(li),li.t=!0)},destroy:()=>{li.i=null,li.t=!1}};bu=li;ch=Object.freeze({__proto__:null,"default":bu});ee=Object.freeze({__proto__:null,requestPushPermission:lh});vh=Object.freeze({__proto__:null,unregisterPush:ah});class p{constructor(n,t=!1,i={},r){this.id=n;this.enabled=t;this.properties=i;this.trackingString=r;this.id=n;this.enabled=t;this.properties=i;this.trackingString=r}he(n,t,i){const r=this.properties[n];return null==r?(this.ye(n),null):t(r)?r.value:(this.Pe(i),null)}getStringProperty(n){return this.he(n,this.be,"string")}getNumberProperty(n){return this.he(n,this.Ie,"number")}getBooleanProperty(n){return this.he(n,this.de,"boolean")}getImageProperty(n){return this.he(n,this.Te,"image")}getJsonProperty(n){return this.he(n,this.Ee,"jsonobject")}getTimestampProperty(n){return this.he(n,this.Ne,"datetime")}Y(){const n={};return n[p.tt.ht]=this.id,n[p.tt.le]=this.enabled,n[p.tt.pe]=this.properties,n[p.tt.Fe]=this.trackingString,n}Pe(n){i.info(`Property is not of type ${n}.`)}ye(n){i.info(`${n} not found in feature flag properties.`)}be(n){return"string"===n.type&&"string"==typeof n.value}Ie(n){return"number"===n.type&&"number"==typeof n.value}de(n){return"boolean"===n.type&&"boolean"==typeof n.value}Te(n){return"image"===n.type&&"string"==typeof n.value}Ee(n){return"jsonobject"===n.type&&"object"==typeof n.value&&n.value.constructor==Object}Ne(n){return"datetime"===n.type&&"number"==typeof n.value}}p.tt={ht:"id",le:"e",pe:"pr",Fe:"fts"};p._t={ht:"id",le:"enabled",pe:"properties",Fe:"fts"};class oy extends wr{constructor(n,t,i,r){super();this.qt=n;this.$t=t;this.u=i;this.oi=r;this.ai=[];this.ni=0;this.qt=n;this.$t=t;this.u=i;this.oi=r;this.li=null;this.ui=new g;this.fi=10;this.ci=null;this.di=null;u.Ht(this.ui)}Ss(n){var t;if((null===(t=this.qt)||void 0===t?void 0:t.mi())&&null!=n&&n.feature_flags){this.ai=[];for(const t of n.feature_flags){const n=fy(t);n&&this.ai.push(n)}this.ni=(new Date).getTime();this.gi();this.ui.Rt(this.ai)}}Fi(){let n={};this.u&&(n=this.u.j(r.C.vi));const t={};for(const i in n){const r=ey(n[i]);r&&(t[r.id]=r)}return t}pi(){var n;return(null===(n=this.u)||void 0===n?void 0:n.j(r.C.wi))||{}}ji(n){this.u&&this.u.I(r.C.wi,n)}si(n){return this.ui.Nt(n)}refreshFeatureFlags(n,t,i=!1,r=!0){const u=()=>{"function"==typeof t&&t(),this.ui.Rt(this.ai)};if(!this.yi(i))return!this.li&&this.qt&&(this.li=this.qt.bi(()=>{this.refreshFeatureFlags(n,t)})),void u();const f=this.$t;if(!f)return void u();r&&this.Ci();const o=f.$s({},!0),h=f.Ps(o,e._s.Ri);let s=!1;f.Gs(o,(f=-1)=>{if(!this.$t)return void u();const c=(new Date).valueOf();e.Hs(this.u,e._s.Ri,c);-1!==f&&h.push(["X-Braze-Req-Tokens-Remaining",f.toString()]);uu.Ks({url:`${this.$t.Os()}/feature_flags/sync`,headers:h,data:o,L:t=>{if(!this.$t.Qs(o,t,h))return s=!0,void u();this.$t.Vs();this.Ss(t);s=!1;e.Ws(this.u,e._s.Ri,1);"function"==typeof n&&n()},error:n=>{this.$t.Ys(n,"retrieving feature flags"),s=!0,u()},Zs:()=>{if(r&&s&&!this.di){e.ti(this.u,e._s.Ri);let r=this.ci;(null==r||r<1e3*this.fi)&&(r=1e3*this.fi);this.Ti(Math.min(3e5,fu(1e3*this.fi,3*r)),n,t,i)}}})},e._s.Ri,t)}Ci(){null!=this.di&&(clearTimeout(this.di),this.di=null)}Ti(n=1e3*this.fi,t,i,r=!1){this.Ci();this.di=window.setTimeout(()=>{this.refreshFeatureFlags(t,i,r)},n);this.ci=n}yi(n){if(!this.qt)return!1;if(!n){const n=this.qt.Di();if(null==n)return!1;let t=!1;if(!isNaN(n)){if(-1===n)return i.info("Feature flag refreshes not allowed"),!1;t=(new Date).getTime()>=(this.ni||0)+1e3*n}if(!t)return i.info(`Feature flag refreshes were rate limited to ${n} seconds`),!1}return this.qt.mi()}Ii(){var n;return(null===(n=this.u)||void 0===n?void 0:n.j(r.C.Si))||null}qi(){var n,t;null===(n=this.u)||void 0===n||n.I(r.C.Si,null===(t=this.oi)||void 0===t?void 0:t.xi())}Ni(){var n;const i=null===(n=this.oi)||void 0===n?void 0:n.xi(),t=this.Ii();return null==t||i===t}gi(){if(this.u){const n={};for(const t of this.ai){const i=t.Y();n[t.id]=i}this.u.I(r.C.vi,n);this.u.I(r.C.zi,this.ni);this.qi()}}}const ni={t:!1,provider:null,rr:()=>(ni.o(),ni.provider||(ni.provider=new oy(u.ir(),u.nr(),u.l(),u.zr()),u.ar(ni.provider)),ni.provider),o:()=>{ni.t||(u.g(ni),ni.t=!0)},destroy:()=>{ni.provider=null,ni.t=!1}};nr=ni;oe=Object.freeze({__proto__:null,refreshFeatureFlags:ph,"default":yh});bh=Object.freeze({__proto__:null,WindowUtils:ur,logCardClick:au,logCardDismissal:es,logCardImpressions:vu,logContentCardImpressions:va,logContentCardClick:ya,Card:f,ImageOnly:de,CaptionedImage:ge,ClassicCard:no,ControlCard:vr,ContentCards:wi,getCachedContentCards:ba,hideContentCards:ws,requestContentCardsRefresh:ss,showContentCards:bs,subscribeToContentCardsUpdates:ks,toggleContentCards:uv,addSdkMetadata:fv,changeUser:ds,destroy:ev,BrazeSdkMetadata:re,DeviceProperties:wt,disableSDK:ov,enableSDK:sv,getDeviceId:hv,getUser:wf,initialize:cv,isDisabled:lv,isInitialized:av,logCustomEvent:nh,logPurchase:th,openSession:vv,removeAllSubscriptions:yv,removeSubscription:ls,requestImmediateDataFlush:rh,setLogger:pv,setSdkAuthenticationSignature:wv,subscribeToSdkAuthenticationFailures:bv,toggleLogging:kv,wipeData:dv,handleBrazeAction:gl,Feed:er,getCachedFeed:ny,destroyFeed:eh,logFeedDisplayed:oh,requestFeedRefresh:fh,showFeed:fe,subscribeToFeedUpdates:hh,toggleFeed:ty,InAppMessage:t,InAppMessageButton:di,ControlMessage:vi,FullScreenMessage:oi,HtmlMessage:ht,ModalMessage:pi,SlideUpMessage:si,automaticallyShowInAppMessages:ua,logInAppMessageButtonClick:is,logInAppMessageClick:ko,logInAppMessageHtmlClick:hu,logInAppMessageImpression:ou,showInAppMessage:rs,subscribeToInAppMessage:us,deferInAppMessage:fa,getDeferredInAppMessage:ea,isPushBlocked:iy,isPushPermissionGranted:ry,isPushSupported:uy,requestPushPermission:lh,unregisterPush:ah,User:l,FeatureFlag:p,refreshFeatureFlags:ph,getFeatureFlag:sy,subscribeToFeatureFlagsUpdates:hy,getAllFeatureFlags:wh,logFeatureFlagImpression:cy});kh=nc(bh);window.braze=kh;var ti="Appboy",se="v4",he=28,ly="4.2.1",ce={PageView:3,PageEvent:4,Commerce:16},tt=mParticle.CommerceEventType,dh={"01":"sdk.iad-01.braze.com","02":"sdk.iad-02.braze.com","03":"sdk.iad-03.braze.com","04":"sdk.iad-04.braze.com","05":"sdk.iad-05.braze.com","06":"sdk.iad-06.braze.com","08":"sdk.iad-08.braze.com",EU:"sdk.fra-01.braze.eu",EU02:"sdk.fra-02.braze.eu"},le=function(){function ft(n){var t=!1;return t=l?et(n):ot(n),t===!0}function et(n){var r=1,i=ae(n.EventAttributes,{products:[]}),u=w(n.EventCategory),f;return n.ProductAction?(n.ProductAction.TransactionId&&(i["Transaction Id"]=n.ProductAction.TransactionId),n.ProductAction.ProductList&&n.ProductAction.ProductList.length&&(i.products=y(n.ProductAction.ProductList)),t("braze.logPurchase",u,n.ProductAction.TotalAmount,n.CurrencyCode,r,i),f=braze.logPurchase(u,n.ProductAction.TotalAmount,n.CurrencyCode,r,i),f===!0):!1}function ot(n){var i=!1;return n.ProductAction.ProductList&&n.ProductAction.ProductList.forEach(function(u){var h,f,c,o,s;if(h=a?u.Sku:u.Name,f=r(h),u.Attributes==null&&(u.Attributes={}),u.Attributes.Sku=u.Sku,c=ae(u.Attributes,{"Transaction Id":n.ProductAction.TransactionId}),o=e(c),o==null)return"Properties did not pass validation for "+f;s=parseFloat(u.Price);t("braze.logPurchase",f,s,n.CurrencyCode,u.Quantity,o);i=braze.logPurchase(f,s,n.CurrencyCode,u.Quantity,o)}),i===!0}function w(n){let t;switch(n){case tt.ProductAddToCart:t="add_to_cart";break;case tt.ProductRemoveFromCart:t="remove_from_cart";break;case tt.ProductCheckout:t="checkout";break;case tt.ProductCheckoutOption:t="checkout_option";break;case tt.ProductClick:t="click";break;case tt.ProductViewDetail:t="view_detail";break;case tt.ProductPurchase:t="purchase";break;case tt.ProductRefund:t="refund";break;case tt.ProductAddToWishlist:t="add_to_wishlist";break;case tt.ProductRemoveFromWishlist:t="remove_from_wishlist";break;case tt.PromotionView:t="view";break;case tt.PromotionClick:t="click";break;case tt.ProductImpression:t="Impression";break;default:t="unknown"}return["eCommerce",t].join(" - ")}function st(i){var u,f,s,o=i.EventAttributes||{},h;return o.hostname=window.location.hostname,o.title=window.document.title,s=n.setEventNameForPageView==="True"?i.EventName:window.location.pathname,u=r(s),f=e(o),t("braze.logCustomEvent",u,f),h=braze.logCustomEvent(u,f),h===!0}function b(n,i){var u,r,f;if(n==="dob")if(i instanceof Date)t("braze.getUser().setDateOfBirth",i.getFullYear(),i.getMonth()+1,i.getDate()),braze.getUser().setDateOfBirth(i.getFullYear(),i.getMonth()+1,i.getDate());else return"Can't call removeUserAttribute or setUserAttribute on forwarder "+ti+", removeUserAttribute or setUserAttribute must set 'dob' to a date";else if(n==="$Age")if(typeof i=="number")u=(new Date).getFullYear()-i,t("braze.getUser().setDateOfBirth",u,1,1),braze.getUser().setDateOfBirth(u,1,1);else return"$Age must be a number";else{if(i==null&&(i=""),!(typeof i=="string"))return"Can't call removeUserAttribute or setUserAttribute on forwarder "+ti+", removeUserAttribute or setUserAttribute must set this value to a string";if(r=[],r.push(i),t("braze.getUser()."+s[n],r),f=braze.getUser(),!f[s[n]].apply(f,r))return"removeUserAttribute or setUserAttribute on forwarder "+ti+" failed to call, an invalid attribute value was passed in"}}function v(n){var i=r(n.EventName),u=e(n.EventAttributes),f;return u==null?"Properties did not pass validation for "+i:(t("braze.logCustomEvent",i,u),f=braze.logCustomEvent(i,u),f===!0)}function ht(t){var i=!1;if(ri(t),t.EventDataType==ce.Commerce)i=ct(t);else if(t.EventDataType==ce.PageEvent)i=v(t);else if(t.EventDataType==ce.PageView)n.forwardScreenViews=="True"&&(i=st(t));else return"Can't send event type to forwarder "+ti+", event type is not supported";i===!0&&c&&c(u,t)}function ct(n){var t=!1;return n.EventCategory===tt.ProductPurchase?(t=ft(n),t===!0):(t=lt(n),t===!0)}function lt(n){return l?at(n):wt(n)}function at(n){var s,h;const t={},c=w(n.EventCategory);try{switch(n.EventCategory){case tt.PromotionClick:case tt.PromotionView:t.promotions=vt(n.PromotionAction);break;case tt.ProductImpression:t.impressions=yt(n.ProductImpressions);break;default:n.ProductAction.ProductList&&(t.products=y(n.ProductAction.ProductList));var i=n.ProductAction.TransactionId,r=n.ProductAction.TotalAmount,u=n.ProductAction.TaxAmount,f=n.ProductAction.ShippingAmount,o=n.ProductAction.Affiliation;i&&(t["Transaction Id"]=i);r&&(t["Total Amount"]=r);u&&(t["Tax Amount"]=u);f&&(t["Shipping Amount"]=f);o&&(t.Affiliation=o)}s=e(n.EventAttributes);const l={EventName:c,EventAttributes:ae(t,s)};return h=v(l)}catch(l){return"Error logging commerce event"+l.message}}function vt(n){return n&&n.PromotionList?n.PromotionList:[]}function yt(n){return n.length?n.map(function(n){return{"Product Impression List":n.ProductImpressionList,products:y(n.ProductList)}}):[]}function y(n){const t=[];return!n||n.length===0?t:(n.forEach(function(n){var i=pt(e(n));t.push(i)}),t)}function pt(n){var t={};for(var i in n)switch(i){case"Sku":t.Id=n[i];break;case"Name":t.Name=a?n.Sku:n.Name;break;case"CouponCode":t["Coupon Code"]=n[i];break;case"TotalAmount":t["Total Product Amount"]=n[i];break;default:t[i]=n[i]}return t}function wt(n){var t=!1,r=mParticle.eCommerce.expandCommerceEvent(n),i,u;if(r!==null){for(i=0;i<r.length;i++){u=!1;try{t=v(r[i]);t===!0&&(u=!0)}catch(f){return"Error logging page event"+f.message}}t=u===!0}return t}function bt(n){if(n in s)return b(n,null);var i=r(n);t("braze.getUser().setCustomUserAttribute",i,null);braze.getUser().setCustomUserAttribute(i,null)}function kt(n,i){if(n in s)return b(n,i);var f=r(n),u=r(i);if(i!=null&&u==null)return"Value did not pass validation for "+n;t("braze.getUser().setCustomUserAttribute",f,u);braze.getUser().setCustomUserAttribute(f,u)}function dt(n,i){if(window.mParticle.getVersion().split(".")[0]==="1")if(i==window.mParticle.IdentityType.CustomerId)t("braze.changeUser",n),braze.changeUser(n);else if(i==window.mParticle.IdentityType.Email)t("braze.getUser().setEmail",n),braze.getUser().setEmail(n);else return"Can't call setUserIdentity on forwarder "+ti+", identity type not supported."}function k(i){t("calling MpBrazeKit.onUserIdentified");try{var r,u=i.getUserIdentities().userIdentities;r=n.userIdentificationType==="MPID"?i.getMPID():u[n.userIdentificationType.toLowerCase()];r&&(t("braze.changeUser",r),braze.changeUser(r));u.email&&(t("braze.getUser().setEmail",u.email),braze.getUser().setEmail(u.email))}catch(f){t("Error in calling MpBrazeKit.onUserIdentified",f.message)}}function gt(){braze.subscribeToInAppMessage(function(t){var r=!0,i=!1,u;t instanceof braze.InAppMessage&&(u=t.extras["msg-id"],u=="push-primer"&&(i=!0,(!braze.isPushSupported()||braze.isPushPermissionGranted()||braze.isPushBlocked())&&(r=!1),t.buttons[0]!=null&&t.buttons[0].subscribeToClickedEvent(function(){braze.requestPushPermission()})));(i&&r||!i&&n.register_inapp==="True")&&braze.showInAppMessage(t)})}function ni(n){braze.openSession();n.softPushCustomEventName&&(t("braze.logCustomEvent",n.softPushCustomEventName),braze.logCustomEvent(n.softPushCustomEventName))}function ii(n){var i=fi(n),t=g(i);ye(t)||(h=JSON.stringify(t),d(t))}function d(n){for(var t in n)braze.getUser().setCustomUserAttribute(t,n[t])}function ri(n){var t,i,r;h&&!ye(f)&&(t=ui(n.ConsentState),ye(t)||(i=g(t),r=JSON.stringify(i),r!==h&&(d(i),h=r)))}function ui(n){return n&&n.getGDPRConsentState?n.getGDPRConsentState():{}}function g(n){var i,u,t;if(!f)return{};for(i={},u={google_ad_user_data:"$google_ad_user_data",google_ad_personalization:"$google_ad_personalization"},t=0;t<=f.length-1;t++){var e=f[t],o=e.map.toLowerCase(),r=u[e.value];n[o]&&r&&ut.indexOf(r)!==-1&&(i[r]=n[o].Consented)}return i}function fi(n){var i={},t=n.getConsentState();return t&&t.getGDPRConsentState&&(i=t.getGDPRConsentState()),i}function ei(n){return JSON.parse(n.replace(/&quot;/g,'"'))}function oi(t,r,e,s,h,v,y,w,b){var k,d,g;u.logger||(u.logger={verbose:function(){}});o=b;try{if(n=t,l=n.bundleCommerceEventData==="True",a=n.forwardSkuAsProductName==="True",c=r,i.sessionTimeoutInSeconds=n.ABKSessionTimeoutKey||1800,i.sdkFlavor="mparticle",i.enableHtmlInAppMessages=n.enableHtmlInAppMessages=="True",i.doNotLoadFontAwesome=n.doNotLoadFontAwesome=="True",n.safariWebsitePushId&&(i.safariWebsitePushId=n.safariWebsitePushId),n.serviceWorkerLocation&&(i.serviceWorkerLocation=n.serviceWorkerLocation),n.consentMappingSDK&&(f=ei(n.consentMappingSDK),f.length&&(p=!0)),k=n.cluster||n.dataCenterLocation,dh.hasOwnProperty(k)?i.baseUrl=dh[k]:(d=it(k),d&&(i.baseUrl=d)),o&&o[he.toString()]&&(g=o[he.toString()],typeof g.initOptions=="function"&&g.initOptions(i)),e!==!0)braze.initialize(n.apiKey,i),nt(n);else{if(!braze.initialize(n.apiKey,i))return"Failed to initialize: "+ti;nt(n)}return"Successfully initialized: "+ti}catch(tt){return"Failed to initialize: "+ti+" with error: "+tt.message}}function nt(n){braze.addSdkMetadata(["mp"]);gt();const t=mParticle.Identity!==null?mParticle.Identity.getCurrentUser():null,i=t?t.getMPID():null;t&&i&&(k(t),p&&ii(t));ni(n)}function it(n){var i,t;if(n){i=n.replace(/&amp;/g,"&");i=n.replace(/&quot;/g,'"');try{if(t=JSON.parse(i),t&&t.JS)return"https://"+t.JS+"/api/v3"}catch(r){console.log("Unable to configure custom Braze cluster: "+r.toString())}}}function rt(n){return typeof n=="string"?n.substr(0,1)==="$"?n.replace(/^\$+/g,""):n:null}function r(n){var t,r,u,i;if(typeof n=="string")return rt(n);if(Array.isArray(n)){t=[];for(r in n){if(u=n[r],i=rt(u),i==null)return null;t.push(i)}return t}return n}function e(n){var u={},t,f,e,i;if(n==null&&(n={}),typeof n!="object")return null;for(i in n)t=n[i],f=r(i),e=typeof t=="string"?r(t):t,u[f]=e;return u}function t(n){var t="mParticle - Braze Web Kit log:",i=Array.prototype.slice.call(arguments,1);t+="\n"+n+":\n";i.forEach(function(n){t+=ve(n)||Array.isArray(n)?JSON.stringify(n):n;t+=",\n"});u.logger.verbose(t)}var u=this,n,i={},c,p,f,o;u.name=ti;u.suffix=se;var s={$LastName:"setLastName",$FirstName:"setFirstName",Email:"setEmail",$Gender:"setGender",$Country:"setCountry",$City:"setHomeCity",$Mobile:"setPhoneNumber",$Age:"setDateOfBirth",last_name:"setLastName",first_name:"setFirstName",email:"setEmail",gender:"setGender",country:"setCountry",home_city:"setHomeCity",email_subscribe:"setEmailNotificationSubscriptionType",push_subscribe:"setPushNotificationSubscriptionType",phone:"setPhoneNumber",dob:"setDateOfBirth"},l=!1,a=!1,ut=["$google_ad_user_data","$google_ad_personalization"],h;this.init=oi;this.process=ht;this.setUserIdentity=dt;this.setUserAttribute=kt;this.onUserIdentified=k;this.removeUserAttribute=bt;this.decodeClusterSetting=it};return window&&window.mParticle&&window.mParticle.addForwarder&&window.mParticle.addForwarder({name:ti,constructor:le,getId:ay,suffix:se}),gh={register:vy,getVersion:function(){return ly}},n["default"]=gh,Object.defineProperty(n,"__esModule",{value:!0}),n}({}) ;;
; window.mParticle.config.kitConfigs.push({"name":"Appboy","moduleId":28,"isDebug":true,"isVisible":true,"isDebugString":"true","hasDebugString":"false","settings":{"subscriptionGroupMapping":null,"consentMappingSDK":null,"userTagsValue":"true","enableEventStreamForwarding":"False","includeEnrichedUserAttributes":"True","userIdentificationType":"CustomerId","removeEventAttributeList":"","singleItemEventAttributeList":"","setEventNameForPageView":"False","serviceWorkerLocation":null,"softPushCustomEventName":null,"abkCollectIDFA":"False","abkMinimumTriggerTimeIntervalKey":null,"forwardSkuAsProductName":"False","enableAttributeTypeDetection":"EventAndUserAttributes","includeEnrichedUserIdentities":"True","apiKey":"6308dd27-2f9b-42d4-ab72-2926126febff","cluster":"03","addEventAttributeList":"","forwardScreenViews":"False","enableHtmlInAppMessages":"False","abkRequestProcessingPolicyOptionKey":null,"abkDisableAutomaticLocationCollectionKey":"False","safariWebsitePushId":null,"abkFlushIntervalOptionKey":null,"push_enabled":"True","emailIdentificationType":"Other","sendListsAsArrays":"False","register_inapp":"True","abkSessionTimeoutKey":null,"bundleCommerceEventData":"False","enableTypeDetection":"False","sendSessionInformation":"False","doNotLoadFontAwesome":"False"},"screenNameFilters":[-1255833128,10338573,-1053715231,2002404,1855039444,-1139483569,1169427058,-1011350222,-1215891916,1912453353,546358567,1749756104,721167466,1741183730,-156246984,1474512683,47537423,1318139590,1406309676,-1035995335,-1203568067,731319692,121226515,-1241486416,-1764573497,1217185536,-1257263023,-1170577796,634003138,1539],"screenAttributeFilters":[724650483,-1155154498,-1677735192,72804585,-1495736683,-846469700,-1986616588,-1370110441,-1399642897,-1654774718,1288240999,814169002,740504548,-221685235,186836173,-1313241384,1131651364,-689575454,-1954415793,-1578786419,-1079992380,-1365904497,1513617026,-697891613,-1970050866,-446663956,1897094661,1980959373,-1708436636,-992596909,-1466763426,-1990016122,-279845621,1834624679,204328042,1965698401,-1438695152,2081424362,-370326457,270875156,-492852931,-1642097713,1261098130,658992810,-978759656,-1079544519,1470387819,721561712,1393324235,-5312071,-869813373,-1682072574,1678521482,-1587043911,-1153322695,-1976208861,532873070,-1158318614,-550585861,-490099094,579169132,-1998548762,724813259,-829037073,872835106,-1634521229,-665745668,-79776057,1870267685,1188197676,787153869,1700238063,437932249,-1134832283,-1362861169,-287145169,-1075647573,103612125,-2100921930,956904051,-1416064178,134182320,892118420,-1798419875,-953894026,45964428],"userIdentityFilters":[2,4,5,6,9,13,14,15,16,17,18,19,20,21],"userAttributeFilters":[-1571311296,-803333011,1191863240,-875629260,458536417,-947203468,1833988391,32226179,686444163,-268340861,-268340837,-268340832,-268340829,-1532676622,-1532676590,-1532676587,1195570420,-2108060109,-2108060040,-1592022591,-2108059887,1518546695,2024277562,2024277567,-1597268708,-1667861141,-1667861074,-1667861042,-1667861020,-1667860989,-1667860918,-1667860893,2034231413,567707097,1711067059,-1532676804,-2127651165,-1532676556,-2108060012,-1144468423,712808317,1262539571,2024277568,2024277593,2024277653,-1667861135,-1667861110,-1667860955,-1667860888,120609,1887631760,-268340894,-1532676808,-2108060134,-2108060079,-2108060008,-2108059919,-2108059917,174110993,-1436998120,2024277594,2024277657,-1597264503,-1667861138,-1667861082,-1667861047,-1667861043,2024408012,-1667860988,-1667860891,882475500,1788211212,-799739651,-281534822,1905586305,1436235803,105508662,-725506318,-268340868,-1532676811,-1532676689,-1532676651,-1532676562,-2108060042,-2108060039,-2108060017,-2108059890,2024277659,-1667861104,-1667860921,-250233543,-1793447609,1542869278,671683378,-1325859129,1391802673,-1453031714,-1762532522,435447991,1874684019,-1957550278,-2118126913,-261992898,782144144,781942241,1334482919,1372303645,-1766102505,1216985755,1372321904,-1026591604,94981349,-1175066470,-2107390546,-1620872251,80219570,96619420,-122439311,1286277342,29046664,1843485230,1952847787,-1643419514,-1948368375,-2116131091,1015336383,-268340895,-268340834,-1532676807,-1532676714,-1532676712,-1532676683,-1532676623,-1532676618,-1532676596,-1877511514,-1872762426,108061298,-160985414,-139876197,-75273217,-1459073978,-1106578487,-268340866,-268340862,-1532676775,-2127651167,-1532676684,-2127651166,-1532676592,-1592022595,-2108059946,-1597268710,-1597268705,-1667861136,-1667861080,-1667861049,-1667861017,-1667861012,-1667860983,-1667860894,-1569580464,-1530109293,2014286769,-2052605715,146164034,156187412,-749376737,-127501243,1951246778,-973603221,-268340893,-268340835,-1532676743,-2108060102,-2108060046,-2108059981,-2108059951,2024277689,-1667861044,-1667861011,-1667860950,-1667860923,929602583,-837416670,-268340830,-1532676777,-2127651169,-1532676745,-1532676720,-1532676713,-1532676627,-1532676595,-1532676559,-2108060140,-2108060138,-2108060077,-1592022592,-2108060013,-2108059985,-2108059979,2024277561,2024277592,-1667861144,-1667861081,2024408011,-1667860949,-268340892,-268340864,-1532676718,-1532676680,-1532676589,-2108060105,-2108060078,-2108060073,-539286774,-1601050940,1497702171,336473093,727927896,-1089418479,-1532676810,-1532676782,-1532676749,-1532676748,-1532676742,-2127651168,-2108060110,-2108060075,-2108059952,-2108059947,-2108059920,972226558,-1371691896,2024277590,2024277595,-1597268707,-1667861108,-1667861013,-1102636175,-396734289,-1597268711,2024277566,2024277654,2024277688,-1667861079,-1667860957,-1667860919,2024408016,-1532676711,-1532676658,-1532676654,-1532676626,-2108059921,1073126342,2024277564,2024277565,2024277598,2024277655,2024277683,-1597268706,-1667861106,-1667861075,-1532676563,-2108060101,-2108060070,-2108060048,-2108060009,-2108059922,-1206643116,-55577561,-1292298143,2024277560,-1667861078,-1667861016,-1667860920,-1667860895,-1667860890,-820075192,1043877370,1031225197,1151637944,-1532676744,-1532676717,-1532676716,-1532676655,-2108060139,-2108060133,-2108060106,-2108060071,-2108060016,-2108059885,-1064962472,1596787151,2024277559,-1667861077,-1667861045,-1667860926,-1667860889,-268340865,-268340831,-268340806,-1532676778,-1532676751,-1532676746,-1532676619,-2127651163,-1532676564,-2108060137,-2108060135,-2108060132,-1592022594,-2108060014,-2108059953,-2108059915,-2108059892,-2108059889,-268340898,-1532676715,-1532676682,-1532676594,-1532676557,-2108060045,-1592022590,-2108059955,-2108059886,-95713626,-1667861111,-1667861050,-1667861019,-1667860986,-36172191,970113298,625365984,-268340833,-1532676809,-1532676781,-1532676776,-1532676686,-1532676652,-2108059983,-2108059977,-2108059923,2024277624,2024277656,-1667861048,-1532676620,-1532676593,-1532676591,-1532676561,-2108060108,-2108060103,-2108060072,-2108059949,-2108059893,212584092,2024277563,2024277599,2024277622,2024277628,-1667861112,2024408010,-1667860980,2024408014,-1667860953,-1667860927,-1532676588,-2108060044,-2108059980,-2108059950,-2108059891,-169250520,-265713450,-1630786612,1984153269,-1018465816,-268340860,-1532676780,-1532676719,-1532676621,-2108059984,-1592022589,-165711374,-1206691430,1528395168,131170300,-1597268709,2024277626,2024277686,-1667861105,-1667860956,-1667860954,-2140558788,-268340899,-268340890,-1532676649,-1532676565,-2108060136,-2108060104,-2108060047,-2108059978,-1592022588,-2108059924,-2108059918,-556693456,-725254694,2024277621,-1667860896,2024277627,2024277629,2024277630,2024277652,2024277687,-1667861139,-1667861076,-1667861014,-1667860987,-1667860985,-1667860951,-1667860922,-1667860892,-268340897,-1532676650,-2108060076,-2108059982,2024277591,2024277596,2024277684,-1597268704,2024408008,-1667861143,-1667861142,-1667861107,-1667861073,-1667861051,-1667860924,-268340896,-268340891,-1532676806,-2127651170,-1532676773,-1532676747,-1532676688,-1532676685,-1532676656,-1532676653,-2127651164,-1592022593,-2108060043,-2108060041,-2108060011,-2108059888,2024277660,2024277661,-1667861109,-1667860984,-1667860958,2024408015,-1667860925,-268340863,-1532676750,-1532676681,-1532676558,-2108060107,-2108060015,-2108059986,-2108059948,332303147,558196545,2024277597,-1667861140,2024408013,-1667860981,-1253637269,67328077,2020649511,-905826493,-1532676813,-268340859,-1532676774,-1532676687,-1532676625,-2108060074,-2108059954,-2108059916,281149586,351353229,2024277623,2024277625,-1667861113,-1667861018,-1667860952,1716276844,1240298052,-1874176524,-2127651171,-1532676812,-268340867,-268340836,-268340828,-1532676805,-1532676779,-1532676657,-1532676624,-1532676560,-2108060141,-2108060010,-1592022587,-626487182,-1299051985,2024277658,2024277685,-1597268703,-1667861137,2024408009,-1667861046,-1667861015,-1667860982],"eventNameFilters":[1510811912,1068406949,240719405,-812578662,2018909709,-150997144,-172505940,1646001894,1706381873,1474472954,-201014632,-984898629,-1737715686,1786219045,-1726830677,1358236610,2029234026,1663745677,-1059072988,-1857248639,1486708977,967619494,-239187730,2123437006,440320878,97417185,-417601226,-2046076773,943587829,1774217185,-1066814959,-824461217,-1309875585,-1530927694,370219313,-1747255277,971452055,186915126,2096620524,1856276854,657973127,416208586,-1327653589,201325451,-310408205,812894396,-1280761428,1051534778,-1605733172,1779346754,1911584711,1960449984,-1687198419,-1767153751,-1589109517,-673147288,1417977541,-846697158,2016451234,1473735259,-511859379,-1676949044,-2131912937,-1306935450,1161002535,-1719351538,164851473,1899625166,1642621179,-1010834688,-1082159225,1072351970,1876466837,1484846760,-609830743,1234377734,1782891,-2027553787,-1674948909,65261958,821419138,1182377340,-755728868,-1365617759,1885508460,267842464,318953176,1733687479,-1323693817,901125656,67672061,-878178991,-550768808,565187854,-1598253162,1834292462,901333808,542113096,705199650,-740676751,-814693902,1920270417,-979375392,740514847,-398492773,-1344684854,1073845440,-717486000,1830605306,-1061210730,414544928,1576706640,778052089,1439165120,-1691507490,-890948060,-1139953475,-1465244360,-1962682871,559762426,2118287026,-1588178197,-1391078810,273810543,2076650415,397672473,690207148,-109180619,452655899,-1142160888,135887826,852112410,-1278542248,-1854164749,1024720954,-430697643,-999668236,-46778775,-447685846,1010639316,719181706,-1072155885,270488202,-1410967134,-55523739,-1432067066,-448573410,-155308149,-1760926494,-755721523,-1618847771,-107501982,-37123497,-2071428582,408985195,-1163201655,1578840273,-1535579643,-1339814600,-498653293,-246380120,543913334,-1204694389,-995912719,-848684000,2051492084,6651434,-2005557111,1074535386,-778020967,-753048137,2077011921,2029418112,-1202887962,1421258568,1288124016,1306494341,1205792535,-1766891609,1678956960,-972138045,128740736,1977138365,525572141,1079837396,-2018225054,-644707765,1406077779,-941885471,-578789384,1602831429,-1458276551,179055253,420535762,640878788,1345459280,1327883786,-1682353858,-423444986,1297704654,554652287,1010363769,-1287309014,41937390,-485427716,-2026104416,1938307277,597083050,-1729715723,1897553369,1016434905,47923475,-1462502751,-82668032,-856705846,16811440,160551499,212015228,-1899979758,252254673,-957834076,1132834620,-592986428,1790218703,-1347005195,-1089825670,-1027237232,-1083366987,2073437850,-1860482751,-1273475305,96449783,-1017764455,1622608990,1079423478,786689086,-34352408,357112627,1260247618,-1964475389,-704236942,2144736991,378402908,2138427027,250894540,269801983,-2093851173,1700124002,1701861703,-1959781791,-1015698153,-961364219,-1036813620,-1391244921,-578619792,-1947840018,-594995127,2019278436,556051953,422106548,-677168564,-1228231249,-413816063,-803575889,-67283932,214257388,-1269909335,1457926920,1522752920,-825507987,1522833075,1005917565,-1780248337,-2006363877,394294530,851139792,1428883623],"eventTypeFilters":[48,49,50,51,52,53,54,55,57,1601],"attributeFilters":[-1200223765,1311943328,-295139053,-251699632,-878579820,-984211198,714926461,727053449,-1727774621,-1643528395,-227519243,-4776541,-2108716792,-1597643947,753009524,1508877132,1480674457,481319966,727565287,1706639659,481444818,-1193690486,-2075690265,823955429,-239564980,-1117654326,759021594,764193571,779194001,-2033368625,535691394,312928476,-1167471642,1039391412,914866751,-121099313,2083066270,-573298477,-626620079,2059565303,2092505659,-179320306,-983278835,2022496368,1156597532,-1276394100,-555674174,-93475066,1205900024,-908451316,-669699965,284266796,-93676969,720295385,-1091096918,1746268011,1399819288,-825681132,1693421484,111673760,1511762357,1614121086,986803046,1258425338,-1127850892,-516751543,1454658273,-2082050517,-335318960,-118823808,-317690490,-1833676199,1928410893,1562895612,2074376385,-1102079451,1844661045,-1506856233,-1429157777,-2112203638,1603819561,649425524,-1707426856,1953309669,-598766134,-1685076885,126020049,-720828312,2125609625,-1181663832,-661066454,-951948492,-1635359354,1584888534,-1003701917,-1408841192,237976386,981442640,-732012359,-766024228,-1396714204,-872914860,-1097913984,-1622587599,1199161445,875390726,1931634663,60254535,1343062869,1387821528,983791579,-1279121137,304267676,894887048,-491769134,-1736389382,1137179919,1117995104,1651826547,1694220003,-31701563,-629466217,-430405164,-1301372203,2099163451,900041731,482423930,-1525041913,177255994,711611416,-1598221369,-1049902817,-2035996641,-1578171179,-212500176,-442562749,604250481,-1063198731,1368585209,-1569250983,778191253,199473699,-1423285491,1626954821,1619620959,-1653000831,-477055859,205089582,1936878575,-513508654,-1536324271,-410420834,753064087,85616515,-1670298577,-1824812255,-2121439653,-1659242076,-86814698,22156028,853993949,-664733773,-1742991924,1326653842,1237270284,1179036544,654932896,161813518,948857131,1754167673,1556758796,1784005005,-659840753,-1554206571,503507350,-1354149071,-1611353635,1789752041,-1530183534,803687662,-919611164,-1778859547,1100713621,-1565390618,1554830073,1198213076,243864605,-1836955324,-329108326,244212055,1184463469,-514245055,46616198,749341533,1913953687,625383115,-1606506438,1322899275,637510103,1328864871,1393352501,219812008,822278113,1792382931,-1532762890,819207735,746432561,-1764451671,-142413918,-1640151499,1223984517,-1062511300,-845162234,-124404825,1685176780,1825237798,-1962322057,-1064046190,-1837080176,1567003382,75633419,-1139241265,-367512214,1903854768,1380857964,508322345,-1130353332,-1937493756,1595164067,-139322136,-444411357,-655781198,-1855727808,-1877402221,1709660759,1770864269,835110242,1204342273,1107842310,-1159928283,-1490227844,197981738,699080566,-2013926928,-155565871,5528273,-1074720320,-990970472,-651079650,-1393111766,137444687,-236834302,-1094579593,-193532780,-794519365,-2064698082,1028969514,-1858894842,1407761367,-1531771734,-1091555496,-1531255305,1208700314,1220958198,-1864428931,1165957318,1105689060,-83420024,-922637483,-83542854,2146519366,-807918347,978408402,-903908690,-1596649022,1384008924,2088325513,-1356316776,-1657434713,-2093679992,-55082426,-547547350,573307948,-1330244325,1315964381,1945781461,-1735085994,272090626,1585359813,-1729700493,-927855984,1304079793,132242772,-89680669,-256918150,-824433088,1847639128,383330407,-1399640662,1884972901,-439521328,2096843264,-1649864433,-1143487324,2013093416,-1470586567,-2110105753,379780577,1456056595,851851089,818358766,-2094726865,2033257441,-986066143,-1800604125,950086430,-1820246867,-1531138116,-1740360317,564301542,1766165644,-1759371332,-1739398480,2052961355,851434260,-1614230615,-574710864,818233914,1730730135,1753992335,1876695627,809866320,-1357878564,267709191,1015162591,1646980287,-652842924,-1674966986,-2045711822,-1404757695,-1205400163,421929809,1089923472,462010859,-102284108,1779943576,1795463649,2072188631,251456184,-1951089107,230907264,-1880143202,-1762082738,272831163,-188346852,-1960938130,-851674431,-1377260797,456872466,-2025849988,-1308759945,474644412,-680785884,-2056967437,-1288301084,253318925,-668658896,1944188936,410155552,-612548788,-1939905060,1890920339,10313731,1844769116,-1635277325,2072313483,-1337479783,-2045184356,2045250654,-1405974604,615131257,1662878959,1166336777,-1618562628,-1611434738,-441217553,-1954070201,846952113,-1682380643,-1138066378,-1286381462,-407224400,1328015326,1881510316,-1262282475,-1881441696,-1671196596,-1590232103,1330503354,-1953945349,-509901906,426199140,-1318636239,342449292,-193683303,2042549158,25141398,1537483915,-191713273,-2087793467,-1917117821,1934501251,-1757141524,1992527543,192043130,-196078339,1584796908,-890750704,-664785502,941970398,-1393847616,-1820379779,-2023339410,888337784,-58327901,938175096,1043297599,-1644334069,-1275146193,572164632,-652612193,-1700009113,1311513449,-1972147090,1243769100,1991175796,1495753196,-1621035561,-266224621,-846464653,-387908596,-595858288,-205451787,-1739045006,-1272976396,1531617170,-1095255783,996611609,-923684709,-1870350394,-743874760,839472517,-547070935,-2091812409,-857771474,-632102047,-764525624,-2087143525,1187735583,1412617432,851645826,-62859743,-401364149,-48785013,1982365905,-743999612,-1816320720,613507315,-472310054,-738754183,506060261,-1159051038,-715851895,-1143530965,369906539,-16727890,-91563130,-808064474,-425388271,619777001,848658391,-10468934,176875637,12016217,893107422,-676087462,875450350,-875148515,-110044705,1103783038,1649112138,1072887239,1648910235,-992895752,759308369,-414552236,-2126783316,429954408,893099344,534277152,1163106302,222805443,-1600632110,1415988139,1769600403,1499593445,-1689273431,69731446,1226794945,-1024407211,-1024609114,-2022377273,106952206,-133690733,-135822502,-1276598936,-229875884,-449041578,-1722305650,1093367896,1608137319,-1119108388,-148638736,-688187293,1680765824,1269494333,1879826877,1122651596,-1849697799,2066264156,-1254434623,-1823926358,-1486008638,-499214642,1332908258,2106835360,-659945650,-449700550,1466868429,-1133957188,-715265636,947623110,-332268959,-565734314,1340849516,-460884597,-975206660,-1108888435,262891010,-732574155,-535645478,-732449303,-1156691242,-2015778827,-1969564025,1674077690,-997053632,1571046769,-138370531,-2007966159,263238460,265308629,1322705602,-1473318579,1757827538,1393966256,-1528719503,1202847558,327445257,153036919,-1069113142,2050744083,150740260,825028843,1231927058,1558873460,1989840760,-9353766,-648509525,1838898162,1386064481,878541861,390900349,-767033585,-919590322,68258168,1442466972,794792013,689678908,-1750867919,-708904643,-828277564,1585125534,-188825436,-351178531,1043603529,243023993,360232333,136618429,-1296451582,-1773180804,-122766930,-1938218779,1473241144,-2014753186,-1097390529,-39017082,865927408,-1981067320,-1957553004,1291805123,-385865758,-1829498870,397735715,-1913248718,877465479,-2124095330,1463638754,203942825,707798297,41954113,-146054550,593378184,-1314157289,1331610562,1288227324,-231179111,-863293325,936904765,-1010525346,120192977,-1462689052,294014223,-1011162161,1409362959,1161458552,1541903158,-458516543,1106098126,496673879,-660477218,-1906075358,-740151120,1694346823,-1572761687,947752168,-2018483619,1550189400,-1167984905,-683328284,1278499842,418222023,1671941352,1278624694,1640095729,-1284746863,-662369942,192256821,-995725810,1022791013,43353323,451413009,584033614,1621849362,1272456400,-687571256,1778593049,1589723796,-1534582753,-1332059856,1413353077,-1668534503,-1235786516,60447020,850856836,1664655455,1808502479,2112418362,1475428519,1621135305,1329817992,2040554782,391991662,-87436820,1580905607,132119796,129855426,1263597713,-1384515077,1351128347,-263760530,-1332659026,-550638045,1793211332,797751297,-1750087532,1163843938,-246146071,-1346219948,-422199255,697930814,832515494,1019007226,-1915827906,1304999408,-1288234988,1749078423,-1001522738,205906786,-735848106,-945724377,-56548443,1638592970,979696458,1376087125,-824160027,907384315,-1005486235,-47107126,-1288359840,1975043625,-362142447,-623143085,-1469635411,-1391430644,-1896175831,919511303,139979109,-1048934836,-1016670282,746981619,342286346,-752047458,-1241149097,347921142,-1695089826,-2025959655,1113336907,1759138332,-1690715828,-385499799,982249990,264218551,-1558647735,2101802549,-1497716482,-866007255,1400328550,-1797567969,-1818835992,-567955890,-701844177,43811172,1404861922,1846091915,2140439496,1475583416,-1824507385,-480026669,-1815308089,-1443288020,1818686809,-625992161,-744687892,-1445258050,2034684842,-1762721090,-1876323668,-594756601,-1755546231,-353088731,-1898655954,347960421,-1706565746,-2098056842,2012533617,1245153064,433102185,1412307921,1434840114,-1901253017,-2050472587,-709742009,837878967,833529283,-1826492136,1946539689,772815925,450909153,-618658008,-1244904236,-1457026534,1020052585,1220467997,1285689364,1328428077,-811969392,1323061567,-327534584,-187775774,626956857,505349297,-465459053,-648272913,-1227771161,810357689,-2015333600,-252607034,154859689,-649187911,718926894,1685304245,744031987,-1220704295,41494842,-1401397395,-493041788,-1952205550,-1360367887,1877185804,-1471709300,-42255006,-844313817,800298415,312772434,517488384,-1092234149,-960595427,-1664847413,-1058779078,-1008484301,56728047,800279137,486524202,255789100,-51491869,1006588064,-135409703,-471533472,1805016947,1432684296,1825121092,1567266545,-1165891,1908870940,-800391851,-172313830,-999452904,-1863132890,-1484990844,-1922587258,-231526529,1315887543,1594862196,-548733485,-243023179,862258939,1853680471,-2111905178,-2031968356,-46427770,-1133177125,-1656568411,-1718540765,-1228642322,-1963351924,1895816036,-1643779884,-1026117146,-1664649272,-1633576079,1711010965,-1042859257,-409270827,577545801,-545597819,-1655863844,1433236024,1708228812,-375536818,2103575522,-1207093713,-223758704,-1263216817,1999965845,1432249976,1349486176,450753632,1223726725,-1786380242,1417532234,1481225925,-351531051,388011509,968760383,1939495337,-662369756,2146753462,1903833676,1639564375,257453752,-2100288147,1423039014,-1323479311,411967430,-1432401769,1223977961,-267781203,-856587625,1477902653,-1503006236,-990712530,181003397,-1548767185,-1439844727,-1676488187,1466718606,1195153900,1164692816,1779581682,-1241366251,-302667455,1267657553,1668247237,-2050366403,555398847,2143093884,793537358,25269644,355945274,1391957725,-1116669090,-1335553046,-2126101971,781364049,1195029048,-1560894173,-931347609,1116263860,-1680332151,1988738382,1748568470,-1878013294,-1017441249,-915879942,1965604987,829004707,820475983,-1325116099,-1608740979,1764088543,-1436132801,1668594687,25627684,-1180927015,-947428810,255557286,-252782402,1568149369,1307874292,865604659,-593082374,-1489235979,-1780152242,-376439507,-1230177563,945526456,1610530293,-541735776,-1125828581,1867188024,1598356984,610610415,1395796260,1860830323,-958612857,328305026,-1724066862,1866840574,-1965473723,-1917082275,-1888038395,756027942,2110609617,-1840045400,-1230302415,-149219496,1814590754,229785845,-592581414,702187821,-1157673910,98589686,1422465140,-98887007,1571902932,1037904615,-1033373738,182339534,-567576053,-2123354942,-164739569,-254638352,-375687798,1551395466,1372391782,410843706,-1092832056,-262019394,-1330179239,891517236,211691172,-363560810,1364218008,945516736,1301448653,1902222997,-1333997904,-1547312563,-908356129,-1300715969,-2128436333,-228844826,-663974464,-1172213577,853853858,1582042290,654952454,-707864198,-1424021884,-75632542,792632089,-1225787724,-273069871,393128345,1707178525,46478621,-1621170342,-1633297330,-1508268110,-1397575465,-1505145608,-1813862114,-78593092,947071798,-1148814545,-371564637,-1296733629,-456367711,-1568298335,-715172250,-1285549582,-304558294,-1568423187,-925359458,-615473953,-1667731967,-1624253614,37343956,451699161,-1035338129,536463524,1705347072,843555765,1896618184,385863578,-703584589,-1036362876,1245861934,2018477869,1157972345,-1944174966,2098578771,301503145,-1366865863,-1726332046,1948996973,-2146628901,-49258358,332576338,-722408330,2023817890,289329836,-450961879,-1656205299,-1933998074,900419590,2015150949,-187488148,-1677950155,-234754303,279867467,832273940,1523772188,290132331,-490956370,170249751,-747991319,219186426,-1823915647,714696881,401403015,-1631952697,-778766781,1026210824,2014643101,1081335485,1360650956,-1349487129,-476473380,546230960,-2061869676,809645927,631147124,1152281390,-1552248279,-9473748,1619870142,425732243,1092519532,809770779,380242818,1004474467,2080264344,1983859372,794945427,-2049742688,1278606179,-1909108948,154277616,1197083473,327149754,-1150372543,-1178959053,-1498246804,-1534493521,-1781094802,542893847,-1409322211,320805554,-2117324200,-1499710920,2097830741,1832381288,-1140572619,2133294710,-1760361873,-1561636314,750934299,-1975967434,-1377017957,-664403310,-1659767505,-1786764206,-343638279,2119593796,1687191658,-487988917,-1857199151,-1759124359,682785967,-1147302617,953388104,-1460706452,775479648,-2062851942,1263314269,-464179957,641766076,1186994825,-463978054,1114028992,-1293268109,1127117189,959515314,1497614907,2021343126,-2022676317,1304175991,-1760363366,-1437302534,154842676,782716595,1710440095,-2125509937,-1030561430,-1170850215,-1110646172,162017621,-1994138512,-2029084664,232380737,1802183186,-1400134395,1286409023,-1234364140,1389579075,-349188429,-1068230149,-1141343174,864445225,1201761735,1473328923,-1232580624,-557262568,-1433425193,865925827,-1631360177,-679433495,1004151494,-1434151578,238905864,319519428,933205589,-306533228,-634700701,-845664244,1063591476,226778876,13925424,1364950084,176036139,748245738,522280536,1448699932,944389636,600948112,-727712565,-717581018,-1235622865,858444708,-1726866123,1752154996,981805515,1721835457,-89264709,-277005269,661640883,1469970364,349158022,1812930169,-1833555640,-1076376454,-1187262027,-986846615,-94686567,-1758457655,1731216364,-884050335,-1132028102,67043806,-368789353,991749873,1149079416,1692135324,-1500205088,2030694939,1344353350,451508494,-564108033,-1027584636,584139449,167548062,186265448,-1599997493,1239199686,1527927801,-1089045215,-1432286885,-1174990143,-1157503795,-1843346761,-851909791,1728351374,-216594775,-1349528780,1444177953,-1738560360,255264008,1061222027,1164847134,514179283,-1371793968,-1436967873,-1206321683,1081495831,-407193656,-1029283357,-1612124481,1689386499,-2112596846,1126870059,-1307712151,1969126662,580725777,-1371918820,-783555026,-1100229262,-1201335040,1481954884,1393247886,1603430117,-767663565,918805522,1811242900,-170417419,1105224545,-771355169,558541837,-254167267,1585875535,1694797993,1727050606,-1825996371,1541572596,-1585053844,-686649490,-1179687735,1527989553,2051392239,-1208035605,-1789634328,986419134,434622959,-576634084,-1328982739,-1942699721,-187692401,-1338885752,1137153319,-271442249,-2029971635,1314955068,-2128268164,951584876,1398704916,-1751794253,-1177074057,1201532926,1600350851,1899174612,-1742601433,1562454693,9080168,-154369717,1560287952,1300081918,1843984963,337695340,-526287025,1844384472,1461043359,-1928773687,834528263,-979069355,1379663667,1889699448,-1518804718,-1833181318,-1408295497,974297558,1435805124,918278111,717696194,1848025742,1645323419,-399735073,-1706369440,1562253492,-992423877,-236456533,-908674029,-1907707174,1052496219,453012974,-1354242229,1064669528,-1719573636,559528007,648936012,578671232,-575360918,-64589033,795648437,2091937207,608912955,664456085,1441877884,1759202037,-765082195,-668996705,-1789364165,1990157010,1466523543,-1797828496,1978117550,1743308520,1069232867,-1782800389,-752955207,1418428518,-237551377,724702532,525641479,-1437992077,735886579,649941651,-3833925,1336016228,-279156475,1043461426,-1782452939,-1865169473,809611207,-1105035995,826531017,1100336282,1579032975,-1074362814,453137826,362618798,-771357717,-1232025086,1805165990,-717817807,-91833814,-1307541738,2004227043,-1792988790,131994526,2075172948,1157782182,-141794811,-141592908,182495202,-593659270,1239459891,-1002248303,1203239637,1382677171,1608016419,1466427019,1132350910,-178172868,-986942294,141110966,1612392511,-130213153,574917147,1500701799,499704964,888341409,-106455512,1932818366,-1133926743,1359685631,783662635,1055041563,166562527,-790580368,1359887534,1582401992,-1332987796,-1119839581,952853784,767532303,-1519858435,-1184404866,-1718919488,1277737339,-1278411058,-1791547993,-1089510109,1907468524,-873634276,-1537486905,-56016329,1991218372,1938112302,-135018668,1841957490,-2121515138,1333567534,-821002293,-221622884,1929126595,-437520136,1239674273,-1706651775,-1358343430,-1557404483,527157090,1207250755,94688341,-1241984910,549391648,-224845717,1316173213,1022557608,-770962935,1111290240,-163500299,-1183068286,990977779,-617574595,-854712783,1135874791,1919608844,-1450486838,1895333658,-1382129339,-2106805555,447610393,323938237,-1040081375,-739725198,444371849,-480263287,796851275,-1140260777,-1971368583,-396513439,-504198548,1165799061,1032576924,-379241141,-1839694941,-413201069,-1175745352,643593939,-1673222220,637509051,798137159,-2135215569,553759203,1784314777,-208852221,-673983715,-885835016,528745604,252179694,528244644,-945673273,-873044768,314271293,-1458315386,-1514206223,-1886513051,1442769403,-707635144,-2081699580,-1464392144,-1432391064,658081149,-643447586,-1040099934,2099802055,-1485514532,-842508639,-1448663525,-1947510670,-772890773,1586070249,-1895898114,-1925761522,1831836623,1062616027,35440953,-1458721506,1152432975,-1970262899,-2010521158,-73481505,1116191650,1152452652,1786573523,-1467926739,-1432735361,-1432189161,-1921810435,-2032564284,-2082385384,-1544343153,-318229420,-1720344459,298537432,2036767004,2010995563,-1939438905,2083535796,-2120871488,215168311,1631990222,-920182427,981283394,-1272720861,-2116314132,787091576,-684644272,-1068174083,529185445,541312433,1529156583,1885281871,1602013123,-696817581,-219807380,432536926,798594471,-922782783,1485613819,-735438913,1545375677,2116527188,2076504131,1790347131,-1198259336,1474429772,602468002,1188434701,-1783914694,-425305996,661671965,-1915892209,1202740214,455986292,1399668891,1202865066,-1758143253,-979056422,888490315,911167766,2015481726,1343244730,2111771121,224550601,1392013668,1426994578,689429262,-1926821014,1725890800,1962964732,1514712989,-208478220,1083590257,-1385900190,2025474127,-1614422056,1254305078,-1285047960,1058257058,727239277,137259545,1428261295,-803253440,1180526412,1238881343,652890949,-2081047491,-521835126,2127067256,1338054926,-322774073,1139636750,1563984501,999330964,-475776326,-1840211327,999129763,356988677,-1498480666,2017878825,-1300475964,1522578354,-1333467152,1981463357,1143815606,1573573319,1857533751,1982108178,-1167699283,1020524923,731645618,1655332246,-1793002750,-2072120112,-499237581,-155906210,1719004583,174740783,2079214780,194351429,-1043062589,1625274051,107087856,1525889839,1296185774,1640693906,-1402402127,-1397615416,-1437753235,81777413,-1858621722,-132528690,-521780857,1754262914,841717523,-184097882,-1761608121,-846122071,-1991323461,1893717547,-1054697802,-1222228933,1488940765,-557136438,-170846173,461081979,-882350979,1499502677,287100372,1514082202,615752321,-1677074723,-1233412980,-726358927,303905632,799705632,-1374341735,-1692977356,-348918988,-1162467075,-1907573613,1069695544,1453898358,1487653505,281389976,-279825301,-682050877,2110875324,-1487358771,1190953324,1817378534,-1455149908,1441999003,-849084172,-1129199420,-774323291,1620572058,-816934093,109193022,-1288399163,2026276043,1855630493,-371783549,-1814872485,-900683941,1344381532,-1600605847,265075577,-834152389,-127971503,-211721351,2144293029,-223846226,438654977,665755640,-827573609,1295857149,665957543,89732644,741041045,168648019,391635759,-555143319,815400423,-656073181,-2040816473,-1335971192,-120856936,-2071319418,-754204372,1369508912,445454196,2122627855,1285759064,471838886,1248586019,1094072341,760914442,-1470935910,-47448174,-1957675003,1807499548,214207772,-1157070816,-1532509357,219009317,-237943785,1601683603,-1472747499,476899795,-1543693404,-712014150,-1260648125,1614664297,623357648,1697268474,-1532976307,1589134021,-1815258110,682494258,-1815382962,-442011336,1840629499,-1947428681,1296089599,-1341506021,-1197438012,-1520849319,-1831164996,407448501,-1644928624,574866228,1143098780,93300948,188607339,1155225768,478394406,-1571537556,1816689301,1835982921,1116005288,-49083450,-1334478781,135883795,637412600,1944990932,418632548,568437231,-829308533,-760623839,-1376437852,135758943,-1339334620,863377802,-837126037,1729615499,1270871755,-1775422348,2132304743,-1688407246,1454272587,-1150018963,98287620,1379341605,-476687811,1295591757,-1952023621,-519112937,1847948505,831865433,-565102021,1809015409,-363951287,1771096718,1579872758,1059659003,1579359562,1441289135,1464738501,722620937,288072466,140307320,625381317,906101458,-727177298,1296610809,-291451039,1639121420,328095523,-303624348,-599996964,1568175515,-2013166432,-1165897314,1685692938,1296485957,-989837194,637979783,1493414634,748392378,1438361548,-529589550,849174454,-1707563270,-1197485113,736609339,2127084114,90774584,-1733334711,871161892,269062277,-447845846,1513090057,645196690,-302139060,-1475245398,-1053756064,150178122,-1017594100,-373084965,595933617,1223553718,16684143,40133509,-2127860125,-776710034,-361900918,-644649671,1239014684,1497450718,-644774523,-1330230766,883335201,-418982197,-444646455,1431573772,-1657608458,568376768,236994444,-1558024535,-753612217,-1821204149,1628483942,944408856,-669862369,1957760451,1817271641,1602510598,957605359,1876895382,-1270403349,1628282039,31756867,1249170688,542081232,-1521185535,86200251,625831080,950226401,1732721575,-1180440881,219633886,82085405,-1396369266,-1150423682,176387384,-1924401002,-1885922302,239802209,854841753,854963897,-381333532,1764587461,-1849640121,915539090,-760144026,-1831491202,-70174856,1045029893,-472057596,188560693,-1431641477,1484397684,918113827,-672588037,1626494818,-1114391381,992700253,572403398,-1709255667,-1320014815,-355689089,-800132539,-1545980017,1682669423,-1307841506,772203149,1622123389,-363921996,-710369109,-1559421343,1421707977,2002514181,1532593550,1673801735,-1282014659,-1758425397,-1131684479,-1675715388,-409858515,-1118233686,-319237830,411379315,444631694,528381542,-1649394918,652569708,-258538692,2089445182,587892736,898127545,-263024979,-1089193158,2043390042,-1560163862,-1337443334,490544752,346982208,955482304,-339320230,-427819770,285693640,785890309,755149320,-1556273782,1209090049,1128977598,-1009711456,1873798047,2102440821,250048255,-397504881,1152318587,402645848,-167789541,-1030054452,1427577023,-1804383279,-1662668658,-313755033,-725751842,520736354,-2147018742,-323756179,-1875329184,-154728527,2042118781,470758368,390199051,-913718251,1127796876,1127295916,-1112779304,806535936,-1185407809,-271148615,1642899942,164537817,364953229,-265928540,-482510435,-974507057,-416635126,1672059392,1025543057,-864674739,-764906311,-460999680,-1171321191,177536373,-1798191869,306595607,-1870820374,-1599130816,1862588985,-742910467,263363611,-2016334955,-1589692975,1973474558,2063004397,1411659360,-349700028,2120150590,180537002,735381143,990304390,-91594590,-1636552345,-1114033727,-917597955,102387120,102344820,1868462578,892067176,1566794738,1854608445,-835813898,1439559908,747118704,-174663538,2073528890,-1761554129,-132562643,-618905270,-1552484483,291525130,1377686247,608833024,385764901,1111229857,511224110,2004480898,1415444811,638907224,1734473940,568356578,63476499,-50114751,2009031928,1661845435,-2137915483,-1663558447,60376425,2133820360,514554613,-1832135819,1602462351,1858774112,769576301,2142413596,564190342,-1738013504,692582872,-1977445355,838548364,1453629610,-2110495708,1661970287,-523563900,-1926588498,973133360,-765932657,-580080921,1933534993,1660247518,565641698,-459502208,-375255982,1961718935,-1470229585,1113549897,-1262271816,-123961029,2005194955,1039366277,967351953,-1726073013,-664502337,1600891464,-770877619,-1679133606,-2105812115,1453429644,1800955513,98754716,797859895,1717205665,1602275854,-2144205810,1550626694,-1347206057,-1800635746,-875199930,-1738200001,-190103784,-1619835008,-1502234182,290148882,-465283615,441390179,-2116277115,-1827705198,-1221476781,351379100,370444274,1447848203,-1905433682,1308002173,-9057546,-775030538,-656774240,-1147337735,-1063091509,-1180030689,-1609094760,285297833,532139705,-96261462,-1760384583,-2000618557,-928989088,1744811903,-1746124799,191587891,-1441516294,-2064356682,27755793,-2043258188,-1452931739,-1771568630,-2043133336,-1774653355,179460903,-1700622725,1561366942,-636748968,36121797,441334998,-637215490,-680498923,-1215499859,-662240972,-935294001,37222,108959680,-91659400,-1507343935,740912506,939973559,-1357805610,-1105172988,99333224,-932421027,1198932114,793566005,450312354,-720965338,-722979830,-749498420,1199279437,-264203180,-993842912,-57816235,-543578282,-797923818,-1878228573,1394097261,1910263161,-196811200,-544259988,-1342158906,-1194913635,-1955614217,-1736978100,-1827765785,1345325912,398401948,-949626097,-341871745,100757365,100757366,1575019380,-1918383805,-1342360809,1438200998,1000340223,-994709101,895281207,1093937002,-42783816,1193969584,-447733822,-1666833669,-1007847090,-805447535,1329278540,-894497728,665802009,-734501630,1261576064,1831741483,-1004508588,1491319390,-974763660,-2134141618,-1197064732,639327821,-675457731,465108571,-1053304280,-2122957571,1682602222,-2063195713,75599061,1865838559,541773175,1889260972,-344166606,-8150787,2086064797,-981051735,871487459,622451823,-257240321,-496830726,-905016133,-698858190,610324835,-837972572,-31275119,-497114910,758992965,-1233183606,1594829110,757177837,66603132,-1757380794,-1896560332,-2139387976,215687721,2023586348,-1722651564,-1558319741,833496833,1273977465,-1896907782,-159362070,-134009123,-807142967,941531764,1168283269,1972920005,-694108174,832609306,1336309345,-175551794,-1026026923,-1045480262,1931883198,-1317874782,1622568847,-1192766749,-1547135694,-1740840280,-610358326,-1147719539,1479497703,779112252,300336902,-1110810699,-2087974202,-1349383674,1326621335,429789619,2666161,1564109790,-1542373672,914630965,-1548008468,460690236,-1380584194,778355452,378712827,-1728780887,1046384076,1121144957,-2109671229,-933433083,112337039,-744132161,-580284423,176832942,1234684212,-713058968,1029896787,-851419849,-1469573481,-535499748,-2024077661,-134325734,-794569850,-1861525570,-513136228,1669806148,-756305470,-555590132,-299809443,-1398722143,-1895662216,455668176,-1979412064,1400416767,563829448,779804411,-1622510652,1256675612,15090762,-1112843976,1535088672,-1158190492,379818005,308872100,-1268404041,918141884,-2083800243,-1619078701,-1615400840,55017271,-1110877499,-133616617,37182542,-704498611,-1535328853,11661618,-675824707,37307394,1706010771,-78142180,-47660235,-1156320957,-177985439,-2071673255,1486974650,-1289654878,1644269072,234111219,-752304627,-639808805,82449886,-1422308090,127827056,911741180,1297564142,-906818305,38420354,1576691813,-2061145795,-1800837008,-602966753,-752983074,1782294900,-1506057938,237481407,253260177,-129475985,-1067370953,1613037015,1566097876,2110384766,-44185061,863407178,-2010615406,1135713444,842919516,-548090208,1545079851,-1821440023,1229243746,-797958024,-303701244,-824846488,1662439546,1861500599,445999830,-218870170,103257126,119515589,666310324,-1352841891,-1697595851,187006974,-109947712,-2143443435,180316285,-535353196,-1047889052,1236763468,-878107460,-434222539,1225579421,262981146,2021862559,-812559741,-282803378,-1282884242,650893935,1639487442,-1483010988,-1131638900,154058688,398385118,1193523523,432009979,814488226,2073919208,-653482664,1026518368,-1882279969,588523024,-535005746,1273264155,722617484,-371032533,758719956,936993939,-1719421875,647856603,-646058221,533006822,1594327648,1525725518,-1008558646,-1754128885,1235733650,1131838823,-441043708,-1634806772,-2090528901,1379422855,1023351965,-1322566730,1379624758,-1771576153,1688822951,195314617,-1256035365,-956695163,695891734,-723577743,-1588758407,1654799115,-1895937646,-246076846,-1216374588,-240834931,-240834930,-240834935,-240834934,-240834933,-240834932,-240834938,-240834937,-240834936,-639258192,116382681,-591649950,-751098554,-1995499863,-977769425,-1079519939,961421975,961421970,961421974,961422001,961422002,961421969,961421999,961421968,961422000,961421967,961421997,961421966,961421998,961421973,238075300,961421972,-1209649309,961421971,-1209649308,-1209649313,-1209649312,-1209649311,-1209649310,-1209649317,-1209649316,-1209649315,-1209649314,-1209649285,-1209649286,-1209649343,-1209649344,-1209649341,-1209649342,-1209649347,-1209649348,-1209649345,-1209649346,-885939840,-1209649339,-256646124,-1209649340,-256646125,-256646126,-256646127,1519504303,-256646128,-256646151,-1602136906,-256646150,-256646157,-256646156,-256646159,-256646158,-256646153,-256646152,-256646155,-256646154,1098486609,1699526747,-1400910361,78087944,539448265,744852636,1181471244,-823713505,238073721,238073722,238073719,238073720,238073717,238073718,238073716,238073723,238073724,1781223627,630231167,-785223684,-805637660,-240833354,1124051569,1124051568,1124051567,1124051601,1124051602,1124051566,1124051595,1124051565,1124051596,1124051564,1124051593,1124051594,1124051563,1124051599,1124051562,1124051600,1124051571,1124051597,1124051570,1124051598,1124051625,1124051624,1791247005,1393153117,-1821451832,1885979360,-1650946104,-246081047,-246081046,-246081054,-246081053,-246081052,-246081051,-246081050,-246081049,961552418,-246081048,961552417,-218175350,961552416,961552423,961552415,961552422,1356681013,961552421,961552420,961552419,-1120311078,-126447989,1960078141,-43862805,1639218971,83311653,1959064207,1081530032,227975075,1954341022,1092551679,1579461004,1947985014,-829110456,1944387827,227212397,-50815314,-1569169925,-490957615,-589129208,668844574,2121315166,1216814096,-1057841082,1944650452,1850088757,-1923482744,69356740,1891498428,1364915932,1977125504,-335514618,1944374878,-690618138,-1031609073,458154109,667185885,142834552,-2026969689,-492583310,-1893463358,1188432198,115547777,-1277178024,1851976398,514619870,-610623806,-491142355,-491142804,-102841759,-1993334767,295184942,-1867887720,-490961121,595980183,1953401514,480026737,1953700817,2004096347,1958825836,531969591,-1005317842,977511045,2023072026,401678346,-1566559256,1833636222,1006319593,-1114577634,1178736866,1556700193,-1388296476,1802195377,241316211,165243861,521222586,2146485800,-218441930,-491321335,1189023518,1711806320,-476443794,-585889088,1832422540,1944297621,-1150459269,1361421723,-1746544370,-1064462024,636884953,-1281242935,1959254567,1200906230,-582150254,-711838244,-1274283132,225857397,1456140587,1970471421,252383692,208872262,1870856175,-1611014667,1301691319,1170307558,-50994965,1822231013,1944659334,-1712455533,783946359,-745064255,10780617,1316920383,-2136842010,117568241,-491350768,-87862565,467563016,-2017116902,1954223659,704344942,-491136465,27895925,-936328747,-161857182,1959969087,1941501731,-490941864,1092542276,-700697524,2081451149,-205758061,833246081,2041170440,-2101483387,1886788549,-1024057863,-1083136499,1092543257,1092543317,1941350641,-879666492,1944981051,545648365,1471878085,-63864497,-491149967,-971564105,1576619815,401709581,1887029664,624878715,-491279763,665600266,1961096799,1002676165,-435629449,735793165,1870107721,1956984004,1092536508,-278965874,420992660,1944080618,1960919980,-1645221833,1812285734,1943455170,1092538423,-793293593,636220629,855253522,-1960956984,-1720849978,1162984501,1368019466,-836296108,341177909,523326132,-2118699199,-846465213,-1274590114,1134350131,-876222712,-166010549,-729927022,988230815,1092534381,-1452278473,17747165,-491146463,1935736386,-1220079680,1445860740,-909213528,-1622290203,706171590,795064647,1194285818,-2132668118,-490956836,533420631,193734981,-250148838,286934616,171429873,1945192521,2107033287,-1746063392,1133667986,1958946303,149525137,1716851278,1857098487,-2093526930,143486353,-2038869199,-1121666438,-742174783,1966652827,-1291654931,-301782706,1879480579,862406219,1960335895,-491407091,102372134,197399064,-491324962,1960104514,1948076619,119836696,1954818699,-432873129,-525826552,-1943779226,-490874532,1824742112,-314657760,-332725125,861208170,1617140804,-1056853668,1960238066,1886266986,-115380262,-1730179000,350381823,184055362,919980304,759474304,251413082,-1734859156,1192291806,1959820024,373623637,1958841337,1814829018,-1315719964,1573194317,247249692,-688104520,422764513,-493309334,-1678749153,-491116115,-1534102475,434246984,-1104694301,1960207322,-1100723560,880900382,157858174,418309646,-1842611571,1728599233,241612247,765811,1710998779,-1889944912,657822756,583947307,1317925482,-1616897223,2140317599,-2146935636,-687787319,165076047,1218720720,-1654724407,-969025129,825147661,555950232,-800025972,-800026082,-1548375785,1944474852,693213247,44210966,-491220216,-2129610630,1944477456,-384834522,1092525164,-490967726,1954442297,6227500,1958952694,-446903369,1170791965,-1705537676,1960074723,-199059888,-594969342,1092525732,-79152512,1453576743,428759778,958972652,-683944604,1962758369,-1292251864,-367712992,-1467939141,237429373,732436672,-561116161,245910843,1132174693,-1002160908,140260817,636139637,1006419197,-731036394,-1607612348,1216810361,-715870924,634564698,636581029,-1973795475,552433729,1092521970,-491441614,-314493298,-862904315,1836357956,1836357963,-514880542,1836358400,1836358386,1836358018,1836358587,1092463527,493011473,269733095,-1209829788,-429193090,637329222,1346907936,732109100,1518242697,1751784578,2147292940,2063543092,-1086176955,5284468,1163280664,2053348490,-1272268463,-1442763527,-845989038,-1187528477,-1116582572,-1305302169,1310240702,-627197926,-62193807,419269818,904874593,-1459218035,-1730936391,888333705,-1775504236,-547348611,729644935,-401106327,-762239190,151723758,382716620,-1442746280,794081025,-1246497022,-254655130,-1437090671,1110235720,416869955,737045080,997608870,-1386589530,-1176344430,358398415,-137836300,-2015653604,-819359875,1109380917,-119658236,860469060,318117036,355686579,1075142387,-754360181,1221107879,-3835911,576905428,-993437972,2089560150,-1159136963,-1859219959,991392539,-849836242,1257115796,-648490867,-217807527,-1130833209,-693025592,1971350391,-2124555852,-22093371,697585595,659529698,-1676435180,1390358243,-729271345,-297138269,-1482478256,-1151377948,64329976,17620980,287627938,-967102468,-709699116,216682033,278884727,279086630,1438090318,-1340938978,1863218290,795037834,1132601145,1446262505,-448478653,925650786,88224026,-1476815509,5069217,-900382862,1401063123,1219981570,-1512286594,541886735,1300133261,1651370643,-316737027,1900097303,-1634354895,1319936531,-1869159924,-1350394463,-1700445464,838311789,-1752232526,215866768,-2051810034,838307548,-1715249128,42159926,-1313059826,-1274089388,-1541987426,-1829615581,-41589922,-305238904,1423241101,901290461,89549429,94412,-1338831267,1917690803,1325057590,-614970801,1243677898,1246276922,1067372763,-290355486,-1553171473,1424302183,1746079217,-1380779791,1426812565,2884256,1657400957,1801662866,-10098434,-1539575744,-414161362,-1654101335,1642337200,1804483947,98184739,657779986,1492119517,1815210730,1357141491,-821256273,1695561489,-694624023,-336160885,-622195220,1273391643,999244096,-90413073,1084370008,-819986704,1168119856,1449589274,-2105281944,959412036,-1597325688,-1719852599,-1623097129,-1990929477,-684582825,-1623508119,-2097585833,1040221088,604728035,-1636303862,178778117,-759016292,569886046,-2130992606,-559955239,-1692219724,814325323,460963588,-2007751563,1420056391,1336306543,732058688,-540121449,-738266004,-4484129,532997635,-1415287985,2146887486,-236078287,984765798,-649043907,130933275,-960585252,-2130492017,974142165,402969315,1740865842,118898063,890392317,-2064819823,968674285,1384465659,819304049,-1972875329,652958104,-1166546734,395561122,-349014082,-1228696714,1593070985,-1147815214,305543679,1415809704,-1002731512,725840534,1566846818,-990558203,-622548808,1156015046,749569138,-1057161707,-2021560122,-777666177,643543750,-273135202,-976727230,-481138711,-2132173458,-480936808,-706720272,-406455279,-1559852147,812211372,1920872094,-1191508489,-966099250,1223958887,-503537767,1996930399,2128216956,-326308073,-1819588186,1494591876,-1779958034,1458723987,-1437106433,-610079189,-2083000492,-805475850,1674764466,-1831541705,-926018200,-300815251,-1604629679,-768093181,-797806680,1530953869,439411975,-809737069,1853621252,913065572,1724365477,-1771202815,-725987221,-443493137,1714147688,384254346,1513396152,1364386994,-1249714489,749365875,778848305,1570854339,715827232,172218033,-1834374444,254271843,-1604659104,259655172,-666912512,-1922871213,2124736178,409905050,-1396629116,-155906696,-1109142996,-1444345676,-601007477,77584278,77582785,-625089838,-343724116,1993090742,350927528,1074689723,-697329065,-1568150484,-343179417,-1896897869,1043287344,-1207130602,679775271,-759097649,-1889897194,-1819822292,-46984238,-253922042,1888220931,549988581,-1849310227,-1890244644,-1028028873,2109220764,-168033684,884172522,944257045,598177822,746181800,497871959,-1603824259,-1322353715,-709502374,-1122525125,-1066628021,-1750624596,1542866623,620934486,26773602,1820805330,82175126,27066220,-789954107,-1897099772,511395456,659637952,-674367919,-1317483769,278423875,1977570669,865096752,1949735656,-1358716562,1590737861,-238277283,-1268327918,929068158,-81568933,-1882083958,-1140713733,-874395432,-1198377491,278299023,1418437905,475227700,-788439050,1208784540,561172628,1393695015,-1100533642,-652551008,460891315,618497820,1049478182,-914602637,-935467576,610031362,-1297139443,-1325726672,1094364427,-1485997820,187437503,-1711708170,-1963934112,1899252963,-1573992581,-1315344665,-158828078,-1812189621,40434371,-393506133,-1820630628,-1785575328,-1888075216,-1286936767,1420008878,-1267226996,-1141304126,-1804325368,753998450,-114223430,934273551,397123465,897029625,20186415,-1158360859,751064133,198229467,826903073,1520106315,-879585854,-50759490,1247822020,1339050333,1512991105,667314285,1349470497,-1580526224,45941309,1257239620,-1163083946,1588370192,-27600979,-1631056217,1196280965,-1115950060,-1989372735,536276431,1196079062,1561176180,1195734765,-1589731457,-2145885865,1523412279,-1201953141,-1607319250,-1570468243,1716246861,-1586196862,-1376877076,1290458667,-1983110874,-468011021,-268949968,-1362750340,-1900215457,-1676144203,-1944109635,1439662431,-1739978675,781433056,2001840301,1475738203,385892587,841849874,-1357758456,-59232459,-2129259923,769259747,750163467,-1739109668,-1013723900,553359642,-47105471,469642435,578806254,-2022440001,1055441348,602255620,543294545,836108395,-194229965,824924348,127348861,-1425642377,-591810998,-262491369,1498781343,1015418291,895870253,-1796524753,553234790,1449966762,-1095163416,-230788466,299770597,189511845,1129690964,1412439717,-999402100,-89933225,1318117395,1586518666,-1695258474,1129566112,1650545645,1401255670,136031977,-5823407,1732406165,1472201575,-1606725197,1961642634,-1852068165,-843263326,33174348,-1539856791,-1839941177,807459237,1488407690,-1083244533,-1384400600,-1805895656,1593668386,-402686585,759195081,517235296,1238633778,1228336642,-852840487,1867855803,-1621054678,206874899,276055227,-1802821647,1369633976,1941939869,195433815,-887783899,-1874279269,1345515416,724154928,367620560,315797357,-769090639,-1030290575,733423640,948656948,-2095614344,-979034491,604299998,-1286818951,157523280,-1820115731,-1364795856,-1169410267,-530514988,238994124,-1541824771,1233412671,2040437931,-1199783815,-820086639,-1811772596,-1982857861,1196591919,-1804290196,-412999359,-357489178,-315728769,-1054765374,-2111558749,-210465886,55500651,-222639195,954831369,1029592250,1316901956,1936073764,-627019113,-2041585638,36195083,165342777,1043862453,836405706,-2096143678,-511983636,-985793749,-498223473,-959162817,-1386252802,-596229862,800900474,-1867040759,-1670236934,-1584292006,-50362567,-412436254,-901823866,390250790,-799255408,1673796497,2134475583,1945066428,-1957835790,2010480882,-1524530148,-197871947,-16128098,-1870178476,1064467713,1807699073,-688371173,1998353894,-1867165611,1859110046,1200194005,-1595476053,1261053214,1624830705,1924463642,1424035099,566947621,1257352412,-1485517901,-1747413972,578131668,-1056510720,-750916716,1193735649,492186740,1224371652,1704423192,-396248961,408472721,-666670490,-975577861,637893526,-1700470940,1578361108,-1597984251,681718852,1162215102,-436328874,295258063,389447163,-1735286984,1593061883,1698498440,295382915,682176251,1684943801,-291319055,1077120826,643953174,-1911674942,1183345744,-107283691,-892645774,1798482513,609199300,1708952674,1598067101,-358232992,-1545370527,1520842578,1484009988,457214304,1673088930,-808353129,1897819913,291815236,357969711,1318159600,1101528235,2121259819,1322879452,-1902986462,-1257443365,-1924913868,-1643795170,2023209700,-1471019544,236508969,740911315,276590019,2014819591,943328472,-1165229188,-948647869,-1974646424,-1352092009,-1320871365,-1268342161,292016437,-1963515313,-1018264856,1419108883,-542327761,1622179306,-1754580679,1449581457,2144346636,-56939565,-318270808,-322046836,-759864802,817982329,-1906670528,1175819335,-1365078390,-452879210,1320182600,861069853,-856617930,-84631013,627381874,310739487,2140819378,166090401,-1794048313,-1272412328,-105599157,-1494100414,1722127826,611861801,-1309588120,1660503800,-999136582,-96804322,91329520,-835763984,-335296257,-1668683145,1257405172,1097464462,-1604610920,-2017994196,1032158656,237036306,-2130605305,1006387215,-1111437025,54225677,-322769524,-105474305,-1393337968,-316230686,-1305768006,-1100846713,-611931914,-97609851,516020970,-596246525,725801259,-296670904,-347017994,-98393673,2126954108,-1319730669,-1531733208,-1757581764,288368135,1142572374,-690433328,-2072681883,1547349156,2127301558,-1322459828,-86425804,-734319205,-1956916416,-1474281139,341221682,-2034544026,232299224,-1406209676,957763361,1962008533,-1239936648,-605583123,308651777,-972229818,-1855468376,-1601770231,1312534235,1942294604,-905535461,-1892156515,-1679502074,-744697771,1388656898,-168472872,-1604636601,93801367,-1785095942,-168674775,1658663856,-1560287043,1587717951,1145851742,1130902218,-925112698,-1093251154,639006705,1663139405,972183205,-420628492,663453423,-982480589,-2046939370,-1704303907,1459452922,-826104454,498027608,902125101,-1775249812,334947328,-1563956603,2031154314,-1294147331,-2112449659,1228026196,-1864471412,628298178,-2100322671,817878875,-2046814518,512284871,1289491099,1336394467,-1764065765,-1208445791,-2044452853,1630695261,100577154,1011008852,-159913064,-1850010693,-1021748513,1508067797,-1882338195,-528059022,-746205421,668400700,889772278,-691467908,553576356,-311083485,100090396,1915541680,-394833333,658221715,-781361827,977347400,1010907913,-965498200,-1477561413,2125403209,693176045,-1757991082,-767285355,388918590,-983856152,1609586967,-1733903784,-936375720,-90401086,65927472,624998279,800651100,1724536852,1157361753,1509156525,-1399375971,1762481783,1290897150,1592906373,82942655,-2028076094,-184261715,-809915543,1406962323,1838133887,1508800893,-1198722194,1945470645,1458941891,-295127680,545005892,-1525890463,-1002363603,-1198598627,2116100375,44929458,-2032901429,1871229967,-1513135312,-228109808,1198160077,1366172057,-433185873,-166725392,1937327675,1580645663,1491115824,-1004807133,-1195215159,881666002,-905543624,1721383954,1216492260,1380230251,-980742817,-1383310288,854051725,1570764118,-388076699,-13748385,-1037492612,-910297800,-458072021,-1654999846,1824225070,70001463,826140226,-2122591564,-327146545,-1582371341,-1315373279,2058864594,705157339,1085596954,-1141791611,677503451,-948480437,-262792388,-1935230142,-1957463301,1667102824,-2065446495,1013569305,1415044122,-1646880135,-1114578195,-1546036952,1056996019,444328815,-1718202084,-706771034,166940356,-435081476,-855848865,-364135571,-2011011093,1619724328,1290278417,1487433587,-545346416,579159178,1516243619,701073195,226240717,-487840750,-423897429,-706646182,1250390724,1121431797,1978362199,-578375525,-151477816,1596365421,1133558785,-540798382,1725206809,-1723325045,-2144118712,-2046678708,-416603702,-1833135383,-20108554,354990432,417072424,1261194440,-777321825,1522355337,683872299,893553540,-1283589516,1081921166,-1065248777,-1248384206,1241147701,-270619142,-1718137987,-1407759388,-567848905,934284286,-2090790163,-1776951765,-1055704070,1702395847,-1341982956,-1847907291,984707036,-690990164,1336692515,-1407884240,-1210955563,-1614182747,-1079153436,1940534358,-524055561,-1536523315,-1125010635,1378172029,-432545643,608865353,-1099855578,-1520325000,1814085579,-1257818075,1298919649,1324897549,-1678114930,-281712875,-1335255735,695999287,-1159231914,1928361049,-235113735,1635820134,-1715169355,-1753308894,1743071403,-1136194682,-149157353,-224808111,804921745,1688759879,1441200906,-639503140,-382044660,1558746931,1166657704,1166455801,-392555484,911435918,1806177962,-1911633399,1796119981,911416640,2014750906,-465705296,-124696801,-1810300130,-347292384,-266644243,1166111504,-555753292,1077328531,1632653655,1769326955,-996660094,-349847011,-146881358,604644430,-584012108,-63131510,616771418,-1195177028,-1027905321,-1157144290,-1108898742,-1404189345,-1437754749,-1549423224,-1421142230,-924839930,-1600841821,1671835189,581085282,-1584094691,-779274578,-654958013,395618721,-1907079259,1378629186,808558627,-751832735,1922053738,-751844252,433680378,112731840,400069135,218636552,1277363133,366609480,-1409877219,-2080468353,-777615693,576986587,-116983500,1544347094,1531478028,-47906352,-1156621034,417697605,305364295,1804893472,-33233652,-945841100,-165082538,1131382518,-139072352,-1027116557,-808896815,1640661859,1483185217,-1697898310,1497642110,2060597104,1991499580,-423556075,-272469959,-1129476534,-1118292487,1429979345,-1401041240,-1091955018,-892646663,203528002,-449983390,-662931323,-889252060,791442904,-753368262,-333062690,755388827,1160165609,1213324572,-2112097347,-1923463459,-1039243545,174830399,-1401166092,-1861491364,-649521277,1544955103,575289452,-1058530629,-1588294177,-2081560608,-578063963,-1204237415,-2026140965,-264870242,422995690,1531306546,-153337074,-523223813,680052077,2068674121,-1978890393,647153032,956994007,1951333991,-2127635272,-1993734986,-188223733,-1080567663,-996817815,551934259,956711041,956954649,1408864225,770648606,-2093441811,-246301671,1859286909,-97833389,-1528518633,176699057,-869973815,-833414821,498511620,-1381858660,316261716,-881799403,2008001355,-1937573524,1187374979,-970955095,-983082083,-1374166928,-1393796365,1271124827,-695441057,-1885513661,-303170065,-1440099701,1654920985,-1523079700,1137132744,-312631130,-1832649093,-340913525,1451339759,949919357,1702817522,-1124522066,1935675360,-497046419,1024680238,-805269025,-1915535050,-51252049,753460808,-838475595,-846314166,-1038068677,602146324,267077041,-617068718,1746593101,1165451421,-1854185807,-547006710,-887567378,-1431632672,-778644920,-1543155113,1660518613,-1890050147,-1772394853,-952372819,-220155855,693887621,1966551414,1191222862,-461822324,-1638498318,-454170654,-561658769,1931646464,-2120713675,1882801566,539218768,-1430802379,1968561846,-1327438781,-1439437265,738620104,-796848455,-1723697886,1868949652,965539237,1139385819,195495723,819587809,1964085457,159700318,1788973091,599650456,-757079457,-648156999,-1202214564,1139476709,-616224170,396929905,421898022,-332527159,-296972930,1697571549,1055726861,992617917,195294522,706341839,-1747151474,1101570173,-1703533698,-715468763,1221638886,941381117,156921394,-1730870343,-39360735,1328945540,1588671593,664727260,61112025,-278885300,-1600295105,-668725530,1887232014,-1855437776,1043732601,-263227586,-2106688936,-195544235,1588546741,2009184481,604257032,1073075953,1654280043,359149335,256765250,1060902644,609184130,834937442,-1576845739,1069504042,1785475418,-273070345,1931182204,649207187,547527720,758947206,1759473212,-1111735174,1860236299,1871420346,124012587,1030440143,320632194,-1312014076,719656591,1314673861,1343080263,855897211,2030362277,-1407361295,-556731386,1597838441,-1153565366,167236805,-1593009220,-2129613917,829378621,298967547,499382959,2010011042,-1231423422,-144558785,-1780979558,1845132926,-652875878,-2086573562,735493567,1418256171,-168678590,-348343990,-790560670,1429440218,195484944,1144192053,57286612,-507334727,808374923,1146691465,-1931728299,-1841789823,1146566613,-2030100683,843183105,2098683494,1489202076,186071575,-1079709666,1859999161,2110810482,674360350,-1612935931,1772407801,-260646280,-132906335,490366107,-2051665959,-694571409,2003423630,-1069617511,1970441900,1405991758,1654701013,-2055896654,594156898,-552790511,218183825,-1161238316,-780249463,2073471708,-2144269075,7102540,-1964995217,-363011980,1912162693,-1640611896,-1959049911,-758164839,1912510143,-176689317,1075574683,-1856072759,2139905229,412468649,-282783553,-1385869014,-194220096,1576876926,716978668,-7781377,1473483845,445687604,-1010128914,2074867991,647900547,-353729458,-800025306,1570951165,1363353650,1146525712,-212134476,762982937,762982936,1935438699,-217074494,-1632323105,-929154819,1785379530,-1166985058,-319630844,1219579077,-514823602,-777627889,-224002310,-868051521,-2100682371,1808089353,-852368019,1578502500,-223800407,-2100884274,1554245273,1745921439,971264423,-342545411,975177110,1350921104,1425558158,-841590218,1321175738,398106660,-1926819128,-544177523,-1395368148,-1918551590,-417094148,2049397802,1990541548,-333344300,-125116855,563856935,-667085384,-1682092917,-3658003,-1560982923,2136739466,862242110,-522994873,946809346,1392754720,1486312056,2025430100,-2041560715,381082627,308238143,1827768791,1613462688,-870788636,1427650432,1377572022,-1181945288,633034450,227425018,-1459124045,806242001,-484914923,1272639203,1603412700,1276633227,-114677632,1364485254,1403102505,-834149589,-246092240,795082889,143116590,1206298680,679287915,-2089595194,1174492887,-455144248,-849669662,-1349842479,1840360581,-429372807,-1777762149,878832737,-259234985,260596363,1614395379,1721998808,-1415189173,-298466617,-1328250990,1278802333,1206173828,-1921789440,-1415536623,-1213726426,1852533890,1477863386,-1142929509,-1093405835,1201276097,755100265,115588597,-548518100,-922467368,1697785788,362108990,-1898981385,-792452977,970314795,1434425340,-693587880,514850215,305562327,421550587,-585430027,-1113268613,-804473453,1919570346,-586828191,-604058041,-780713039,399668161,5346660,1923460101,-412593405,-1012245973,-418577906,-489523811,-1119531856,-761088517,-1567499596,531461644,190522159,-451449469,-1271480158,-107503351,-91346964,-2050194819,225867640,-845970681,1964097212,-273980088,-2136751567,-78403188,1023659939,1185711057,-1555372608,-1758236813,1152152386,-761213369,-886991958,1772976259,159946492,-1113342307,291457575,-1041073457,641498912,-2011012851,-1524837033,1421740921,2044171967,-1485873855,-2042086044,-1185616844,-1146026539,1643114225,-1945133888,392130344,-115824493,859290382,1878127272,1609050031,-2054259353,-1226808135,-505560440,-834867863,1946211441,-116452936,303364312,-1607472210,-44792974,-1223136046,-191213817,-1580995793,-1058209574,1914249918,1171026388,1346480378,334742044,1364527946,1996690651,1448277794,-2030358495,-1410628256,-797115303,1958723742,-443867263,-779845492,-2137182501,225819586,2001798513,-1653186972,-1166134669,1856325763,714760328,1011464591,-1515345970,374182064,773326080,2032693045,-1867748837,427695270,480251484,1804811067,-439789348,-819273056,-1413181532,-1841977396,394306556,-687775859,986066935,999291282,1992669988,469067437,197377879,1927294323,-1189584035,1104600558,2004784796,-1141410279,540013342,197502731,-1152008226,-1401054544,1496793538,1484666550,612511753,1682621770,1773758683,2091967226,1350933614,1766371618,530175109,-1602477020,-9212575,1824938135,-540037825,267676048,-1253862386,209435487,-93783904,651208771,1953647909,183050797,-1443744404,1886063455,876322868,497279764,-1279241618,1496788568,-679153788,117532700,-230189483,1910267644,1632341364,1614712894,1593643795,658119864,-991685765,1884340942,-144585777,-845720273,1433280311,-436436799,929742156,1188867013,1567872354,129365803,-1383102484,1256046830,1884233597,-1075435613,-276155540,-1032663966,1723265823,947233327,390557447,-1307806532,145229660,906573864,1751192565,1750845115,1410062415,923339762,2139879985,1639080373,887775447,2057771925,1449581859,486127597,1635865240,949111203,1397726729,-1463901032,-1596903663,-761099260,-2130901980,528814348,1442616108,930595379,544334421,-960160313,-1288802037,-749915213,687689908,-1032788818,1623691931,-3082448,408943850,1160310719,1991765360,-55061306,610862890,-949146847,1091895345,-341188103,523363963,-2008407206,579223291,-1337971585,1014345227,-27123449,-232265645,-835860141,-399278139,-1194484478,-353315091,261627121,-73552060,988466120,1780670190,702125630,1422920668,1114090941,1621981721,1350292163,-821489998,1715994379,-1984569523,-1458327426,89732452,-62272564,987779872,-2040025010,-1952791046,2098332852,1196958798,-699065118,-752168404,1735135723,1056746230,320439850,1765030778,110080545,1999817122,-1466348582,-2038769412,1931830661,435811675,1853225155,184915226,351434693,1672817312,597939642,-375926448,1684990621,-1286166721,2139565645,871424749,1637227122,17343875,-546458886,1931392432,192573533,-827995444,1758585089,1208705340,-645933406,-1458466677,-1268828912,-1549005765,-1528004281,459928755,1092241921,-1248699282,1903570198,-1958596179,-1958798082,2038595570,-718437059,-1533740458,-1885874008,1331996705,47512127,-1019294244,-718561911,-1533422674,1446852110,-1019295737,1015358039,-1676844840,-1956275162,652540793,2046733362,-446872353,1766534392,-290405499,-2127184488,1915872359,2058860350,-435688306,1074883297,731563885,-1533393008,-1461702430,-871812784,1642326470,-142104747,-521633234,-1966642251,-426270244,-850137360,-24426679,-830740404,652627845,1037337394,-1168380418,2046250774,-1810309670,-1414775651,1478333643,-1533396660,537023526,-382226192,-1126226104,-697356120,-1698628155,-28525801,-216761693,-767166878,-1586818235,-160093279,956467460,1912387342,-384225274,-568298607,-1829481312,-1242904856,1559534178,126848694,1135230444,1475784330,547952341,1087687704,293801045,-667922285,1828611150,-129970487,-1243106057,889683002,-693646746,1730125034,-914526578,-1182657390,-736803688,1223736479,665353147,-453930083,-307095251,-216038961,1406967903,1904463773,-930060705,-228165949,1645106414,-2047873156,-855505010,1632933105,-394168225,-2070771054,113470454,816465137,-417598396,-664175183,1233026710,507995868,1197407486,-244173414,1556471649,1532837765,-465114130,-857008928,-2094220420,-689472595,809840357,73447397,-736678836,1988213621,1014263559,-1609828372,-814622033,-539875011,533767309,-1204462263,-2093295596,2092712252,-956893885,-52527123,-814507054,-97940695,1143391748,443264390,-817034067,1150945546,40283426,500729859,-1337055501,737047030,-845580247,1813313752,832233072,115044307,186704269,-857753556,-894966764,695016109,33125723,453422578,-2029578867,739601162,859359401,1174723098,10888953,-22892237],"githubPath":null,"filteringEventAttributeValue":null,"filteringUserAttributeValue":null,"filteringConsentRuleValues":null,"consentRegulationFilters":[49,50],"consentRegulationPurposeFilters":[-575335347,402384271,1415613907,-30376365,549697375,-574565342,1899775907],"messageTypeFilters":[1576],"messageTypeStateFilters":[49,50,51,52,53,54],"eventSubscriptionId":68830,"excludeAnonymousUser":false,"suffix":"v3"});;
; window.mParticle.config.kitConfigs.push({"name":"Appboy","moduleId":28,"isDebug":false,"isVisible":true,"isDebugString":"false","hasDebugString":"true","settings":{"subscriptionGroupMapping":null,"consentMappingSDK":null,"userTagsValue":"true","enableEventStreamForwarding":"True","includeEnrichedUserAttributes":"False","userIdentificationType":"CustomerId","removeEventAttributeList":"","singleItemEventAttributeList":"","setEventNameForPageView":"False","serviceWorkerLocation":null,"softPushCustomEventName":null,"abkCollectIDFA":"False","abkMinimumTriggerTimeIntervalKey":null,"forwardSkuAsProductName":"False","enableAttributeTypeDetection":"None","includeEnrichedUserIdentities":"False","apiKey":"c68e9441-4288-459c-a530-e838b2ae2bcb","cluster":"03","addEventAttributeList":"","forwardScreenViews":"False","enableHtmlInAppMessages":"False","abkRequestProcessingPolicyOptionKey":null,"abkDisableAutomaticLocationCollectionKey":"False","safariWebsitePushId":null,"abkFlushIntervalOptionKey":null,"push_enabled":"True","emailIdentificationType":"Other","sendListsAsArrays":"False","register_inapp":"False","abkSessionTimeoutKey":null,"bundleCommerceEventData":"False","enableTypeDetection":"False","sendSessionInformation":"False","doNotLoadFontAwesome":"False"},"screenNameFilters":[-1255833128,10338573,-1053715231,2002404,1855039444,-1139483569,1169427058,-1011350222,-1215891916,1912453353,546358567,1749756104,721167466,1741183730,-156246984,1474512683,47537423,1318139590,1406309676,-1035995335,-1203568067,731319692,121226515,-1241486416,-1764573497,1217185536,-1257263023,-1170577796,634003138,1539],"screenAttributeFilters":[724650483,-1155154498,-1677735192,72804585,-1495736683,-846469700,-1986616588,-1370110441,-1399642897,-1654774718,1288240999,814169002,740504548,-221685235,186836173,-1313241384,1131651364,-689575454,-1954415793,-1578786419,-1079992380,-1365904497,1513617026,-697891613,-1970050866,-446663956,1897094661,1980959373,-1708436636,-992596909,-1466763426,-1990016122,-279845621,1834624679,204328042,1965698401,-1438695152,2081424362,-370326457,270875156,-492852931,-1642097713,1261098130,658992810,-978759656,-1079544519,1470387819,721561712,1393324235,-5312071,-869813373,-1682072574,1678521482,-1587043911,-1153322695,-1976208861,532873070,-1158318614,-550585861,-490099094,579169132,-1998548762,724813259,-829037073,872835106,-1634521229,-665745668,-79776057,1870267685,1188197676,787153869,1700238063,437932249,-1134832283,-1362861169,-287145169,-1075647573,103612125,-2100921930,956904051,-1416064178,134182320,892118420,-1798419875,-953894026,45964428],"userIdentityFilters":[2,4,5,6,9,13,14,15,16,17,18,19,20,21],"userAttributeFilters":[-1571311296,-803333011,1191863240,-875629260,458536417,-947203468,1833988391,32226179,686444163,-268340861,-268340837,-268340832,-268340829,-1532676622,-1532676590,-1532676587,1195570420,-2108060109,-2108060040,-1592022591,-2108059887,1518546695,2024277562,2024277567,-1597268708,-1667861141,-1667861074,-1667861042,-1667861020,-1667860989,-1667860918,-1667860893,2034231413,567707097,1711067059,-1532676804,-2127651165,-1532676556,-2108060012,-1144468423,712808317,1262539571,2024277568,2024277593,2024277653,-1667861135,-1667861110,-1667860955,-1667860888,120609,1887631760,-268340894,-1532676808,-2108060134,-2108060079,-2108060008,-2108059919,-2108059917,174110993,-1436998120,2024277594,2024277657,-1597264503,-1667861138,-1667861082,-1667861047,-1667861043,2024408012,-1667860988,-1667860891,882475500,1788211212,-799739651,-281534822,1905586305,1436235803,105508662,-725506318,-268340868,-1532676811,-1532676689,-1532676651,-1532676562,-2108060042,-2108060039,-2108060017,-2108059890,2024277659,-1667861104,-1667860921,-250233543,-1793447609,1542869278,671683378,-1325859129,1391802673,-1453031714,-1762532522,435447991,1874684019,-1957550278,-2118126913,-261992898,782144144,781942241,1334482919,1372303645,-1766102505,1216985755,1372321904,-1026591604,94981349,-1175066470,-2107390546,-1620872251,80219570,96619420,-122439311,1286277342,29046664,1843485230,1952847787,-1643419514,-1948368375,-2116131091,1015336383,-268340895,-268340834,-1532676807,-1532676714,-1532676712,-1532676683,-1532676623,-1532676618,-1532676596,-1877511514,-1872762426,108061298,-160985414,-139876197,-75273217,-1459073978,-1106578487,-268340866,-268340862,-1532676775,-2127651167,-1532676684,-2127651166,-1532676592,-1592022595,-2108059946,-1597268710,-1597268705,-1667861136,-1667861080,-1667861049,-1667861017,-1667861012,-1667860983,-1667860894,-1569580464,-1530109293,2014286769,-2052605715,146164034,156187412,-749376737,-127501243,1951246778,-973603221,-268340893,-268340835,-1532676743,-2108060102,-2108060046,-2108059981,-2108059951,2024277689,-1667861044,-1667861011,-1667860950,-1667860923,929602583,-837416670,-268340830,-1532676777,-2127651169,-1532676745,-1532676720,-1532676713,-1532676627,-1532676595,-1532676559,-2108060140,-2108060138,-2108060077,-1592022592,-2108060013,-2108059985,-2108059979,2024277561,2024277592,-1667861144,-1667861081,2024408011,-1667860949,-268340892,-268340864,-1532676718,-1532676680,-1532676589,-2108060105,-2108060078,-2108060073,-539286774,-1601050940,1497702171,336473093,727927896,-1089418479,-1532676810,-1532676782,-1532676749,-1532676748,-1532676742,-2127651168,-2108060110,-2108060075,-2108059952,-2108059947,-2108059920,972226558,-1371691896,2024277590,2024277595,-1597268707,-1667861108,-1667861013,-1102636175,-396734289,-1597268711,2024277566,2024277654,2024277688,-1667861079,-1667860957,-1667860919,2024408016,-1532676711,-1532676658,-1532676654,-1532676626,-2108059921,1073126342,2024277564,2024277565,2024277598,2024277655,2024277683,-1597268706,-1667861106,-1667861075,-1532676563,-2108060101,-2108060070,-2108060048,-2108060009,-2108059922,-1206643116,-55577561,-1292298143,2024277560,-1667861078,-1667861016,-1667860920,-1667860895,-1667860890,-820075192,1043877370,1031225197,1151637944,-1532676744,-1532676717,-1532676716,-1532676655,-2108060139,-2108060133,-2108060106,-2108060071,-2108060016,-2108059885,-1064962472,1596787151,2024277559,-1667861077,-1667861045,-1667860926,-1667860889,-268340865,-268340831,-268340806,-1532676778,-1532676751,-1532676746,-1532676619,-2127651163,-1532676564,-2108060137,-2108060135,-2108060132,-1592022594,-2108060014,-2108059953,-2108059915,-2108059892,-2108059889,-268340898,-1532676715,-1532676682,-1532676594,-1532676557,-2108060045,-1592022590,-2108059955,-2108059886,-95713626,-1667861111,-1667861050,-1667861019,-1667860986,-36172191,970113298,625365984,-268340833,-1532676809,-1532676781,-1532676776,-1532676686,-1532676652,-2108059983,-2108059977,-2108059923,2024277624,2024277656,-1667861048,-1532676620,-1532676593,-1532676591,-1532676561,-2108060108,-2108060103,-2108060072,-2108059949,-2108059893,212584092,2024277563,2024277599,2024277622,2024277628,-1667861112,2024408010,-1667860980,2024408014,-1667860953,-1667860927,-1532676588,-2108060044,-2108059980,-2108059950,-2108059891,-169250520,-265713450,-1630786612,1984153269,-1018465816,-268340860,-1532676780,-1532676719,-1532676621,-2108059984,-1592022589,-165711374,-1206691430,1528395168,131170300,-1597268709,2024277626,2024277686,-1667861105,-1667860956,-1667860954,-2140558788,-268340899,-268340890,-1532676649,-1532676565,-2108060136,-2108060104,-2108060047,-2108059978,-1592022588,-2108059924,-2108059918,-556693456,-725254694,2024277621,-1667860896,2024277627,2024277629,2024277630,2024277652,2024277687,-1667861139,-1667861076,-1667861014,-1667860987,-1667860985,-1667860951,-1667860922,-1667860892,-268340897,-1532676650,-2108060076,-2108059982,2024277591,2024277596,2024277684,-1597268704,2024408008,-1667861143,-1667861142,-1667861107,-1667861073,-1667861051,-1667860924,-268340896,-268340891,-1532676806,-2127651170,-1532676773,-1532676747,-1532676688,-1532676685,-1532676656,-1532676653,-2127651164,-1592022593,-2108060043,-2108060041,-2108060011,-2108059888,2024277660,2024277661,-1667861109,-1667860984,-1667860958,2024408015,-1667860925,-268340863,-1532676750,-1532676681,-1532676558,-2108060107,-2108060015,-2108059986,-2108059948,332303147,558196545,2024277597,-1667861140,2024408013,-1667860981,-1253637269,67328077,2020649511,-905826493,-1532676813,-268340859,-1532676774,-1532676687,-1532676625,-2108060074,-2108059954,-2108059916,281149586,351353229,2024277623,2024277625,-1667861113,-1667861018,-1667860952,1716276844,1240298052,-1874176524,-2127651171,-1532676812,-268340867,-268340836,-268340828,-1532676805,-1532676779,-1532676657,-1532676624,-1532676560,-2108060141,-2108060010,-1592022587,-626487182,-1299051985,2024277658,2024277685,-1597268703,-1667861137,2024408009,-1667861046,-1667861015,-1667860982],"eventNameFilters":[1510811912,1068406949,240719405,-812578662,2018909709,-150997144,-172505940,1646001894,1706381873,1474472954,-201014632,-984898629,-1737715686,1786219045,-1726830677,1358236610,2029234026,1663745677,-1059072988,-1857248639,1486708977,967619494,-239187730,2123437006,440320878,97417185,-417601226,-2046076773,943587829,1774217185,-1066814959,-824461217,-1309875585,-1530927694,370219313,-1747255277,971452055,186915126,2096620524,1856276854,657973127,416208586,-1327653589,201325451,-310408205,812894396,-1280761428,1051534778,-1605733172,1779346754,1911584711,1960449984,-1687198419,-1767153751,-1589109517,-673147288,1417977541,-846697158,2016451234,1473735259,-511859379,-1676949044,-2131912937,-1306935450,1161002535,-1719351538,164851473,1899625166,1642621179,-1010834688,-1082159225,1072351970,1876466837,1484846760,-609830743,1234377734,1782891,-2027553787,-1674948909,65261958,821419138,1182377340,-755728868,-1365617759,1885508460,267842464,318953176,1733687479,-1323693817,901125656,67672061,-878178991,-550768808,565187854,-1598253162,1834292462,901333808,542113096,705199650,-740676751,-814693902,1920270417,-979375392,740514847,-398492773,-1344684854,1073845440,-717486000,1830605306,-1061210730,414544928,1576706640,778052089,1439165120,-1691507490,-890948060,-1139953475,-1465244360,-1962682871,559762426,2118287026,-1588178197,-1391078810,273810543,2076650415,397672473,690207148,-109180619,452655899,-1142160888,135887826,852112410,-1278542248,-1854164749,1024720954,-430697643,-999668236,-46778775,-447685846,1010639316,719181706,-1072155885,270488202,-1410967134,-55523739,-1432067066,-448573410,-155308149,-1760926494,-755721523,-1618847771,-107501982,-37123497,-2071428582,408985195,-1163201655,1578840273,-1535579643,-1339814600,-498653293,-246380120,543913334,-1204694389,-995912719,-848684000,2051492084,6651434,-2005557111,1074535386,-778020967,-753048137,2077011921,2029418112,-1202887962,1421258568,1288124016,1306494341,1205792535,-1766891609,1678956960,-972138045,128740736,1977138365,525572141,1079837396,-2018225054,-644707765,1406077779,-941885471,-578789384,1602831429,-1458276551,179055253,420535762,640878788,1345459280,1327883786,-1682353858,-423444986,1297704654,554652287,1010363769,-1287309014,41937390,-485427716,-2026104416,1938307277,597083050,-1729715723,1897553369,1016434905,47923475,-1462502751,-82668032,-856705846,16811440,160551499,212015228,-1899979758,252254673,-957834076,1132834620,-592986428,1790218703,-1347005195,-1089825670,-1027237232,-1083366987,2073437850,-1860482751,-1273475305,96449783,-1017764455,1622608990,1079423478,786689086,-34352408,357112627,1260247618,-1964475389,-704236942,2144736991,378402908,2138427027,250894540,269801983,-2093851173,1700124002,1701861703,-1959781791,-1015698153,-961364219,-1036813620,-1391244921,-578619792,-1947840018,-594995127,2019278436,556051953,422106548,-677168564,-1228231249,-413816063,-803575889,-67283932,214257388,-1269909335,1457926920,1522752920,-825507987,1522833075,1005917565,-1780248337,-2006363877,394294530,851139792,1428883623],"eventTypeFilters":[48,49,50,51,52,53,54,55,57,1601],"attributeFilters":[-1200223765,1311943328,-295139053,-251699632,-878579820,-984211198,714926461,727053449,-1727774621,-1643528395,-227519243,-4776541,-2108716792,-1597643947,753009524,1508877132,1480674457,481319966,727565287,1706639659,481444818,-1193690486,-2075690265,823955429,-239564980,-1117654326,759021594,764193571,779194001,-2033368625,535691394,312928476,-1167471642,1039391412,914866751,-121099313,2083066270,-573298477,-626620079,2059565303,2092505659,-179320306,-983278835,2022496368,1156597532,-1276394100,-555674174,-93475066,1205900024,-908451316,-669699965,284266796,-93676969,720295385,-1091096918,1746268011,1399819288,-825681132,1693421484,111673760,1511762357,1614121086,986803046,1258425338,-1127850892,-516751543,1454658273,-2082050517,-335318960,-118823808,-317690490,-1833676199,1928410893,1562895612,2074376385,-1102079451,1844661045,-1506856233,-1429157777,-2112203638,1603819561,649425524,-1707426856,1953309669,-598766134,-1685076885,126020049,-720828312,2125609625,-1181663832,-661066454,-951948492,-1635359354,1584888534,-1003701917,-1408841192,237976386,981442640,-732012359,-766024228,-1396714204,-872914860,-1097913984,-1622587599,1199161445,875390726,1931634663,60254535,1343062869,1387821528,983791579,-1279121137,304267676,894887048,-491769134,-1736389382,1137179919,1117995104,1651826547,1694220003,-31701563,-629466217,-430405164,-1301372203,2099163451,900041731,482423930,-1525041913,177255994,711611416,-1598221369,-1049902817,-2035996641,-1578171179,-212500176,-442562749,604250481,-1063198731,1368585209,-1569250983,778191253,199473699,-1423285491,1626954821,1619620959,-1653000831,-477055859,205089582,1936878575,-513508654,-1536324271,-410420834,753064087,85616515,-1670298577,-1824812255,-2121439653,-1659242076,-86814698,22156028,853993949,-664733773,-1742991924,1326653842,1237270284,1179036544,654932896,161813518,948857131,1754167673,1556758796,1784005005,-659840753,-1554206571,503507350,-1354149071,-1611353635,1789752041,-1530183534,803687662,-919611164,-1778859547,1100713621,-1565390618,1554830073,1198213076,243864605,-1836955324,-329108326,244212055,1184463469,-514245055,46616198,749341533,1913953687,625383115,-1606506438,1322899275,637510103,1328864871,1393352501,219812008,822278113,1792382931,-1532762890,819207735,746432561,-1764451671,-142413918,-1640151499,1223984517,-1062511300,-845162234,-124404825,1685176780,1825237798,-1962322057,-1064046190,-1837080176,1567003382,75633419,-1139241265,-367512214,1903854768,1380857964,508322345,-1130353332,-1937493756,1595164067,-139322136,-444411357,-655781198,-1855727808,-1877402221,1709660759,1770864269,835110242,1204342273,1107842310,-1159928283,-1490227844,197981738,699080566,-2013926928,-155565871,5528273,-1074720320,-990970472,-651079650,-1393111766,137444687,-236834302,-1094579593,-193532780,-794519365,-2064698082,1028969514,-1858894842,1407761367,-1531771734,-1091555496,-1531255305,1208700314,1220958198,-1864428931,1165957318,1105689060,-83420024,-922637483,-83542854,2146519366,-807918347,978408402,-903908690,-1596649022,1384008924,2088325513,-1356316776,-1657434713,-2093679992,-55082426,-547547350,573307948,-1330244325,1315964381,1945781461,-1735085994,272090626,1585359813,-1729700493,-927855984,1304079793,132242772,-89680669,-256918150,-824433088,1847639128,383330407,-1399640662,1884972901,-439521328,2096843264,-1649864433,-1143487324,2013093416,-1470586567,-2110105753,379780577,1456056595,851851089,818358766,-2094726865,2033257441,-986066143,-1800604125,950086430,-1820246867,-1531138116,-1740360317,564301542,1766165644,-1759371332,-1739398480,2052961355,851434260,-1614230615,-574710864,818233914,1730730135,1753992335,1876695627,809866320,-1357878564,267709191,1015162591,1646980287,-652842924,-1674966986,-2045711822,-1404757695,-1205400163,421929809,1089923472,462010859,-102284108,1779943576,1795463649,2072188631,251456184,-1951089107,230907264,-1880143202,-1762082738,272831163,-188346852,-1960938130,-851674431,-1377260797,456872466,-2025849988,-1308759945,474644412,-680785884,-2056967437,-1288301084,253318925,-668658896,1944188936,410155552,-612548788,-1939905060,1890920339,10313731,1844769116,-1635277325,2072313483,-1337479783,-2045184356,2045250654,-1405974604,615131257,1662878959,1166336777,-1618562628,-1611434738,-441217553,-1954070201,846952113,-1682380643,-1138066378,-1286381462,-407224400,1328015326,1881510316,-1262282475,-1881441696,-1671196596,-1590232103,1330503354,-1953945349,-509901906,426199140,-1318636239,342449292,-193683303,2042549158,25141398,1537483915,-191713273,-2087793467,-1917117821,1934501251,-1757141524,1992527543,192043130,-196078339,1584796908,-890750704,-664785502,941970398,-1393847616,-1820379779,-2023339410,888337784,-58327901,938175096,1043297599,-1644334069,-1275146193,572164632,-652612193,-1700009113,1311513449,-1972147090,1243769100,1991175796,1495753196,-1621035561,-266224621,-846464653,-387908596,-595858288,-205451787,-1739045006,-1272976396,1531617170,-1095255783,996611609,-923684709,-1870350394,-743874760,839472517,-547070935,-2091812409,-857771474,-632102047,-764525624,-2087143525,1187735583,1412617432,851645826,-62859743,-401364149,-48785013,1982365905,-743999612,-1816320720,613507315,-472310054,-738754183,506060261,-1159051038,-715851895,-1143530965,369906539,-16727890,-91563130,-808064474,-425388271,619777001,848658391,-10468934,176875637,12016217,893107422,-676087462,875450350,-875148515,-110044705,1103783038,1649112138,1072887239,1648910235,-992895752,759308369,-414552236,-2126783316,429954408,893099344,534277152,1163106302,222805443,-1600632110,1415988139,1769600403,1499593445,-1689273431,69731446,1226794945,-1024407211,-1024609114,-2022377273,106952206,-133690733,-135822502,-1276598936,-229875884,-449041578,-1722305650,1093367896,1608137319,-1119108388,-148638736,-688187293,1680765824,1269494333,1879826877,1122651596,-1849697799,2066264156,-1254434623,-1823926358,-1486008638,-499214642,1332908258,2106835360,-659945650,-449700550,1466868429,-1133957188,-715265636,947623110,-332268959,-565734314,1340849516,-460884597,-975206660,-1108888435,262891010,-732574155,-535645478,-732449303,-1156691242,-2015778827,-1969564025,1674077690,-997053632,1571046769,-138370531,-2007966159,263238460,265308629,1322705602,-1473318579,1757827538,1393966256,-1528719503,1202847558,327445257,153036919,-1069113142,2050744083,150740260,825028843,1231927058,1558873460,1989840760,-9353766,-648509525,1838898162,1386064481,878541861,390900349,-767033585,-919590322,68258168,1442466972,794792013,689678908,-1750867919,-708904643,-828277564,1585125534,-188825436,-351178531,1043603529,243023993,360232333,136618429,-1296451582,-1773180804,-122766930,-1938218779,1473241144,-2014753186,-1097390529,-39017082,865927408,-1981067320,-1957553004,1291805123,-385865758,-1829498870,397735715,-1913248718,877465479,-2124095330,1463638754,203942825,707798297,41954113,-146054550,593378184,-1314157289,1331610562,1288227324,-231179111,-863293325,936904765,-1010525346,120192977,-1462689052,294014223,-1011162161,1409362959,1161458552,1541903158,-458516543,1106098126,496673879,-660477218,-1906075358,-740151120,1694346823,-1572761687,947752168,-2018483619,1550189400,-1167984905,-683328284,1278499842,418222023,1671941352,1278624694,1640095729,-1284746863,-662369942,192256821,-995725810,1022791013,43353323,451413009,584033614,1621849362,1272456400,-687571256,1778593049,1589723796,-1534582753,-1332059856,1413353077,-1668534503,-1235786516,60447020,850856836,1664655455,1808502479,2112418362,1475428519,1621135305,1329817992,2040554782,391991662,-87436820,1580905607,132119796,129855426,1263597713,-1384515077,1351128347,-263760530,-1332659026,-550638045,1793211332,797751297,-1750087532,1163843938,-246146071,-1346219948,-422199255,697930814,832515494,1019007226,-1915827906,1304999408,-1288234988,1749078423,-1001522738,205906786,-735848106,-945724377,-56548443,1638592970,979696458,1376087125,-824160027,907384315,-1005486235,-47107126,-1288359840,1975043625,-362142447,-623143085,-1469635411,-1391430644,-1896175831,919511303,139979109,-1048934836,-1016670282,746981619,342286346,-752047458,-1241149097,347921142,-1695089826,-2025959655,1113336907,1759138332,-1690715828,-385499799,982249990,264218551,-1558647735,2101802549,-1497716482,-866007255,1400328550,-1797567969,-1818835992,-567955890,-701844177,43811172,1404861922,1846091915,2140439496,1475583416,-1824507385,-480026669,-1815308089,-1443288020,1818686809,-625992161,-744687892,-1445258050,2034684842,-1762721090,-1876323668,-594756601,-1755546231,-353088731,-1898655954,347960421,-1706565746,-2098056842,2012533617,1245153064,433102185,1412307921,1434840114,-1901253017,-2050472587,-709742009,837878967,833529283,-1826492136,1946539689,772815925,450909153,-618658008,-1244904236,-1457026534,1020052585,1220467997,1285689364,1328428077,-811969392,1323061567,-327534584,-187775774,626956857,505349297,-465459053,-648272913,-1227771161,810357689,-2015333600,-252607034,154859689,-649187911,718926894,1685304245,744031987,-1220704295,41494842,-1401397395,-493041788,-1952205550,-1360367887,1877185804,-1471709300,-42255006,-844313817,800298415,312772434,517488384,-1092234149,-960595427,-1664847413,-1058779078,-1008484301,56728047,800279137,486524202,255789100,-51491869,1006588064,-135409703,-471533472,1805016947,1432684296,1825121092,1567266545,-1165891,1908870940,-800391851,-172313830,-999452904,-1863132890,-1484990844,-1922587258,-231526529,1315887543,1594862196,-548733485,-243023179,862258939,1853680471,-2111905178,-2031968356,-46427770,-1133177125,-1656568411,-1718540765,-1228642322,-1963351924,1895816036,-1643779884,-1026117146,-1664649272,-1633576079,1711010965,-1042859257,-409270827,577545801,-545597819,-1655863844,1433236024,1708228812,-375536818,2103575522,-1207093713,-223758704,-1263216817,1999965845,1432249976,1349486176,450753632,1223726725,-1786380242,1417532234,1481225925,-351531051,388011509,968760383,1939495337,-662369756,2146753462,1903833676,1639564375,257453752,-2100288147,1423039014,-1323479311,411967430,-1432401769,1223977961,-267781203,-856587625,1477902653,-1503006236,-990712530,181003397,-1548767185,-1439844727,-1676488187,1466718606,1195153900,1164692816,1779581682,-1241366251,-302667455,1267657553,1668247237,-2050366403,555398847,2143093884,793537358,25269644,355945274,1391957725,-1116669090,-1335553046,-2126101971,781364049,1195029048,-1560894173,-931347609,1116263860,-1680332151,1988738382,1748568470,-1878013294,-1017441249,-915879942,1965604987,829004707,820475983,-1325116099,-1608740979,1764088543,-1436132801,1668594687,25627684,-1180927015,-947428810,255557286,-252782402,1568149369,1307874292,865604659,-593082374,-1489235979,-1780152242,-376439507,-1230177563,945526456,1610530293,-541735776,-1125828581,1867188024,1598356984,610610415,1395796260,1860830323,-958612857,328305026,-1724066862,1866840574,-1965473723,-1917082275,-1888038395,756027942,2110609617,-1840045400,-1230302415,-149219496,1814590754,229785845,-592581414,702187821,-1157673910,98589686,1422465140,-98887007,1571902932,1037904615,-1033373738,182339534,-567576053,-2123354942,-164739569,-254638352,-375687798,1551395466,1372391782,410843706,-1092832056,-262019394,-1330179239,891517236,211691172,-363560810,1364218008,945516736,1301448653,1902222997,-1333997904,-1547312563,-908356129,-1300715969,-2128436333,-228844826,-663974464,-1172213577,853853858,1582042290,654952454,-707864198,-1424021884,-75632542,792632089,-1225787724,-273069871,393128345,1707178525,46478621,-1621170342,-1633297330,-1508268110,-1397575465,-1505145608,-1813862114,-78593092,947071798,-1148814545,-371564637,-1296733629,-456367711,-1568298335,-715172250,-1285549582,-304558294,-1568423187,-925359458,-615473953,-1667731967,-1624253614,37343956,451699161,-1035338129,536463524,1705347072,843555765,1896618184,385863578,-703584589,-1036362876,1245861934,2018477869,1157972345,-1944174966,2098578771,301503145,-1366865863,-1726332046,1948996973,-2146628901,-49258358,332576338,-722408330,2023817890,289329836,-450961879,-1656205299,-1933998074,900419590,2015150949,-187488148,-1677950155,-234754303,279867467,832273940,1523772188,290132331,-490956370,170249751,-747991319,219186426,-1823915647,714696881,401403015,-1631952697,-778766781,1026210824,2014643101,1081335485,1360650956,-1349487129,-476473380,546230960,-2061869676,809645927,631147124,1152281390,-1552248279,-9473748,1619870142,425732243,1092519532,809770779,380242818,1004474467,2080264344,1983859372,794945427,-2049742688,1278606179,-1909108948,154277616,1197083473,327149754,-1150372543,-1178959053,-1498246804,-1534493521,-1781094802,542893847,-1409322211,320805554,-2117324200,-1499710920,2097830741,1832381288,-1140572619,2133294710,-1760361873,-1561636314,750934299,-1975967434,-1377017957,-664403310,-1659767505,-1786764206,-343638279,2119593796,1687191658,-487988917,-1857199151,-1759124359,682785967,-1147302617,953388104,-1460706452,775479648,-2062851942,1263314269,-464179957,641766076,1186994825,-463978054,1114028992,-1293268109,1127117189,959515314,1497614907,2021343126,-2022676317,1304175991,-1760363366,-1437302534,154842676,782716595,1710440095,-2125509937,-1030561430,-1170850215,-1110646172,162017621,-1994138512,-2029084664,232380737,1802183186,-1400134395,1286409023,-1234364140,1389579075,-349188429,-1068230149,-1141343174,864445225,1201761735,1473328923,-1232580624,-557262568,-1433425193,865925827,-1631360177,-679433495,1004151494,-1434151578,238905864,319519428,933205589,-306533228,-634700701,-845664244,1063591476,226778876,13925424,1364950084,176036139,748245738,522280536,1448699932,944389636,600948112,-727712565,-717581018,-1235622865,858444708,-1726866123,1752154996,981805515,1721835457,-89264709,-277005269,661640883,1469970364,349158022,1812930169,-1833555640,-1076376454,-1187262027,-986846615,-94686567,-1758457655,1731216364,-884050335,-1132028102,67043806,-368789353,991749873,1149079416,1692135324,-1500205088,2030694939,1344353350,451508494,-564108033,-1027584636,584139449,167548062,186265448,-1599997493,1239199686,1527927801,-1089045215,-1432286885,-1174990143,-1157503795,-1843346761,-851909791,1728351374,-216594775,-1349528780,1444177953,-1738560360,255264008,1061222027,1164847134,514179283,-1371793968,-1436967873,-1206321683,1081495831,-407193656,-1029283357,-1612124481,1689386499,-2112596846,1126870059,-1307712151,1969126662,580725777,-1371918820,-783555026,-1100229262,-1201335040,1481954884,1393247886,1603430117,-767663565,918805522,1811242900,-170417419,1105224545,-771355169,558541837,-254167267,1585875535,1694797993,1727050606,-1825996371,1541572596,-1585053844,-686649490,-1179687735,1527989553,2051392239,-1208035605,-1789634328,986419134,434622959,-576634084,-1328982739,-1942699721,-187692401,-1338885752,1137153319,-271442249,-2029971635,1314955068,-2128268164,951584876,1398704916,-1751794253,-1177074057,1201532926,1600350851,1899174612,-1742601433,1562454693,9080168,-154369717,1560287952,1300081918,1843984963,337695340,-526287025,1844384472,1461043359,-1928773687,834528263,-979069355,1379663667,1889699448,-1518804718,-1833181318,-1408295497,974297558,1435805124,918278111,717696194,1848025742,1645323419,-399735073,-1706369440,1562253492,-992423877,-236456533,-908674029,-1907707174,1052496219,453012974,-1354242229,1064669528,-1719573636,559528007,648936012,578671232,-575360918,-64589033,795648437,2091937207,608912955,664456085,1441877884,1759202037,-765082195,-668996705,-1789364165,1990157010,1466523543,-1797828496,1978117550,1743308520,1069232867,-1782800389,-752955207,1418428518,-237551377,724702532,525641479,-1437992077,735886579,649941651,-3833925,1336016228,-279156475,1043461426,-1782452939,-1865169473,809611207,-1105035995,826531017,1100336282,1579032975,-1074362814,453137826,362618798,-771357717,-1232025086,1805165990,-717817807,-91833814,-1307541738,2004227043,-1792988790,131994526,2075172948,1157782182,-141794811,-141592908,182495202,-593659270,1239459891,-1002248303,1203239637,1382677171,1608016419,1466427019,1132350910,-178172868,-986942294,141110966,1612392511,-130213153,574917147,1500701799,499704964,888341409,-106455512,1932818366,-1133926743,1359685631,783662635,1055041563,166562527,-790580368,1359887534,1582401992,-1332987796,-1119839581,952853784,767532303,-1519858435,-1184404866,-1718919488,1277737339,-1278411058,-1791547993,-1089510109,1907468524,-873634276,-1537486905,-56016329,1991218372,1938112302,-135018668,1841957490,-2121515138,1333567534,-821002293,-221622884,1929126595,-437520136,1239674273,-1706651775,-1358343430,-1557404483,527157090,1207250755,94688341,-1241984910,549391648,-224845717,1316173213,1022557608,-770962935,1111290240,-163500299,-1183068286,990977779,-617574595,-854712783,1135874791,1919608844,-1450486838,1895333658,-1382129339,-2106805555,447610393,323938237,-1040081375,-739725198,444371849,-480263287,796851275,-1140260777,-1971368583,-396513439,-504198548,1165799061,1032576924,-379241141,-1839694941,-413201069,-1175745352,643593939,-1673222220,637509051,798137159,-2135215569,553759203,1784314777,-208852221,-673983715,-885835016,528745604,252179694,528244644,-945673273,-873044768,314271293,-1458315386,-1514206223,-1886513051,1442769403,-707635144,-2081699580,-1464392144,-1432391064,658081149,-643447586,-1040099934,2099802055,-1485514532,-842508639,-1448663525,-1947510670,-772890773,1586070249,-1895898114,-1925761522,1831836623,1062616027,35440953,-1458721506,1152432975,-1970262899,-2010521158,-73481505,1116191650,1152452652,1786573523,-1467926739,-1432735361,-1432189161,-1921810435,-2032564284,-2082385384,-1544343153,-318229420,-1720344459,298537432,2036767004,2010995563,-1939438905,2083535796,-2120871488,215168311,1631990222,-920182427,981283394,-1272720861,-2116314132,787091576,-684644272,-1068174083,529185445,541312433,1529156583,1885281871,1602013123,-696817581,-219807380,432536926,798594471,-922782783,1485613819,-735438913,1545375677,2116527188,2076504131,1790347131,-1198259336,1474429772,602468002,1188434701,-1783914694,-425305996,661671965,-1915892209,1202740214,455986292,1399668891,1202865066,-1758143253,-979056422,888490315,911167766,2015481726,1343244730,2111771121,224550601,1392013668,1426994578,689429262,-1926821014,1725890800,1962964732,1514712989,-208478220,1083590257,-1385900190,2025474127,-1614422056,1254305078,-1285047960,1058257058,727239277,137259545,1428261295,-803253440,1180526412,1238881343,652890949,-2081047491,-521835126,2127067256,1338054926,-322774073,1139636750,1563984501,999330964,-475776326,-1840211327,999129763,356988677,-1498480666,2017878825,-1300475964,1522578354,-1333467152,1981463357,1143815606,1573573319,1857533751,1982108178,-1167699283,1020524923,731645618,1655332246,-1793002750,-2072120112,-499237581,-155906210,1719004583,174740783,2079214780,194351429,-1043062589,1625274051,107087856,1525889839,1296185774,1640693906,-1402402127,-1397615416,-1437753235,81777413,-1858621722,-132528690,-521780857,1754262914,841717523,-184097882,-1761608121,-846122071,-1991323461,1893717547,-1054697802,-1222228933,1488940765,-557136438,-170846173,461081979,-882350979,1499502677,287100372,1514082202,615752321,-1677074723,-1233412980,-726358927,303905632,799705632,-1374341735,-1692977356,-348918988,-1162467075,-1907573613,1069695544,1453898358,1487653505,281389976,-279825301,-682050877,2110875324,-1487358771,1190953324,1817378534,-1455149908,1441999003,-849084172,-1129199420,-774323291,1620572058,-816934093,109193022,-1288399163,2026276043,1855630493,-371783549,-1814872485,-900683941,1344381532,-1600605847,265075577,-834152389,-127971503,-211721351,2144293029,-223846226,438654977,665755640,-827573609,1295857149,665957543,89732644,741041045,168648019,391635759,-555143319,815400423,-656073181,-2040816473,-1335971192,-120856936,-2071319418,-754204372,1369508912,445454196,2122627855,1285759064,471838886,1248586019,1094072341,760914442,-1470935910,-47448174,-1957675003,1807499548,214207772,-1157070816,-1532509357,219009317,-237943785,1601683603,-1472747499,476899795,-1543693404,-712014150,-1260648125,1614664297,623357648,1697268474,-1532976307,1589134021,-1815258110,682494258,-1815382962,-442011336,1840629499,-1947428681,1296089599,-1341506021,-1197438012,-1520849319,-1831164996,407448501,-1644928624,574866228,1143098780,93300948,188607339,1155225768,478394406,-1571537556,1816689301,1835982921,1116005288,-49083450,-1334478781,135883795,637412600,1944990932,418632548,568437231,-829308533,-760623839,-1376437852,135758943,-1339334620,863377802,-837126037,1729615499,1270871755,-1775422348,2132304743,-1688407246,1454272587,-1150018963,98287620,1379341605,-476687811,1295591757,-1952023621,-519112937,1847948505,831865433,-565102021,1809015409,-363951287,1771096718,1579872758,1059659003,1579359562,1441289135,1464738501,722620937,288072466,140307320,625381317,906101458,-727177298,1296610809,-291451039,1639121420,328095523,-303624348,-599996964,1568175515,-2013166432,-1165897314,1685692938,1296485957,-989837194,637979783,1493414634,748392378,1438361548,-529589550,849174454,-1707563270,-1197485113,736609339,2127084114,90774584,-1733334711,871161892,269062277,-447845846,1513090057,645196690,-302139060,-1475245398,-1053756064,150178122,-1017594100,-373084965,595933617,1223553718,16684143,40133509,-2127860125,-776710034,-361900918,-644649671,1239014684,1497450718,-644774523,-1330230766,883335201,-418982197,-444646455,1431573772,-1657608458,568376768,236994444,-1558024535,-753612217,-1821204149,1628483942,944408856,-669862369,1957760451,1817271641,1602510598,957605359,1876895382,-1270403349,1628282039,31756867,1249170688,542081232,-1521185535,86200251,625831080,950226401,1732721575,-1180440881,219633886,82085405,-1396369266,-1150423682,176387384,-1924401002,-1885922302,239802209,854841753,854963897,-381333532,1764587461,-1849640121,915539090,-760144026,-1831491202,-70174856,1045029893,-472057596,188560693,-1431641477,1484397684,918113827,-672588037,1626494818,-1114391381,992700253,572403398,-1709255667,-1320014815,-355689089,-800132539,-1545980017,1682669423,-1307841506,772203149,1622123389,-363921996,-710369109,-1559421343,1421707977,2002514181,1532593550,1673801735,-1282014659,-1758425397,-1131684479,-1675715388,-409858515,-1118233686,-319237830,411379315,444631694,528381542,-1649394918,652569708,-258538692,2089445182,587892736,898127545,-263024979,-1089193158,2043390042,-1560163862,-1337443334,490544752,346982208,955482304,-339320230,-427819770,285693640,785890309,755149320,-1556273782,1209090049,1128977598,-1009711456,1873798047,2102440821,250048255,-397504881,1152318587,402645848,-167789541,-1030054452,1427577023,-1804383279,-1662668658,-313755033,-725751842,520736354,-2147018742,-323756179,-1875329184,-154728527,2042118781,470758368,390199051,-913718251,1127796876,1127295916,-1112779304,806535936,-1185407809,-271148615,1642899942,164537817,364953229,-265928540,-482510435,-974507057,-416635126,1672059392,1025543057,-864674739,-764906311,-460999680,-1171321191,177536373,-1798191869,306595607,-1870820374,-1599130816,1862588985,-742910467,263363611,-2016334955,-1589692975,1973474558,2063004397,1411659360,-349700028,2120150590,180537002,735381143,990304390,-91594590,-1636552345,-1114033727,-917597955,102387120,102344820,1868462578,892067176,1566794738,1854608445,-835813898,1439559908,747118704,-174663538,2073528890,-1761554129,-132562643,-618905270,-1552484483,291525130,1377686247,608833024,385764901,1111229857,511224110,2004480898,1415444811,638907224,1734473940,568356578,63476499,-50114751,2009031928,1661845435,-2137915483,-1663558447,60376425,2133820360,514554613,-1832135819,1602462351,1858774112,769576301,2142413596,564190342,-1738013504,692582872,-1977445355,838548364,1453629610,-2110495708,1661970287,-523563900,-1926588498,973133360,-765932657,-580080921,1933534993,1660247518,565641698,-459502208,-375255982,1961718935,-1470229585,1113549897,-1262271816,-123961029,2005194955,1039366277,967351953,-1726073013,-664502337,1600891464,-770877619,-1679133606,-2105812115,1453429644,1800955513,98754716,797859895,1717205665,1602275854,-2144205810,1550626694,-1347206057,-1800635746,-875199930,-1738200001,-190103784,-1619835008,-1502234182,290148882,-465283615,441390179,-2116277115,-1827705198,-1221476781,351379100,370444274,1447848203,-1905433682,1308002173,-9057546,-775030538,-656774240,-1147337735,-1063091509,-1180030689,-1609094760,285297833,532139705,-96261462,-1760384583,-2000618557,-928989088,1744811903,-1746124799,191587891,-1441516294,-2064356682,27755793,-2043258188,-1452931739,-1771568630,-2043133336,-1774653355,179460903,-1700622725,1561366942,-636748968,36121797,441334998,-637215490,-680498923,-1215499859,-662240972,-935294001,37222,108959680,-91659400,-1507343935,740912506,939973559,-1357805610,-1105172988,99333224,-932421027,1198932114,793566005,450312354,-720965338,-722979830,-749498420,1199279437,-264203180,-993842912,-57816235,-543578282,-797923818,-1878228573,1394097261,1910263161,-196811200,-544259988,-1342158906,-1194913635,-1955614217,-1736978100,-1827765785,1345325912,398401948,-949626097,-341871745,100757365,100757366,1575019380,-1918383805,-1342360809,1438200998,1000340223,-994709101,895281207,1093937002,-42783816,1193969584,-447733822,-1666833669,-1007847090,-805447535,1329278540,-894497728,665802009,-734501630,1261576064,1831741483,-1004508588,1491319390,-974763660,-2134141618,-1197064732,639327821,-675457731,465108571,-1053304280,-2122957571,1682602222,-2063195713,75599061,1865838559,541773175,1889260972,-344166606,-8150787,2086064797,-981051735,871487459,622451823,-257240321,-496830726,-905016133,-698858190,610324835,-837972572,-31275119,-497114910,758992965,-1233183606,1594829110,757177837,66603132,-1757380794,-1896560332,-2139387976,215687721,2023586348,-1722651564,-1558319741,833496833,1273977465,-1896907782,-159362070,-134009123,-807142967,941531764,1168283269,1972920005,-694108174,832609306,1336309345,-175551794,-1026026923,-1045480262,1931883198,-1317874782,1622568847,-1192766749,-1547135694,-1740840280,-610358326,-1147719539,1479497703,779112252,300336902,-1110810699,-2087974202,-1349383674,1326621335,429789619,2666161,1564109790,-1542373672,914630965,-1548008468,460690236,-1380584194,778355452,378712827,-1728780887,1046384076,1121144957,-2109671229,-933433083,112337039,-744132161,-580284423,176832942,1234684212,-713058968,1029896787,-851419849,-1469573481,-535499748,-2024077661,-134325734,-794569850,-1861525570,-513136228,1669806148,-756305470,-555590132,-299809443,-1398722143,-1895662216,455668176,-1979412064,1400416767,563829448,779804411,-1622510652,1256675612,15090762,-1112843976,1535088672,-1158190492,379818005,308872100,-1268404041,918141884,-2083800243,-1619078701,-1615400840,55017271,-1110877499,-133616617,37182542,-704498611,-1535328853,11661618,-675824707,37307394,1706010771,-78142180,-47660235,-1156320957,-177985439,-2071673255,1486974650,-1289654878,1644269072,234111219,-752304627,-639808805,82449886,-1422308090,127827056,911741180,1297564142,-906818305,38420354,1576691813,-2061145795,-1800837008,-602966753,-752983074,1782294900,-1506057938,237481407,253260177,-129475985,-1067370953,1613037015,1566097876,2110384766,-44185061,863407178,-2010615406,1135713444,842919516,-548090208,1545079851,-1821440023,1229243746,-797958024,-303701244,-824846488,1662439546,1861500599,445999830,-218870170,103257126,119515589,666310324,-1352841891,-1697595851,187006974,-109947712,-2143443435,180316285,-535353196,-1047889052,1236763468,-878107460,-434222539,1225579421,262981146,2021862559,-812559741,-282803378,-1282884242,650893935,1639487442,-1483010988,-1131638900,154058688,398385118,1193523523,432009979,814488226,2073919208,-653482664,1026518368,-1882279969,588523024,-535005746,1273264155,722617484,-371032533,758719956,936993939,-1719421875,647856603,-646058221,533006822,1594327648,1525725518,-1008558646,-1754128885,1235733650,1131838823,-441043708,-1634806772,-2090528901,1379422855,1023351965,-1322566730,1379624758,-1771576153,1688822951,195314617,-1256035365,-956695163,695891734,-723577743,-1588758407,1654799115,-1895937646,-246076846,-1216374588,-240834931,-240834930,-240834935,-240834934,-240834933,-240834932,-240834938,-240834937,-240834936,-639258192,116382681,-591649950,-751098554,-1995499863,-977769425,-1079519939,961421975,961421970,961421974,961422001,961422002,961421969,961421999,961421968,961422000,961421967,961421997,961421966,961421998,961421973,238075300,961421972,-1209649309,961421971,-1209649308,-1209649313,-1209649312,-1209649311,-1209649310,-1209649317,-1209649316,-1209649315,-1209649314,-1209649285,-1209649286,-1209649343,-1209649344,-1209649341,-1209649342,-1209649347,-1209649348,-1209649345,-1209649346,-885939840,-1209649339,-256646124,-1209649340,-256646125,-256646126,-256646127,1519504303,-256646128,-256646151,-1602136906,-256646150,-256646157,-256646156,-256646159,-256646158,-256646153,-256646152,-256646155,-256646154,1098486609,1699526747,-1400910361,78087944,539448265,744852636,1181471244,-823713505,238073721,238073722,238073719,238073720,238073717,238073718,238073716,238073723,238073724,1781223627,630231167,-785223684,-805637660,-240833354,1124051569,1124051568,1124051567,1124051601,1124051602,1124051566,1124051595,1124051565,1124051596,1124051564,1124051593,1124051594,1124051563,1124051599,1124051562,1124051600,1124051571,1124051597,1124051570,1124051598,1124051625,1124051624,1791247005,1393153117,-1821451832,1885979360,-1650946104,-246081047,-246081046,-246081054,-246081053,-246081052,-246081051,-246081050,-246081049,961552418,-246081048,961552417,-218175350,961552416,961552423,961552415,961552422,1356681013,961552421,961552420,961552419,-1120311078,-126447989,1960078141,-43862805,1639218971,83311653,1959064207,1081530032,227975075,1954341022,1092551679,1579461004,1947985014,-829110456,1944387827,227212397,-50815314,-1569169925,-490957615,-589129208,668844574,2121315166,1216814096,-1057841082,1944650452,1850088757,-1923482744,69356740,1891498428,1364915932,1977125504,-335514618,1944374878,-690618138,-1031609073,458154109,667185885,142834552,-2026969689,-492583310,-1893463358,1188432198,115547777,-1277178024,1851976398,514619870,-610623806,-491142355,-491142804,-102841759,-1993334767,295184942,-1867887720,-490961121,595980183,1953401514,480026737,1953700817,2004096347,1958825836,531969591,-1005317842,977511045,2023072026,401678346,-1566559256,1833636222,1006319593,-1114577634,1178736866,1556700193,-1388296476,1802195377,241316211,165243861,521222586,2146485800,-218441930,-491321335,1189023518,1711806320,-476443794,-585889088,1832422540,1944297621,-1150459269,1361421723,-1746544370,-1064462024,636884953,-1281242935,1959254567,1200906230,-582150254,-711838244,-1274283132,225857397,1456140587,1970471421,252383692,208872262,1870856175,-1611014667,1301691319,1170307558,-50994965,1822231013,1944659334,-1712455533,783946359,-745064255,10780617,1316920383,-2136842010,117568241,-491350768,-87862565,467563016,-2017116902,1954223659,704344942,-491136465,27895925,-936328747,-161857182,1959969087,1941501731,-490941864,1092542276,-700697524,2081451149,-205758061,833246081,2041170440,-2101483387,1886788549,-1024057863,-1083136499,1092543257,1092543317,1941350641,-879666492,1944981051,545648365,1471878085,-63864497,-491149967,-971564105,1576619815,401709581,1887029664,624878715,-491279763,665600266,1961096799,1002676165,-435629449,735793165,1870107721,1956984004,1092536508,-278965874,420992660,1944080618,1960919980,-1645221833,1812285734,1943455170,1092538423,-793293593,636220629,855253522,-1960956984,-1720849978,1162984501,1368019466,-836296108,341177909,523326132,-2118699199,-846465213,-1274590114,1134350131,-876222712,-166010549,-729927022,988230815,1092534381,-1452278473,17747165,-491146463,1935736386,-1220079680,1445860740,-909213528,-1622290203,706171590,795064647,1194285818,-2132668118,-490956836,533420631,193734981,-250148838,286934616,171429873,1945192521,2107033287,-1746063392,1133667986,1958946303,149525137,1716851278,1857098487,-2093526930,143486353,-2038869199,-1121666438,-742174783,1966652827,-1291654931,-301782706,1879480579,862406219,1960335895,-491407091,102372134,197399064,-491324962,1960104514,1948076619,119836696,1954818699,-432873129,-525826552,-1943779226,-490874532,1824742112,-314657760,-332725125,861208170,1617140804,-1056853668,1960238066,1886266986,-115380262,-1730179000,350381823,184055362,919980304,759474304,251413082,-1734859156,1192291806,1959820024,373623637,1958841337,1814829018,-1315719964,1573194317,247249692,-688104520,422764513,-493309334,-1678749153,-491116115,-1534102475,434246984,-1104694301,1960207322,-1100723560,880900382,157858174,418309646,-1842611571,1728599233,241612247,765811,1710998779,-1889944912,657822756,583947307,1317925482,-1616897223,2140317599,-2146935636,-687787319,165076047,1218720720,-1654724407,-969025129,825147661,555950232,-800025972,-800026082,-1548375785,1944474852,693213247,44210966,-491220216,-2129610630,1944477456,-384834522,1092525164,-490967726,1954442297,6227500,1958952694,-446903369,1170791965,-1705537676,1960074723,-199059888,-594969342,1092525732,-79152512,1453576743,428759778,958972652,-683944604,1962758369,-1292251864,-367712992,-1467939141,237429373,732436672,-561116161,245910843,1132174693,-1002160908,140260817,636139637,1006419197,-731036394,-1607612348,1216810361,-715870924,634564698,636581029,-1973795475,552433729,1092521970,-491441614,-314493298,-862904315,1836357956,1836357963,-514880542,1836358400,1836358386,1836358018,1836358587,1092463527,493011473,269733095,-1209829788,-429193090,637329222,1346907936,732109100,1518242697,1751784578,2147292940,2063543092,-1086176955,5284468,1163280664,2053348490,-1272268463,-1442763527,-845989038,-1187528477,-1116582572,-1305302169,1310240702,-627197926,-62193807,419269818,904874593,-1459218035,-1730936391,888333705,-1775504236,-547348611,729644935,-401106327,-762239190,151723758,382716620,-1442746280,794081025,-1246497022,-254655130,-1437090671,1110235720,416869955,737045080,997608870,-1386589530,-1176344430,358398415,-137836300,-2015653604,-819359875,1109380917,-119658236,860469060,318117036,355686579,1075142387,-754360181,1221107879,-3835911,576905428,-993437972,2089560150,-1159136963,-1859219959,991392539,-849836242,1257115796,-648490867,-217807527,-1130833209,-693025592,1971350391,-2124555852,-22093371,697585595,659529698,-1676435180,1390358243,-729271345,-297138269,-1482478256,-1151377948,64329976,17620980,287627938,-967102468,-709699116,216682033,278884727,279086630,1438090318,-1340938978,1863218290,795037834,1132601145,1446262505,-448478653,925650786,88224026,-1476815509,5069217,-900382862,1401063123,1219981570,-1512286594,541886735,1300133261,1651370643,-316737027,1900097303,-1634354895,1319936531,-1869159924,-1350394463,-1700445464,838311789,-1752232526,215866768,-2051810034,838307548,-1715249128,42159926,-1313059826,-1274089388,-1541987426,-1829615581,-41589922,-305238904,1423241101,901290461,89549429,94412,-1338831267,1917690803,1325057590,-614970801,1243677898,1246276922,1067372763,-290355486,-1553171473,1424302183,1746079217,-1380779791,1426812565,2884256,1657400957,1801662866,-10098434,-1539575744,-414161362,-1654101335,1642337200,1804483947,98184739,657779986,1492119517,1815210730,1357141491,-821256273,1695561489,-694624023,-336160885,-622195220,1273391643,999244096,-90413073,1084370008,-819986704,1168119856,1449589274,-2105281944,959412036,-1597325688,-1719852599,-1623097129,-1990929477,-684582825,-1623508119,-2097585833,1040221088,604728035,-1636303862,178778117,-759016292,569886046,-2130992606,-559955239,-1692219724,814325323,460963588,-2007751563,1420056391,1336306543,732058688,-540121449,-738266004,-4484129,532997635,-1415287985,2146887486,-236078287,984765798,-649043907,130933275,-960585252,-2130492017,974142165,402969315,1740865842,118898063,890392317,-2064819823,968674285,1384465659,819304049,-1972875329,652958104,-1166546734,395561122,-349014082,-1228696714,1593070985,-1147815214,305543679,1415809704,-1002731512,725840534,1566846818,-990558203,-622548808,1156015046,749569138,-1057161707,-2021560122,-777666177,643543750,-273135202,-976727230,-481138711,-2132173458,-480936808,-706720272,-406455279,-1559852147,812211372,1920872094,-1191508489,-966099250,1223958887,-503537767,1996930399,2128216956,-326308073,-1819588186,1494591876,-1779958034,1458723987,-1437106433,-610079189,-2083000492,-805475850,1674764466,-1831541705,-926018200,-300815251,-1604629679,-768093181,-797806680,1530953869,439411975,-809737069,1853621252,913065572,1724365477,-1771202815,-725987221,-443493137,1714147688,384254346,1513396152,1364386994,-1249714489,749365875,778848305,1570854339,715827232,172218033,-1834374444,254271843,-1604659104,259655172,-666912512,-1922871213,2124736178,409905050,-1396629116,-155906696,-1109142996,-1444345676,-601007477,77584278,77582785,-625089838,-343724116,1993090742,350927528,1074689723,-697329065,-1568150484,-343179417,-1896897869,1043287344,-1207130602,679775271,-759097649,-1889897194,-1819822292,-46984238,-253922042,1888220931,549988581,-1849310227,-1890244644,-1028028873,2109220764,-168033684,884172522,944257045,598177822,746181800,497871959,-1603824259,-1322353715,-709502374,-1122525125,-1066628021,-1750624596,1542866623,620934486,26773602,1820805330,82175126,27066220,-789954107,-1897099772,511395456,659637952,-674367919,-1317483769,278423875,1977570669,865096752,1949735656,-1358716562,1590737861,-238277283,-1268327918,929068158,-81568933,-1882083958,-1140713733,-874395432,-1198377491,278299023,1418437905,475227700,-788439050,1208784540,561172628,1393695015,-1100533642,-652551008,460891315,618497820,1049478182,-914602637,-935467576,610031362,-1297139443,-1325726672,1094364427,-1485997820,187437503,-1711708170,-1963934112,1899252963,-1573992581,-1315344665,-158828078,-1812189621,40434371,-393506133,-1820630628,-1785575328,-1888075216,-1286936767,1420008878,-1267226996,-1141304126,-1804325368,753998450,-114223430,934273551,397123465,897029625,20186415,-1158360859,751064133,198229467,826903073,1520106315,-879585854,-50759490,1247822020,1339050333,1512991105,667314285,1349470497,-1580526224,45941309,1257239620,-1163083946,1588370192,-27600979,-1631056217,1196280965,-1115950060,-1989372735,536276431,1196079062,1561176180,1195734765,-1589731457,-2145885865,1523412279,-1201953141,-1607319250,-1570468243,1716246861,-1586196862,-1376877076,1290458667,-1983110874,-468011021,-268949968,-1362750340,-1900215457,-1676144203,-1944109635,1439662431,-1739978675,781433056,2001840301,1475738203,385892587,841849874,-1357758456,-59232459,-2129259923,769259747,750163467,-1739109668,-1013723900,553359642,-47105471,469642435,578806254,-2022440001,1055441348,602255620,543294545,836108395,-194229965,824924348,127348861,-1425642377,-591810998,-262491369,1498781343,1015418291,895870253,-1796524753,553234790,1449966762,-1095163416,-230788466,299770597,189511845,1129690964,1412439717,-999402100,-89933225,1318117395,1586518666,-1695258474,1129566112,1650545645,1401255670,136031977,-5823407,1732406165,1472201575,-1606725197,1961642634,-1852068165,-843263326,33174348,-1539856791,-1839941177,807459237,1488407690,-1083244533,-1384400600,-1805895656,1593668386,-402686585,759195081,517235296,1238633778,1228336642,-852840487,1867855803,-1621054678,206874899,276055227,-1802821647,1369633976,1941939869,195433815,-887783899,-1874279269,1345515416,724154928,367620560,315797357,-769090639,-1030290575,733423640,948656948,-2095614344,-979034491,604299998,-1286818951,157523280,-1820115731,-1364795856,-1169410267,-530514988,238994124,-1541824771,1233412671,2040437931,-1199783815,-820086639,-1811772596,-1982857861,1196591919,-1804290196,-412999359,-357489178,-315728769,-1054765374,-2111558749,-210465886,55500651,-222639195,954831369,1029592250,1316901956,1936073764,-627019113,-2041585638,36195083,165342777,1043862453,836405706,-2096143678,-511983636,-985793749,-498223473,-959162817,-1386252802,-596229862,800900474,-1867040759,-1670236934,-1584292006,-50362567,-412436254,-901823866,390250790,-799255408,1673796497,2134475583,1945066428,-1957835790,2010480882,-1524530148,-197871947,-16128098,-1870178476,1064467713,1807699073,-688371173,1998353894,-1867165611,1859110046,1200194005,-1595476053,1261053214,1624830705,1924463642,1424035099,566947621,1257352412,-1485517901,-1747413972,578131668,-1056510720,-750916716,1193735649,492186740,1224371652,1704423192,-396248961,408472721,-666670490,-975577861,637893526,-1700470940,1578361108,-1597984251,681718852,1162215102,-436328874,295258063,389447163,-1735286984,1593061883,1698498440,295382915,682176251,1684943801,-291319055,1077120826,643953174,-1911674942,1183345744,-107283691,-892645774,1798482513,609199300,1708952674,1598067101,-358232992,-1545370527,1520842578,1484009988,457214304,1673088930,-808353129,1897819913,291815236,357969711,1318159600,1101528235,2121259819,1322879452,-1902986462,-1257443365,-1924913868,-1643795170,2023209700,-1471019544,236508969,740911315,276590019,2014819591,943328472,-1165229188,-948647869,-1974646424,-1352092009,-1320871365,-1268342161,292016437,-1963515313,-1018264856,1419108883,-542327761,1622179306,-1754580679,1449581457,2144346636,-56939565,-318270808,-322046836,-759864802,817982329,-1906670528,1175819335,-1365078390,-452879210,1320182600,861069853,-856617930,-84631013,627381874,310739487,2140819378,166090401,-1794048313,-1272412328,-105599157,-1494100414,1722127826,611861801,-1309588120,1660503800,-999136582,-96804322,91329520,-835763984,-335296257,-1668683145,1257405172,1097464462,-1604610920,-2017994196,1032158656,237036306,-2130605305,1006387215,-1111437025,54225677,-322769524,-105474305,-1393337968,-316230686,-1305768006,-1100846713,-611931914,-97609851,516020970,-596246525,725801259,-296670904,-347017994,-98393673,2126954108,-1319730669,-1531733208,-1757581764,288368135,1142572374,-690433328,-2072681883,1547349156,2127301558,-1322459828,-86425804,-734319205,-1956916416,-1474281139,341221682,-2034544026,232299224,-1406209676,957763361,1962008533,-1239936648,-605583123,308651777,-972229818,-1855468376,-1601770231,1312534235,1942294604,-905535461,-1892156515,-1679502074,-744697771,1388656898,-168472872,-1604636601,93801367,-1785095942,-168674775,1658663856,-1560287043,1587717951,1145851742,1130902218,-925112698,-1093251154,639006705,1663139405,972183205,-420628492,663453423,-982480589,-2046939370,-1704303907,1459452922,-826104454,498027608,902125101,-1775249812,334947328,-1563956603,2031154314,-1294147331,-2112449659,1228026196,-1864471412,628298178,-2100322671,817878875,-2046814518,512284871,1289491099,1336394467,-1764065765,-1208445791,-2044452853,1630695261,100577154,1011008852,-159913064,-1850010693,-1021748513,1508067797,-1882338195,-528059022,-746205421,668400700,889772278,-691467908,553576356,-311083485,100090396,1915541680,-394833333,658221715,-781361827,977347400,1010907913,-965498200,-1477561413,2125403209,693176045,-1757991082,-767285355,388918590,-983856152,1609586967,-1733903784,-936375720,-90401086,65927472,624998279,800651100,1724536852,1157361753,1509156525,-1399375971,1762481783,1290897150,1592906373,82942655,-2028076094,-184261715,-809915543,1406962323,1838133887,1508800893,-1198722194,1945470645,1458941891,-295127680,545005892,-1525890463,-1002363603,-1198598627,2116100375,44929458,-2032901429,1871229967,-1513135312,-228109808,1198160077,1366172057,-433185873,-166725392,1937327675,1580645663,1491115824,-1004807133,-1195215159,881666002,-905543624,1721383954,1216492260,1380230251,-980742817,-1383310288,854051725,1570764118,-388076699,-13748385,-1037492612,-910297800,-458072021,-1654999846,1824225070,70001463,826140226,-2122591564,-327146545,-1582371341,-1315373279,2058864594,705157339,1085596954,-1141791611,677503451,-948480437,-262792388,-1935230142,-1957463301,1667102824,-2065446495,1013569305,1415044122,-1646880135,-1114578195,-1546036952,1056996019,444328815,-1718202084,-706771034,166940356,-435081476,-855848865,-364135571,-2011011093,1619724328,1290278417,1487433587,-545346416,579159178,1516243619,701073195,226240717,-487840750,-423897429,-706646182,1250390724,1121431797,1978362199,-578375525,-151477816,1596365421,1133558785,-540798382,1725206809,-1723325045,-2144118712,-2046678708,-416603702,-1833135383,-20108554,354990432,417072424,1261194440,-777321825,1522355337,683872299,893553540,-1283589516,1081921166,-1065248777,-1248384206,1241147701,-270619142,-1718137987,-1407759388,-567848905,934284286,-2090790163,-1776951765,-1055704070,1702395847,-1341982956,-1847907291,984707036,-690990164,1336692515,-1407884240,-1210955563,-1614182747,-1079153436,1940534358,-524055561,-1536523315,-1125010635,1378172029,-432545643,608865353,-1099855578,-1520325000,1814085579,-1257818075,1298919649,1324897549,-1678114930,-281712875,-1335255735,695999287,-1159231914,1928361049,-235113735,1635820134,-1715169355,-1753308894,1743071403,-1136194682,-149157353,-224808111,804921745,1688759879,1441200906,-639503140,-382044660,1558746931,1166657704,1166455801,-392555484,911435918,1806177962,-1911633399,1796119981,911416640,2014750906,-465705296,-124696801,-1810300130,-347292384,-266644243,1166111504,-555753292,1077328531,1632653655,1769326955,-996660094,-349847011,-146881358,604644430,-584012108,-63131510,616771418,-1195177028,-1027905321,-1157144290,-1108898742,-1404189345,-1437754749,-1549423224,-1421142230,-924839930,-1600841821,1671835189,581085282,-1584094691,-779274578,-654958013,395618721,-1907079259,1378629186,808558627,-751832735,1922053738,-751844252,433680378,112731840,400069135,218636552,1277363133,366609480,-1409877219,-2080468353,-777615693,576986587,-116983500,1544347094,1531478028,-47906352,-1156621034,417697605,305364295,1804893472,-33233652,-945841100,-165082538,1131382518,-139072352,-1027116557,-808896815,1640661859,1483185217,-1697898310,1497642110,2060597104,1991499580,-423556075,-272469959,-1129476534,-1118292487,1429979345,-1401041240,-1091955018,-892646663,203528002,-449983390,-662931323,-889252060,791442904,-753368262,-333062690,755388827,1160165609,1213324572,-2112097347,-1923463459,-1039243545,174830399,-1401166092,-1861491364,-649521277,1544955103,575289452,-1058530629,-1588294177,-2081560608,-578063963,-1204237415,-2026140965,-264870242,422995690,1531306546,-153337074,-523223813,680052077,2068674121,-1978890393,647153032,956994007,1951333991,-2127635272,-1993734986,-188223733,-1080567663,-996817815,551934259,956711041,956954649,1408864225,770648606,-2093441811,-246301671,1859286909,-97833389,-1528518633,176699057,-869973815,-833414821,498511620,-1381858660,316261716,-881799403,2008001355,-1937573524,1187374979,-970955095,-983082083,-1374166928,-1393796365,1271124827,-695441057,-1885513661,-303170065,-1440099701,1654920985,-1523079700,1137132744,-312631130,-1832649093,-340913525,1451339759,949919357,1702817522,-1124522066,1935675360,-497046419,1024680238,-805269025,-1915535050,-51252049,753460808,-838475595,-846314166,-1038068677,602146324,267077041,-617068718,1746593101,1165451421,-1854185807,-547006710,-887567378,-1431632672,-778644920,-1543155113,1660518613,-1890050147,-1772394853,-952372819,-220155855,693887621,1966551414,1191222862,-461822324,-1638498318,-454170654,-561658769,1931646464,-2120713675,1882801566,539218768,-1430802379,1968561846,-1327438781,-1439437265,738620104,-796848455,-1723697886,1868949652,965539237,1139385819,195495723,819587809,1964085457,159700318,1788973091,599650456,-757079457,-648156999,-1202214564,1139476709,-616224170,396929905,421898022,-332527159,-296972930,1697571549,1055726861,992617917,195294522,706341839,-1747151474,1101570173,-1703533698,-715468763,1221638886,941381117,156921394,-1730870343,-39360735,1328945540,1588671593,664727260,61112025,-278885300,-1600295105,-668725530,1887232014,-1855437776,1043732601,-263227586,-2106688936,-195544235,1588546741,2009184481,604257032,1073075953,1654280043,359149335,256765250,1060902644,609184130,834937442,-1576845739,1069504042,1785475418,-273070345,1931182204,649207187,547527720,758947206,1759473212,-1111735174,1860236299,1871420346,124012587,1030440143,320632194,-1312014076,719656591,1314673861,1343080263,855897211,2030362277,-1407361295,-556731386,1597838441,-1153565366,167236805,-1593009220,-2129613917,829378621,298967547,499382959,2010011042,-1231423422,-144558785,-1780979558,1845132926,-652875878,-2086573562,735493567,1418256171,-168678590,-348343990,-790560670,1429440218,195484944,1144192053,57286612,-507334727,808374923,1146691465,-1931728299,-1841789823,1146566613,-2030100683,843183105,2098683494,1489202076,186071575,-1079709666,1859999161,2110810482,674360350,-1612935931,1772407801,-260646280,-132906335,490366107,-2051665959,-694571409,2003423630,-1069617511,1970441900,1405991758,1654701013,-2055896654,594156898,-552790511,218183825,-1161238316,-780249463,2073471708,-2144269075,7102540,-1964995217,-363011980,1912162693,-1640611896,-1959049911,-758164839,1912510143,-176689317,1075574683,-1856072759,2139905229,412468649,-282783553,-1385869014,-194220096,1576876926,716978668,-7781377,1473483845,445687604,-1010128914,2074867991,647900547,-353729458,-800025306,1570951165,1363353650,1146525712,-212134476,762982937,762982936,1935438699,-217074494,-1632323105,-929154819,1785379530,-1166985058,-319630844,1219579077,-514823602,-777627889,-224002310,-868051521,-2100682371,1808089353,-852368019,1578502500,-223800407,-2100884274,1554245273,1745921439,971264423,-342545411,975177110,1350921104,1425558158,-841590218,1321175738,398106660,-1926819128,-544177523,-1395368148,-1918551590,-417094148,2049397802,1990541548,-333344300,-125116855,563856935,-667085384,-1682092917,-3658003,-1560982923,2136739466,862242110,-522994873,946809346,1392754720,1486312056,2025430100,-2041560715,381082627,308238143,1827768791,1613462688,-870788636,1427650432,1377572022,-1181945288,633034450,227425018,-1459124045,806242001,-484914923,1272639203,1603412700,1276633227,-114677632,1364485254,1403102505,-834149589,-246092240,795082889,143116590,1206298680,679287915,-2089595194,1174492887,-455144248,-849669662,-1349842479,1840360581,-429372807,-1777762149,878832737,-259234985,260596363,1614395379,1721998808,-1415189173,-298466617,-1328250990,1278802333,1206173828,-1921789440,-1415536623,-1213726426,1852533890,1477863386,-1142929509,-1093405835,1201276097,755100265,115588597,-548518100,-922467368,1697785788,362108990,-1898981385,-792452977,970314795,1434425340,-693587880,514850215,305562327,421550587,-585430027,-1113268613,-804473453,1919570346,-586828191,-604058041,-780713039,399668161,5346660,1923460101,-412593405,-1012245973,-418577906,-489523811,-1119531856,-761088517,-1567499596,531461644,190522159,-451449469,-1271480158,-107503351,-91346964,-2050194819,225867640,-845970681,1964097212,-273980088,-2136751567,-78403188,1023659939,1185711057,-1555372608,-1758236813,1152152386,-761213369,-886991958,1772976259,159946492,-1113342307,291457575,-1041073457,641498912,-2011012851,-1524837033,1421740921,2044171967,-1485873855,-2042086044,-1185616844,-1146026539,1643114225,-1945133888,392130344,-115824493,859290382,1878127272,1609050031,-2054259353,-1226808135,-505560440,-834867863,1946211441,-116452936,303364312,-1607472210,-44792974,-1223136046,-191213817,-1580995793,-1058209574,1914249918,1171026388,1346480378,334742044,1364527946,1996690651,1448277794,-2030358495,-1410628256,-797115303,1958723742,-443867263,-779845492,-2137182501,225819586,2001798513,-1653186972,-1166134669,1856325763,714760328,1011464591,-1515345970,374182064,773326080,2032693045,-1867748837,427695270,480251484,1804811067,-439789348,-819273056,-1413181532,-1841977396,394306556,-687775859,986066935,999291282,1992669988,469067437,197377879,1927294323,-1189584035,1104600558,2004784796,-1141410279,540013342,197502731,-1152008226,-1401054544,1496793538,1484666550,612511753,1682621770,1773758683,2091967226,1350933614,1766371618,530175109,-1602477020,-9212575,1824938135,-540037825,267676048,-1253862386,209435487,-93783904,651208771,1953647909,183050797,-1443744404,1886063455,876322868,497279764,-1279241618,1496788568,-679153788,117532700,-230189483,1910267644,1632341364,1614712894,1593643795,658119864,-991685765,1884340942,-144585777,-845720273,1433280311,-436436799,929742156,1188867013,1567872354,129365803,-1383102484,1256046830,1884233597,-1075435613,-276155540,-1032663966,1723265823,947233327,390557447,-1307806532,145229660,906573864,1751192565,1750845115,1410062415,923339762,2139879985,1639080373,887775447,2057771925,1449581859,486127597,1635865240,949111203,1397726729,-1463901032,-1596903663,-761099260,-2130901980,528814348,1442616108,930595379,544334421,-960160313,-1288802037,-749915213,687689908,-1032788818,1623691931,-3082448,408943850,1160310719,1991765360,-55061306,610862890,-949146847,1091895345,-341188103,523363963,-2008407206,579223291,-1337971585,1014345227,-27123449,-232265645,-835860141,-399278139,-1194484478,-353315091,261627121,-73552060,988466120,1780670190,702125630,1422920668,1114090941,1621981721,1350292163,-821489998,1715994379,-1984569523,-1458327426,89732452,-62272564,987779872,-2040025010,-1952791046,2098332852,1196958798,-699065118,-752168404,1735135723,1056746230,320439850,1765030778,110080545,1999817122,-1466348582,-2038769412,1931830661,435811675,1853225155,184915226,351434693,1672817312,597939642,-375926448,1684990621,-1286166721,2139565645,871424749,1637227122,17343875,-546458886,1931392432,192573533,-827995444,1758585089,1208705340,-645933406,-1458466677,-1268828912,-1549005765,-1528004281,459928755,1092241921,-1248699282,1903570198,-1958596179,-1958798082,2038595570,-718437059,-1533740458,-1885874008,1331996705,47512127,-1019294244,-718561911,-1533422674,1446852110,-1019295737,1015358039,-1676844840,-1956275162,652540793,2046733362,-446872353,1766534392,-290405499,-2127184488,1915872359,2058860350,-435688306,1074883297,731563885,-1533393008,-1461702430,-871812784,1642326470,-142104747,-521633234,-1966642251,-426270244,-850137360,-24426679,-830740404,652627845,1037337394,-1168380418,2046250774,-1810309670,-1414775651,1478333643,-1533396660,537023526,-382226192,-1126226104,-697356120,-1698628155,-28525801,-216761693,-767166878,-1586818235,-160093279,956467460,1912387342,-384225274,-568298607,-1829481312,-1242904856,1559534178,126848694,1135230444,1475784330,547952341,1087687704,293801045,-667922285,1828611150,-129970487,-1243106057,889683002,-693646746,1730125034,-914526578,-1182657390,-736803688,1223736479,665353147,-453930083,-307095251,-216038961,1406967903,1904463773,-930060705,-228165949,1645106414,-2047873156,-855505010,1632933105,-394168225,-2070771054,113470454,816465137,-417598396,-664175183,1233026710,507995868,1197407486,-244173414,1556471649,1532837765,-465114130,-857008928,-2094220420,-689472595,809840357,73447397,-736678836,1988213621,1014263559,-1609828372,-814622033,-539875011,533767309,-1204462263,-2093295596,2092712252,-956893885,-52527123,-814507054,-97940695,1143391748,443264390,-817034067,1150945546,40283426,500729859,-1337055501,737047030,-845580247,1813313752,832233072,115044307,186704269,-857753556,-894966764,695016109,33125723,453422578,-2029578867,739601162,859359401,1174723098,10888953,-22892237],"githubPath":null,"filteringEventAttributeValue":null,"filteringUserAttributeValue":null,"filteringConsentRuleValues":null,"consentRegulationFilters":[49,50],"consentRegulationPurposeFilters":[-575335347,402384271,1415613907,-30376365,549697375,-574565342,1899775907],"messageTypeFilters":[1576],"messageTypeStateFilters":[49,50,51,52,53,54],"eventSubscriptionId":71729,"excludeAnonymousUser":true,"suffix":"v4"});;
; window.mParticle.config.kitConfigs.push({"name":"BranchMetrics","moduleId":80,"isDebug":true,"isVisible":true,"isDebugString":"true","hasDebugString":"false","settings":{"branchKey":"key_test_hcbJ422O399OMRxeK0cdejmexFeUuUsA","forwardScreenViews":"False","enableAppleSearchAds":"False","userIdentificationType":"MPID"},"screenNameFilters":[],"screenAttributeFilters":[],"userIdentityFilters":[],"userAttributeFilters":[-1762532522],"eventNameFilters":[1068406949,240719405,-812578662,2018909709,-150997144,-172505940,1646001894,1474472954,-201014632,-1737715686,1786219045,-1726830677,1358236610,2029234026,-1059072988,1486708977,967619494,-239187730,2123437006,97417185,-417601226,-2046076773,943587829,1774217185,-1066814959,-824461217,-1309875585,-1530927694,370219313,971452055,186915126,2096620524,657973127,-1327653589,201325451,812894396,-1280761428,1051534778,-1605733172,1779346754,1911584711,1960449984,-1687198419,-1767153751,-1589109517,-673147288,1417977541,-846697158,2016451234,1473735259,-511859379,-1676949044,-1306935450,1161002535,-1719351538,1642621179,-1010834688,-1082159225,1072351970,1876466837,1484846760,-609830743,1234377734,1782891,-1674948909,65261958,1182377340,-755728868,-1365617759,1885508460,1733687479,-1323693817,901125656,67672061,-878178991,-550768808,565187854,-1598253162,1834292462,901333808,542113096,-740676751,-814693902,1920270417,-398492773,-1344684854,-717486000,1830605306,-1061210730,414544928,778052089,1439165120,-1691507490,-890948060,559762426,2118287026,-1588178197,-1391078810,690207148,-109180619,452655899,-1142160888,135887826,-1278542248,-1854164749,1024720954,-430697643,-999668236,-46778775,1010639316,-1072155885,270488202,-55523739,-1432067066,-155308149,-755721523,-1618847771,-107501982,-37123497,-2071428582,408985195,-1163201655,1578840273,-1535579643,-1339814600,-246380120,543913334,-1204694389,-995912719,-848684000,6651434,-2005557111,1074535386,-778020967,-753048137,2077011921,2029418112,1421258568,1288124016,1306494341,1205792535,1678956960,-972138045,128740736,1977138365,525572141,1079837396,-2018225054,-644707765,1406077779,-941885471,-578789384,1602831429,-1458276551,179055253,420535762,640878788,-1682353858,-423444986,1297704654,554652287,-1287309014,-485427716,-2026104416,597083050,-1729715723,1897553369,1016434905,47923475,-1462502751,16811440,252254673,-957834076,-592986428,-1347005195,-1083366987,2073437850,-1860482751,-1273475305,96449783,-1017764455,1622608990,1079423478,786689086,-34352408,357112627,1260247618,-1964475389,-704236942,2144736991,378402908,250894540,1700124002,1701861703,-1959781791,-961364219,-1036813620,-1391244921,-1947840018,-594995127,2019278436,556051953,422106548,-677168564,-1228231249,-803575889,214257388,-1269909335,1457926920,1522752920,-825507987,1522833075,1005917565,-1780248337,-2006363877,851139792,1428883623],"eventTypeFilters":[48,49,51,52,53,54,55,57],"attributeFilters":[1762481783,1290897150,82942655,-184261715,-809915543,1406962323,1838133887],"githubPath":null,"filteringEventAttributeValue":null,"filteringUserAttributeValue":null,"filteringConsentRuleValues":null,"consentRegulationFilters":[],"consentRegulationPurposeFilters":[],"messageTypeFilters":[],"messageTypeStateFilters":[],"eventSubscriptionId":67837,"excludeAnonymousUser":false,"suffix":null});;
window.mParticle.config.requestConfig = false;;
mParticle.init('us1-7256f75ca500a44fb414709cbc8f046e', window.mParticle.config);;